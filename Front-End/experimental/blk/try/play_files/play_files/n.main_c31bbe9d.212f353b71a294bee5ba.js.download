(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+MB7":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var a={Toast:{type:"food",profits:[0,1,30,300,1e3,2e3],prices:[0,300,5250,42500,13e4]},Cereal:{type:"food",profits:[0,10,150,1500,5e3,1e4],prices:[5,1500,26250,212500,65e4]},Yogurt:{type:"food",profits:[0,30,450,4500,15e3,3e4],prices:[10,4500,78750,637500,195e4]},"Breakfast Combo":{type:"food",profits:[0,60,900,9e3,3e4,6e4],prices:[50,9e3,157500,1275e3,39e5]},"Orange Juice":{type:"food",profits:[0,100,1500,15e3,5e4,1e5],prices:[200,15e3,262500,2125e3,65e5]},Milk:{type:"food",profits:[0,150,2250,22500,75e3,15e4],prices:[500,22500,393750,3187500,975e4]},Waffle:{type:"food",profits:[0,210,3150,31500,105e3,21e4],prices:[2e3,31500,551250,4462500,1365e4]},Pancakes:{type:"food",profits:[0,280,4200,42e3,14e4,28e4],prices:[5e3,42e3,735e3,595e4,182e5]},"French Toast":{type:"food",profits:[0,360,5400,54e3,18e4,36e4],prices:[7500,54e3,945e3,765e4,234e5]},level:{name:"Café Level",type:"item",multipliers:[1,1.5,2,2.5,3],prices:[0,2500,25e4,25e5,25e6]},time:{name:"Wait Time",type:"item",times:[0,2,3.5,5,6],prices:[0,1e3,15e4,1e6,1e7]}},o={pay:{name:"Paycheck Bonus",price:500,percent:.05,color:"#2ca02c",icon:"fas fa-hand-holding-usd",desc:"Give a player +25% of their balance"},crate:{name:"Supply Crate",price:1e3,percent:.1,color:"#ff7f0f",icon:"fas fa-parachute-box",desc:"+7 stock of all your foods"},happy:{name:"Happy Customers",price:2500,percent:.125,color:"#b3dc23",icon:"fas fa-grin-alt",desc:"Your next 5 customers pay double"},trash:{name:"Trash the Food",price:5e3,percent:.15,color:"#7f7f7f",icon:"fas fa-trash-alt",desc:"Lower a player's food stocks by 3 each"},tax:{name:"TAXES!!!",price:7500,percent:.25,color:"#1f77b4",icon:"fas fa-funnel-dollar",desc:"Reduce a player's balance by 25%"},inspect:{name:"Health Inspection",price:1e4,percent:.275,color:"#d62728",icon:"fas fa-file-medical",desc:"Force a player to get a 12s health inspection"},back:{name:"Run It Back",price:15e4,percent:0,color:"#0bc2cf",icon:"fas fa-sync-alt",desc:"Be able to buy all your abilities again"}}},"/ywV":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return n}));var a=r("1Xi1");function o(e,t,r,o,n,s,i,c,l,u,f,p,h,d,m){return{type:a.b,cafeId:e,setId:t,resultId:r,hwId:o,hwGoal:n,questions:s,cafeCash:i,day:c,foods:l,items:u,corrects:f,incorrects:p,foodServed:h,stage:d,foodStocks:m}}function n(){return{type:a.a}}},"1Xi1":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var a="DELETE_CAFE",o="SETUP_CAFE"},"6GJI":function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".styles__left___2ych4-camelCase{height:85%;top:6%;padding:1.5% 1.25vw;left:2.5vw;overflow-y:auto;overflow-x:visible}.styles__left___2ych4-camelCase,.styles__standingContainer___2pLtr-camelCase{position:absolute;width:35vw}.styles__standingContainer___2pLtr-camelCase{height:8vh;background-color:#ac7339;box-shadow:inset 0 0 0 .5vw rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);padding:.5vw;border-radius:7px;border-radius:8;display:flex;flex-direction:row;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:opacity .2s,transform .2s}.styles__standingContainer___2pLtr-camelCase:hover{opacity:.4}.styles__placeText___qzwAf-camelCase{text-align:center;padding:1vh 0 1vh .5vw;min-width:2vw;line-height:6vh;text-align:right}.styles__placeText___qzwAf-camelCase,.styles__superPlaceText___26fA4-camelCase{color:#fff;font-family:Titan One,sans-serif;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__superPlaceText___26fA4-camelCase{text-align:left;width:1vw;font-size:1.3vw;margin-top:4px;margin-left:1px}.styles__blookBox___1gw4X-camelCase{margin-left:1.5vw;width:6.25vh;height:7.1875vh;margin-top:.40625vh;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__nameText___1wwmo-camelCase{padding:1vh 1vw;text-align:left;flex-grow:1}.styles__cashText___AyRYZ-camelCase,.styles__nameText___1wwmo-camelCase{font-weight:700;color:#fff;line-height:6vh;font-family:Nunito,sans-serif}.styles__cashText___AyRYZ-camelCase{padding:1vh 1.5vw;width:7vw;text-align:right;overflow:hidden}.styles__chatroom___1Em3I-camelCase{width:55vw;height:calc(65% - 30px);position:absolute;left:42.5vw;top:7.5%;padding:15px 0;background-color:#ac7339;box-shadow:inset 0 0 0 .5vw rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);border-radius:8px;overflow:hidden}.styles__chatroomInside___1vwt--camelCase{width:100%;height:100%;overflow:hidden;overflow-y:scroll}.styles__invisibleScrollbar___3gLXp-camelCase::-webkit-scrollbar{width:0}.styles__noAlerts___3-5Xs-camelCase{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-content:center;text-align:center;color:#fff}.styles__noAlertsIcon___kyFRO-camelCase{font-size:8vw;margin:0 auto 2vh}.styles__noAlertsText___fOSAw-camelCase{font-size:3vw}.styles__noAlertsText___fOSAw-camelCase,.styles__totalCashText___3SuJL-camelCase{font-weight:700;font-family:Nunito,sans-serif}.styles__totalCashText___3SuJL-camelCase{color:#fff;background-color:#ac7339;box-shadow:inset 0 0 0 .5vw rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);border-radius:6px;text-align:center;position:absolute;left:45vw;top:80%;width:46vw;height:calc(15% - 2vh);padding:1vh 2vw}",""]),t.locals={left:"styles__left___2ych4-camelCase",standingContainer:"styles__standingContainer___2pLtr-camelCase",placeText:"styles__placeText___qzwAf-camelCase",superPlaceText:"styles__superPlaceText___26fA4-camelCase",blookBox:"styles__blookBox___1gw4X-camelCase",nameText:"styles__nameText___1wwmo-camelCase",cashText:"styles__cashText___AyRYZ-camelCase",chatroom:"styles__chatroom___1Em3I-camelCase",chatroomInside:"styles__chatroomInside___1vwt--camelCase",invisibleScrollbar:"styles__invisibleScrollbar___3gLXp-camelCase",noAlerts:"styles__noAlerts___3-5Xs-camelCase",noAlertsIcon:"styles__noAlertsIcon___kyFRO-camelCase",noAlertsText:"styles__noAlertsText___fOSAw-camelCase",totalCashText:"styles__totalCashText___3SuJL-camelCase"}},"8u0o":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a="LEAVE_CAFE_SHOP"},"983D":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return c}));var a=r("H1WH"),o=r("N+r3"),n=r.n(o),s=[{elementId:"customer",text:"Your Café has a customer! He wants 2 pieces of Toast.",nextButtonText:"Next",className:n.a.customer},{elementId:"customer",text:"You have until that colored bar is empty to serve the customer. Fail to serve 3 customers in a day and your game is over.",nextButtonText:"Next",className:n.a.customer},{elementId:"plate1",text:"Toast usually goes here, but right now we don't have any.",nextButtonText:"Next",className:n.a.plate},{elementId:"restock",text:"Luckily, we can restock our food by clicking this button".concat(a.isMobile?"":" (or by pressing the space key once the tutorial is over)",". Go ahead and click it now!"),elementClick:!0,functionIndex:0,className:n.a.restock},{elementId:"restock",text:"Usually you'll have to answer a question correctly to restock your food, but we'll skip that for now. Go ahead and click again to get the 2nd piece of toast.",elementClick:!0,functionIndex:0,className:n.a.restock},{elementId:"plate1",text:"Now that we have 2 pieces of Toast, we can click once to select them. Click it now!",elementClick:!0,className:n.a.plate},{elementId:"customer",text:"Now that you have the food selected, just click anywhere on the customer to deliver it!",elementClick:!0,className:n.a.customer},{text:"Perfect! You just made $2! After the day is over, you can use this cash to upgrade your Café.",nextButtonText:"Next",className:n.a.centered},{elementId:"customersText",backgroundColor:"#9a49aa",text:"You can tell how many customers are remaining in a day by that number in the top right of the header. Now, it's time to open your Café! Good Luck!",nextButtonText:"Open Café",className:n.a.topRight}],i=[{elementId:"customer",text:"Your Café has a customer! He wants 2 pieces of Toast.",nextButtonText:"Next",className:n.a.customer},{elementId:"plate1",text:"Toast usually goes here, but right now we don't have any.",nextButtonText:"Next",className:n.a.plate},{elementId:"restock",text:"Luckily, we can restock our food by clicking this button".concat(a.isMobile?"":" (or by pressing the space key once the tutorial is over)",". Go ahead and click it now!"),elementClick:!0,functionIndex:0,className:n.a.restock},{elementId:"restock",text:"Usually you'll have to answer a question correctly to restock your food, but we'll skip that for now. Go ahead and click again to get the 2nd piece of toast.",elementClick:!0,functionIndex:0,className:n.a.restock},{elementId:"plate1",text:"Now that we have 2 pieces of Toast, we can click once to select them. Click it now!",elementClick:!0,className:n.a.plate},{elementId:"customer",text:"Now that you have the food selected, just click anywhere on the customer to deliver it!",elementClick:!0,className:n.a.customer},{text:"Perfect! You just made $7!",nextButtonText:"Next",className:n.a.centered},{elementId:"upgrade",text:"You can now use this money to upgrade your Café! Go ahead and click that button to go to the Upgrade Shop!",elementClick:!0,functionIndex:1,className:n.a.restock}],c=[{elementId:"upgrade2",text:"Look! The green price indicates that you can afford cereal! Go ahead and click on it to buy it!",elementClick:!0,functionIndex:0,className:n.a.cereal},{text:"Great work! Buying upgrades helps you make more money! Below the upgrades you'll also find abilities to help you win.",nextButtonText:"Next",className:n.a.centered},{elementId:"shopButton",text:"Now go back to your Café to keep serving customers. Make sure you visit the Upgrade Shop frequently!",elementClick:!0,functionIndex:1,className:n.a.back}]},AKvB:function(e,t,r){var a=r("MX1h");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},C16J:function(e,t,r){var a=r("fB4R");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},CCJB:function(e,t,r){var a=r("T4uf");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},CXev:function(e,t,r){"use strict";var a=r("q1tI"),o=r.n(a),n=r("ANjH"),s=r("/MKj"),i=r("17x9"),c=r.n(i),l=r("55Ip"),u=r("H1WH"),f=r("oPOS"),p=r("E8Bj"),h=r("/ywV"),d=r("ZrUs"),m=r("C16J"),y=r.n(m),_=r("Xst1"),v=r.n(_),b=r("oQ+7"),g=r("XTAU"),w=r("2ZNs"),x=r("pQbs"),C=r("dLfW"),k=r("Zyrn"),S=r("74sb"),O=r("5BnW"),j=r("t3SV"),E=r("28sW");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */T=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof p?t:p,s=Object.create(n.prototype),i=new S(o||[]);return a(s,"_invoke",{value:w(e,r,i)}),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var m={};c(m,n,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(O([])));_&&_!==t&&r.call(_,n)&&(m=_);var v=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;a(this,"_invoke",{value:function(a,n){function s(){return new t((function(o,s){!function a(o,n,s,i){var c=u(e[o],e,n);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==N(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,s,i)}),(function(e){a("throw",e,s,i)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,i)}))}i(c.arg)}(a,n,o,s)}))}return o=o?o.then(s,s):s()}})}function w(e,t,r){var a="suspendedStart";return function(o,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw n;return j()}for(r.method=o,r.arg=n;;){var s=r.delegate;if(s){var i=x(s,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=u(e,t,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,a(v,"constructor",{value:d,configurable:!0}),a(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,s,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,a,o,n){void 0===n&&(n=Promise);var s=new g(l(t,r,a,o),n);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),c(v,i,"Generator"),c(v,n,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var i=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t,r,a,o,n,s){try{var i=e[n](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function A(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,R(a.key),a)}}function R(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==N(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return H(this,r)}}function H(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e,t){return t?o.a.createElement("div",{className:y.a.stageText},"$".concat(Object(S.u)(e.cash))):o.a.createElement("div",{className:y.a.stageText},"Day ".concat(e.day))},z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(c,e);var t,r,a,n,s,i=G(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={ready:!1,numCorrect:0,numQuestions:0,standings:[],plus:!1,foodServed:0,cafeCash:0,message:"",name:"",me:{},isBlocked:!1},t.here=!0,t.stats={},t.saveStats=t.saveStats.bind(D(t)),t.renderStats=t.renderStats.bind(D(t)),t}return t=c,(r=[{key:"componentDidMount",value:(n=T().mark((function e(){var t,r,a,o,n,s,i,c,l,u,p,h=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if((t=e.sent)||this.setState({notLoggedIn:!0}),this.props.cafe&&"final"===this.props.cafe.stage){e.next=6;break}return e.abrupt("return");case 6:if(this.isSolo=!this.props.cafe.mode,this.isHw=Boolean(this.props.cafe.resultId),this.isSolo||this.isHw||this.props.liveGameController.setVal({path:"c/".concat(this.props.client.name),val:{c:L({},this.props.cafe.corrects),i:L({},this.props.cafe.incorrects)}}),this.isHw&&(r=Object(S.d)(),j.a.put("/api/results",{t:r,data:{corrects:this.props.cafe.corrects,incorrects:this.props.cafe.incorrects,day:Number(this.props.cafe.day),alive:!1}}).catch((function(e){return f.b.logError(e)}))),a=0,o=0,Object.values(this.props.cafe.corrects).forEach((function(e){a+=e,o+=e})),Object.values(this.props.cafe.incorrects).forEach((function(e){o+=e})),n=this.props.client&&this.props.client.blook?this.props.client.blook:Object(S.o)(Object.keys(k.a)),s=this.props.client&&this.props.client.name?this.props.client.name:"You",(i=this.props.client&&this.props.client.standing?JSON.parse(JSON.stringify(this.props.client.standing)):[{name:s,blook:n,place:6-this.props.cafe.items.level,day:this.props.cafe.day,cash:this.props.cafe.cafeCash}]).sort((function(e,t){return e.place-t.place})),-1!==(c=i.map((function(e){return e.name})).indexOf(s))){e.next=22;break}return this.setState({isBlocked:!0}),e.abrupt("return");case 22:if(l=i[c].place,this.stats={place:l,day:this.props.cafe.day,cafeCash:i[c].cash,playersDefeated:this.props.cafe.mode?this.props.client.standing.length-l:0,foodServed:this.props.cafe.foodServed,correctAnswers:a,blookUsed:n,nameUsed:s},u={numCorrect:a,numQuestions:o,day:this.props.cafe.day,foodServed:this.props.cafe.foodServed,cafeCash:this.props.cafe.cafeCash,message:Object(C.a)((l-1)/5),ready:!0,standings:i},!t){e.next=31;break}if(this.saveStats(t.name,(function(){})),this.here){e.next=29;break}return e.abrupt("return");case 29:this.setState(this.props.cafe.mode?{name:t.name,plus:"Starter"!==t.plan||this.props.client&&this.props.client.plus}:L(L({},u),{},{name:t.name,plus:"Starter"!==t.plan||this.props.client&&this.props.client.plus})),this.props.cafe.cafeId&&(p=Object(S.d)(),j.a.delete("/api/cafes",{params:{t:p,name:t.name,id:this.props.cafe.cafeId,setId:this.props.cafe.setId}}).catch((function(e){f.b.logError(e)})));case 31:this.props.cafe.mode?this.readyTimeout=setTimeout((function(){h.setState({ready:!0,numCorrect:a,numQuestions:o,foodServed:h.props.cafe.foodServed,cafeCash:h.props.cafe.cafeCash,me:i[c]})}),4750):t||this.setState(u);case 32:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function s(e){B(o,r,a,s,i,"next",e)}function i(e){B(o,r,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.readyTimeout),this.props.deleteCafe(),this.props.deleteClient(),this.here=!1}},{key:"saveStats",value:function(e,t){var r=Object(S.d)();this.isSolo?j.a.put("/api/users/cafestats/solo",{t:r,name:e,place:this.stats.place,day:this.stats.day,cafeCash:this.stats.cafeCash,foodServed:this.stats.foodServed,blookUsed:this.stats.blookUsed,nameUsed:this.stats.nameUsed,correctAnswers:this.stats.correctAnswers}).then(t).catch((function(e){return f.b.logError(e)})):j.a.put("/api/users/cafestats/live",{t:r,name:e,place:this.stats.place,cafeCash:this.stats.cafeCash,foodServed:this.stats.foodServed,blookUsed:this.stats.blookUsed,nameUsed:this.stats.nameUsed,correctAnswers:this.stats.correctAnswers,playersDefeated:this.stats.playersDefeated}).then(t).catch((function(e){return f.b.logError(e)}))}},{key:"renderStats",value:function(){return o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(x.a,{title:"Food Served",stat:Object(S.n)(this.state.foodServed)}),o.a.createElement(x.a,{title:"Final Cash",stat:"$".concat(Object(S.n)(this.state.cafeCash))}))}},{key:"render",value:function(){if(this.props.cafe&&(this.props.cafe.resultId||this.props.cafe.mode)?this.redirect=!1:this.state.notLoggedIn&&(f.b.logError("FinalPageContainer cannot render if this.state.notLoggedIn"),this.redirect=!0),this.props.cafe||(f.b.logError("FinalPageContainer cannot render without this.props.cafe"),this.redirect=!0),"final"!==this.props.cafe.stage&&(f.b.logError("FinalPageContainer cannot render if this.props.cafe.stage !== 'final'"),this.redirect=!0),this.redirect)return window.location.href="".concat(E.a.play,"/play"),null;var e=this.props.cafe&&this.props.cafe.resultId;return o.a.createElement("div",{className:u.isMobile?v.a.mBody:v.a.body,style:{backgroundColor:"#0bc2cf"}},o.a.createElement(g.a,{title:"Play Café | Blooket",desc:"Serve delicious food to Blooks by answering questions, and make money to upgrade your Café."}),o.a.createElement(b.a,{noRight:!e,rightText:"Play Again",rightLink:"".concat(E.a.play,"/play")}),this.state.ready?this.props.cafe.mode?o.a.createElement(w.a,{standings:this.props.client.standing,name:this.props.client.name||"You",numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.props.client.plus,myStat:"$".concat(Object(S.n)(this.state.me.cash)),saveStats:this.saveStats,renderStandingStat:function(e){return U(e,!0)},renderStats:this.renderStats,corrects:this.props.cafe.corrects,incorrects:this.props.cafe.incorrects,questions:this.props.cafe.questions,blockAccounts:!this.props.client.allowAccounts,tokenMultiplier:.75}):o.a.createElement(w.a,{standings:this.state.standings,name:this.props.client&&this.props.client.name?this.props.client.name:"You",numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.state.plus,myStat:"Stayed Open for ".concat(this.state.day," ").concat(1===this.state.day?"Day":"Days"),saveStats:this.saveStats,renderStandingStat:function(e){return U(e,!1)},renderStats:this.renderStats,customMessage:this.state.message,corrects:this.props.cafe.corrects,incorrects:this.props.cafe.incorrects,questions:this.props.cafe.questions,blockAccounts:!this.props.client||!this.props.client.allowAccounts,tokenMultiplier:.9}):null,this.state.isBlocked?o.a.createElement("div",{className:v.a.blockedText},"You were blocked from this game."):null)}}])&&A(t.prototype,r),a&&A(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);z.propTypes={cafe:c.a.object,client:c.a.object,liveGameController:c.a.object,deleteCafe:c.a.func.isRequired,deleteClient:c.a.func.isRequired,user:c.a.object};t.a=Object(p.c)(Object(l.f)(Object(s.b)((function(e){return{cafe:e.cafes.cafe,client:e.clients.client}}),(function(e){return Object(n.b)({deleteCafe:h.a,deleteClient:d.a},e)}))(Object(O.d)(z))))},FU5n:function(e,t,r){var a=r("kDjR");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},"Kr+K":function(e,t,r){"use strict";r.d(t,"c",(function(){return J})),r.d(t,"b",(function(){return X}));var a=r("q1tI"),o=r.n(a),n=r("ANjH"),s=r("/MKj"),i=r("17x9"),c=r.n(i),l=r("55Ip"),u=r("H1WH"),f=r("TSYQ"),p=r.n(f),h=r("oPOS"),d=r("/ywV"),m=r("L1pz"),y=r("zUlG"),_=r("Xst1"),v=r.n(_),b=r("AKvB"),g=r.n(b),w=r("Rnav"),x=r("XTAU"),C=r("E8Bj"),k=r("ca/f"),S=r("2ZNs"),O=r("dLfW"),j=r("pQbs"),E=r("Zyrn"),N=r("74sb"),T=r("t3SV"),P=r("28sW");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */I=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof p?t:p,s=Object.create(n.prototype),i=new S(o||[]);return a(s,"_invoke",{value:w(e,r,i)}),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var m={};c(m,n,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(O([])));_&&_!==t&&r.call(_,n)&&(m=_);var v=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;a(this,"_invoke",{value:function(a,n){function s(){return new t((function(o,s){!function a(o,n,s,i){var c=u(e[o],e,n);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==L(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,s,i)}),(function(e){a("throw",e,s,i)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,i)}))}i(c.arg)}(a,n,o,s)}))}return o=o?o.then(s,s):s()}})}function w(e,t,r){var a="suspendedStart";return function(o,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw n;return j()}for(r.method=o,r.arg=n;;){var s=r.delegate;if(s){var i=x(s,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=u(e,t,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,a(v,"constructor",{value:d,configurable:!0}),a(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,s,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,a,o,n){void 0===n&&(n=Promise);var s=new g(l(t,r,a,o),n);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),c(v,i,"Generator"),c(v,n,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var i=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t,r,a,o,n,s){try{var i=e[n](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function G(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var n=e.apply(t,r);function s(e){q(n,a,o,s,i,"next",e)}function i(e){q(n,a,o,s,i,"throw",e)}s(void 0)}))}}function H(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D(a.key),a)}}function D(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==L(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=Y(e);if(t){var o=Y(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return z(this,r)}}function z(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J={Toast:1,Cereal:0,Yogurt:0,"Breakfast Combo":0,"Orange Juice":0,Milk:0,Waffle:0,Pancakes:0,"French Toast":0},Q={level:1,time:1},X={inspect:1,crate:1,pay:1,tax:1,trash:1,happy:1,back:1},W=function(e){return o.a.createElement("div",{className:g.a.stageText},"Day ".concat(e.day))},K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(f,e);var t,r,a,n,s,i,c,l=U(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=l.call(this,e)).state={questions:[],ready:!1,isSave:!1,warn:!1,loggedIn:!1,savesPhase:!1,savesArray:[],loading:!1,replaceIndex:0,name:"",nameUsed:"",numCorrect:0,numQuestions:0,day:0,foodServed:0,cafeCash:0,message:"",showFinal:!1,standings:[],noId:!1,noIdPopUp:!1,noQuestions:!1},t.redirect=!1,t.name="",t.working=!0,t.here=!0,t.loadGame=t.loadGame.bind(F(t)),t.newGame=t.newGame.bind(F(t)),t.endGame=t.endGame.bind(F(t)),t.renderStats=t.renderStats.bind(F(t)),t}return t=f,(r=[{key:"componentDidMount",value:(c=G(I().mark((function e(){var t,r,a=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.deleteCafe(),e.next=3,this.props.user.getData();case 3:(t=e.sent)?(this.name=t.name,this.setState({loggedIn:!0}),r=Object(N.d)(),T.a.get("/api/cafes/byuser",{params:{t:r}}).then((function(e){a.here&&a.setState({isSave:e.data.success&&!(a.props.client&&a.props.client.hwId&&a.props.client.questions),savesArray:e.data.success?e.data.savesArray:[null,null,null]},(function(){a.working=!1}))})).catch((function(e){h.b.logError(e)}))):this.setState({notLoggedIn:!0}),this.props.client&&this.props.client.hwId&&this.props.client.questions?(this.working=!1,this.setState({questions:this.props.client.questions||[],ready:!0})):this.props.id?T.a.get("/api/gamequestionsets",{params:{gameId:this.props.id}}).then((function(e){a.here&&a.setState({questions:e.data.questions.map((function(e){return A(A({},e),{},{image:e.image?e.image.url:null,audio:e.audio?e.audio.url:null})})),ready:!0})})).catch((function(e){h.b.logError(e)})):this.setState({noId:!0,ready:!0});case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1}},{key:"loadGame",value:(i=G(I().mark((function e(t){var r,a,o,n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.ready&&!this.working){e.next=2;break}return e.abrupt("return");case 2:if(this.working=!0,r=this.state.savesArray[t],a=[],o=!1,!r.setId){e.next=15;break}if(!this.state.noId){e.next=12;break}return e.next=10,new Promise((function(e){T.a.get("/api/gamequestionsets",{params:{gameId:r.setId}}).then((function(t){t.data?a=t.data.questions.map((function(e){return A(A({},e),{},{image:e.image?e.image.url:null,audio:e.audio?e.audio.url:null})})):o=!0,e()})).catch((function(t){o=!0,h.b.logError(t),e()}))}));case 10:e.next=13;break;case 12:a=this.state.questions;case 13:e.next=17;break;case 15:return e.next=17,new Promise((function(e){T.a.get("/api/homeworks/byid",{params:{id:r.hwId}}).then((function(t){t.data?a=t.data.questions.map((function(e){return A(A({},e),{},{question:e.text})})):n.state.noId?o=!0:a=n.state.questions,e()})).catch((function(t){n.state.noId?o=!0:a=n.state.questions,h.b.logError(t),e()}))}));case 17:if(!o){e.next=21;break}return this.setState({noIdPopUp:!0,noQuestions:!0}),this.working=!1,e.abrupt("return");case 21:r.hwName&&(this.props.addClientName(r.hwName),this.props.addHwClient(r.hwId,"Cafe",0,r.hwPlus)),this.props.setupCafe(r._id,r.setId,r.resultId,r.hwId,r.hwGoal,a,r.cafeCash,r.day,r.foods,r.items,r.corrects,r.incorrects,r.foodServed,r.stage,r.foodStocks),"cafe"===r.stage?this.props.history.push("/cafe"):"shop"===r.stage?this.props.history.push("/cafe/shop"):this.props.history.push("/cafe/final");case 24:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"newGame",value:(s=G(I().mark((function e(t){var r,a,o=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.ready&&!this.working){e.next=2;break}return e.abrupt("return");case 2:if(this.working=!0,r="",!this.props.client||!this.props.client.hwId){e.next=7;break}return e.next=7,new Promise((function(e,t){var a=Object(N.d)();T.a.post("/api/results",{t:a,data:{corrects:{},incorrects:{},day:1,alive:!0}}).then((function(t){r=t.data.id||t.data._id,e()})).catch((function(e){h.b.logError(e),t()}))}));case 7:if(a={},!this.name){e.next=12;break}return e.next=11,new Promise((function(e,a){var n=Object(N.d)();T.a.post("/api/cafes",{t:n,setId:o.props.id,name:o.name,hwId:o.props.client&&o.props.client.hwId?o.props.client.hwId:null,hwName:o.props.client&&o.props.client.name?o.props.client.name:null,hwPlus:!(!o.props.client||!o.props.client.plus)&&o.props.client.plus,hwGoal:o.props.client&&o.props.client.amount?o.props.client.amount:0,saveIndex:t,foods:JSON.parse(JSON.stringify(J)),items:JSON.parse(JSON.stringify(Q)),resultId:r}).then((function(t){e(t.data)})).catch((function(e){h.b.logError(e),a()}))}));case 11:a=e.sent;case 12:if(this.props.setupCafe(a.newSaveId,this.props.id,r,this.props.client&&this.props.client.hwId?this.props.client.hwId:null,this.props.client&&this.props.client.amount?this.props.client.amount:null,this.state.questions,0,1,JSON.parse(JSON.stringify(J)),JSON.parse(JSON.stringify(Q)),{},{},0,"cafe",{}),!a.oldSave||!a.oldSave.stage){e.next=18;break}return e.next=16,this.endGame(a.oldSave);case 16:e.next=19;break;case 18:this.props.history.push("/cafe");case 19:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"endGame",value:(n=G(I().mark((function e(t){var r,a,o,n,s,i,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if(r=e.sent,this.here){e.next=5;break}return e.abrupt("return");case 5:a=t.hwName||"You",o=0,n=0,Object.values(t.corrects).forEach((function(e){o+=e,n+=e})),Object.values(t.incorrects).forEach((function(e){n+=e})),s=6-t.items.level,i=Object(N.o)(Object.keys(E.a)),c=Object(N.d)(),T.a.put("/api/users/cafestats/solo",{t:c,name:this.name,place:s,day:t.day,cafeCash:t.cafeCash,foodServed:t.foodServed,blookUsed:i,nameUsed:a,correctAnswers:o}).catch((function(e){h.b.logError(e)})),this.setState({warn:!1,name:this.name,nameUsed:a,numCorrect:o,numQuestions:n,day:t.day,cafeCash:t.cafeCash,foodServed:t.foodServed,message:Object(O.a)((s-1)/5),ready:!0,standings:[{name:a,blook:i,place:s,day:t.day}],showFinal:!0,plus:"Starter"!==r.plan});case 15:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"renderStats",value:function(){return o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(j.a,{title:"Food Served",stat:Object(N.n)(this.state.foodServed)}),o.a.createElement(j.a,{title:"Final Cash",stat:Object(N.n)(this.state.cafeCash)}))}},{key:"render",value:function(){var e=this;if(this.props.client&&this.props.client.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&(!this.state.ready||this.state.questions&&0!==this.state.questions.length||this.state.noId))return o.a.createElement("div",{className:p()(u.isMobile?v.a.mBody:v.a.body,g.a.background)},o.a.createElement(x.a,{title:"Load Café | Blooket",desc:"Start a new game or load a saved game of Blooket's Café."}),o.a.createElement(w.a,{noRight:!0}),this.state.savesPhase?o.a.createElement("div",{className:v.a.regularBody},o.a.createElement("div",{className:g.a.backButton,role:"button",tabIndex:0,onClick:function(){return e.setState({savesPhase:!1,loading:!1})}},"Back"),o.a.createElement("div",{className:g.a.saveHeaderHolder},o.a.createElement("div",{className:g.a.savesHeader},this.state.loading?"Choose a Save":"Choose a Save Slot")),o.a.createElement("div",{className:g.a.savesHolder},this.state.savesArray.map((function(t,r){return t?o.a.createElement("div",{className:g.a.saveContainer,key:t._id},o.a.createElement("div",{className:g.a.saveTitle},"Day ".concat(t.day)),o.a.createElement("div",{className:g.a.saveSubTitle},"Café Level ".concat(t.items.level)),o.a.createElement("div",{className:g.a.saveRow},"$".concat(Object(N.n)(t.cafeCash)),o.a.createElement("i",{className:p()(g.a.saveIcon,"fas fa-coins")})),o.a.createElement("div",{className:g.a.saveRow},"shop"===t.stage?"Shop":"Café Day",o.a.createElement("i",{className:p()(g.a.saveIcon,"fas fa-store")})),o.a.createElement("div",{className:g.a.saveRow},t.hwName||"Not Homework",o.a.createElement("i",{className:p()(g.a.saveIcon,"fas fa-file-alt")})),o.a.createElement("div",{className:g.a.loadButton,role:"button",tabIndex:0,onClick:e.state.loading?function(){return e.loadGame(r)}:e.state.noId?function(){return e.setState({noIdPopUp:!0})}:function(){return e.setState({warn:!0,replaceIndex:r})}},e.state.loading?"Load Game":"Replace Game")):o.a.createElement("div",{className:g.a.saveContainer,key:r},o.a.createElement("div",{className:g.a.emptySave},"Empty"),e.state.loading?null:o.a.createElement("div",{className:g.a.loadButton,role:"button",tabIndex:0,onClick:e.state.noId?function(){return e.setState({noIdPopUp:!0})}:function(){return e.newGame(r)}},"New Game"))})))):o.a.createElement("div",{className:v.a.regularBody},o.a.createElement("div",{className:g.a.contentHolder},o.a.createElement("div",{className:g.a.header},"Café"),o.a.createElement("div",{className:g.a.buttonContainer},this.state.isSave?o.a.createElement("div",{className:g.a.button,role:"button",tabIndex:0,onClick:function(){return e.setState({savesPhase:!0,loading:!0})}},"Load Game"):null,o.a.createElement("div",{className:g.a.button,role:"button",tabIndex:0,onClick:this.state.loggedIn?function(){return e.setState({savesPhase:!0,loading:!1})}:this.newGame},"New Game"))),this.state.loggedIn?o.a.createElement("div",{className:g.a.loginText},"Your progress will automatically be saved"):o.a.createElement("div",{className:g.a.loginText},o.a.createElement("a",{href:"".concat(P.a.id,"/login"),target:"_blank",rel:"noopener noreferrer",style:{color:"#fff"}},"Login")," to save your progress")),this.state.warn?o.a.createElement(k.a,{text:"Starting a new game will delete this save! Don't worry though, we'll give you the tokens for your old save right now!",buttonOne:{text:"Continue",click:function(){return e.newGame(e.state.replaceIndex)},color:"blue"},buttonTwo:{text:"Go Back",click:function(){return e.setState({warn:!1})},color:"blue"}}):this.state.noIdPopUp?o.a.createElement(k.a,{text:this.state.noQuestions?"This save doesn't have an associated question set. Go find a set, click 'Solo', and try again!":"You need a question set to create a new game!",buttonOne:{text:"Find A Set",click:function(){window.location.href="".concat(P.a.dashboard,"/discover")},color:"blue"},buttonTwo:{text:"Go Back",click:function(){return e.setState({noIdPopUp:!1,noQuestions:!1})},color:"blue"}}):null,this.state.showFinal?o.a.createElement("div",{className:v.a.modal},o.a.createElement(S.a,{standings:this.state.standings,name:this.state.nameUsed,numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.state.plus,myStat:"Stayed Open for ".concat(this.state.day," ").concat(1===this.state.day?"Day":"Days"),saveStats:this.saveStats,renderStandingStat:W,renderStats:this.renderStats,customMessage:this.state.message,tokenMultiplier:.9,buttonFunc:function(){return e.props.history.push("/cafe")},noWait:!0})):null);window.location.href="".concat(P.a.id,"/login")}}])&&H(t.prototype,r),a&&H(t,a),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.a.Component);K.propTypes={client:c.a.object,history:c.a.object.isRequired,id:c.a.string,setupCafe:c.a.func.isRequired,deleteCafe:c.a.func.isRequired,addClientName:c.a.func.isRequired,addHwClient:c.a.func.isRequired,user:c.a.object};t.a=Object(C.c)(Object(l.f)(Object(s.b)((function(e){return{id:e.hosts.id,client:e.clients.client}}),(function(e){return Object(n.b)({setupCafe:d.b,deleteCafe:d.a,addClientName:y.a,addHwClient:m.b},e)}))(K)))},MX1h:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".styles__background___2CXHJ-camelCase{background-image:linear-gradient(90deg,rgba(200,0,0,.5) 50%,transparent 0),linear-gradient(rgba(200,0,0,.5) 50%,transparent 0);background-size:50px 50px}.styles__contentHolder___3UXqy-camelCase{display:flex;flex-direction:column;position:absolute;left:5%;top:50%;transform:translateY(-50%)}.styles__header___adopf-camelCase{font-size:10vw;margin:20px 0;padding:1vw 3.1vw 1vw 3vw;background-color:#ac7339;box-shadow:inset 0 0 0 .6vw rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);font-family:Satisfy,sans-serif;border-radius:7px;text-shadow:2px 2px 8px grey;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__buttonContainer___3jnj3-camelCase{margin:20px 0;display:flex;flex-flow:column;align-items:flex-start}.styles__button___hdG5V-camelCase{font-size:3vw;font-family:Satisfy,sans-serif;border-radius:7px;text-shadow:2px 2px 8px grey;color:#fff;margin:5px 0;padding:.4vw 2vw;background-color:#ac7339;box-shadow:inset 0 0 0 .5vw rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__button___hdG5V-camelCase:hover{transform:scale(.95)}.styles__loginText___3Gb5K-camelCase{position:absolute;bottom:1%;left:50%;transform:translateX(-50%);text-align:center;font-size:18px;font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;background-color:#ac7339;box-shadow:inset 0 0 0 5px rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);border-radius:7px;padding:7px 10px}.styles__saveHeaderHolder___3Phub-camelCase{width:90%;margin:70px auto 50px;display:flex;justify-content:center;align-items:center}.styles__savesHeader___RP8jM-camelCase{font-size:72px;color:#fff;text-shadow:2px 2px 8px grey;background-color:#ac7339;box-shadow:inset 0 0 0 7px rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);border-radius:7px;padding:5px 25px;text-align:center;display:inline-block;font-family:Satisfy,sans-serif;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__savesHolder___KWrHH-camelCase{width:90%;margin:5px 5%;display:flex;flex-direction:row;justify-content:space-evenly}.styles__saveContainer___1w0qz-camelCase{background-color:#ac7339;box-shadow:inset 0 0 0 7px rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);border-radius:7px;display:flex;flex-direction:column;max-width:286px;margin:15px 20px;flex-grow:1;font-family:Nunito,sans-serif;color:#fff;text-shadow:2px 2px 8px grey}.styles__saveTitle___2Srwr-camelCase{font-size:42px;line-height:45px;margin:10px 5% 0}.styles__saveSubTitle___oJdN--camelCase,.styles__saveTitle___2Srwr-camelCase{font-weight:700;width:90%}.styles__saveSubTitle___oJdN--camelCase{font-size:32px;margin:0 5%;opacity:.75}.styles__saveRow___3Qdis-camelCase{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;width:90%;margin:5px auto;font-size:22px;height:25px}.styles__saveIcon___3FBWX-camelCase{width:38px;text-align:center;margin-left:5px}.styles__loadButton___1cTzP-camelCase{background-color:#ac7339;box-shadow:inset 0 0 0 5px rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);border-radius:7px;display:flex;justify-content:center;align-items:center;margin:15px auto;font-family:Nunito,sans-serif;font-weight:700;font-size:26px;padding:5px 13px;color:#fff;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__loadButton___1cTzP-camelCase:hover{transform:scale(.95)}.styles__emptySave___2cWNY-camelCase{font-size:54px;padding:20px 0;margin:auto;font-weight:700}.styles__backButton___1ttXe-camelCase{position:absolute;top:10px;left:10px;font-size:30px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;color:#fff;background-color:#ac7339;box-shadow:inset 0 0 0 5px rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2);border-radius:7px;padding:5px 15px;text-shadow:2px 2px 8px grey}.styles__backButton___1ttXe-camelCase,.styles__stageText___DUHKg-camelCase{font-family:Nunito,sans-serif}.styles__stageText___DUHKg-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;text-align:right;overflow:hidden}@media only screen and (max-width:800px){.styles__header___adopf-camelCase{font-size:26vw;padding:3vw 6.6vw 3vw 6vw;box-shadow:inset 0 0 0 1.6vw rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2)}.styles__button___hdG5V-camelCase{font-size:10vw;padding:1.3vw 5vw;box-shadow:inset 0 0 0 1.4vw rgba(96,64,32,.4),0 0 8px 3px rgba(0,0,0,.2)}.styles__loginText___3Gb5K-camelCase{width:80%;font-size:14px}.styles__savesHeader___RP8jM-camelCase{font-size:64px;line-height:70px;padding:10px 25px}.styles__saveHeaderHolder___3Phub-camelCase{margin:70px auto 25px}.styles__savesHolder___KWrHH-camelCase{width:90%;margin:5px 5%;flex-direction:column;justify-content:space-evenly;align-items:center}.styles__saveContainer___1w0qz-camelCase{width:300px;margin:15px 20px}}",""]),t.locals={background:"styles__background___2CXHJ-camelCase",contentHolder:"styles__contentHolder___3UXqy-camelCase",header:"styles__header___adopf-camelCase",buttonContainer:"styles__buttonContainer___3jnj3-camelCase",button:"styles__button___hdG5V-camelCase",loginText:"styles__loginText___3Gb5K-camelCase",saveHeaderHolder:"styles__saveHeaderHolder___3Phub-camelCase",savesHeader:"styles__savesHeader___RP8jM-camelCase",savesHolder:"styles__savesHolder___KWrHH-camelCase",saveContainer:"styles__saveContainer___1w0qz-camelCase",saveTitle:"styles__saveTitle___2Srwr-camelCase",saveSubTitle:"styles__saveSubTitle___oJdN--camelCase",saveRow:"styles__saveRow___3Qdis-camelCase",saveIcon:"styles__saveIcon___3FBWX-camelCase",loadButton:"styles__loadButton___1cTzP-camelCase",emptySave:"styles__emptySave___2cWNY-camelCase",backButton:"styles__backButton___1ttXe-camelCase",stageText:"styles__stageText___DUHKg-camelCase"}},"N+r3":function(e,t,r){var a=r("RUrN");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},Nqfu:function(e,t,r){"use strict";var a=r("q1tI"),o=r.n(a),n=r("55Ip"),s=r("/MKj"),i=r("ANjH"),c=r("17x9"),l=r.n(c),u=r("oPOS"),f=r("5BnW"),p=r("E8Bj"),h=r("74sb"),d=r("VgyX"),m=r("t3SV");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof p?t:p,s=Object.create(n.prototype),i=new j(o||[]);return a(s,"_invoke",{value:C(e,r,i)}),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var m={};c(m,n,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(E([])));b&&b!==t&&r.call(b,n)&&(m=b);var g=d.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var o;a(this,"_invoke",{value:function(a,n){function s(){return new t((function(o,s){!function a(o,n,s,i){var c=u(e[o],e,n);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==y(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,s,i)}),(function(e){a("throw",e,s,i)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,i)}))}i(c.arg)}(a,n,o,s)}))}return o=o?o.then(s,s):s()}})}function C(e,t,r){var a="suspendedStart";return function(o,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw n;return N()}for(r.method=o,r.arg=n;;){var s=r.delegate;if(s){var i=k(s,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=u(e,t,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}function k(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=d,a(g,"constructor",{value:d,configurable:!0}),a(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,a,o,n){void 0===n&&(n=Promise);var s=new x(l(t,r,a,o),n);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(g),c(g,i,"Generator"),c(g,n,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=E,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var i=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function v(e,t,r,a,o,n,s){try{var i=e[n](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var n=e.apply(t,r);function s(e){v(n,a,o,s,i,"next",e)}function i(e){v(n,a,o,s,i,"throw",e)}s(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(o=a.key,n=void 0,n=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==y(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===y(n)?n:String(n)),a)}var o,n}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return k(this,r)}}function k(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(i,e);var t,r,a,o,n,s=C(i);function i(){return g(this,i),s.apply(this,arguments)}return t=i,(r=[{key:"componentDidMount",value:function(){var e=Object(h.j)("gid"),t=Object(h.j)("hwId");Object(h.m)(e)?(Object(h.x)(e),this.launchHostedGameSettings(e)):Object(h.m)(t)?(Object(h.w)(t),this.launchHomeworkSettings(t)):u.b.logError("cannot load HostCafeLandingPage without gid or hwId")}},{key:"launchHostedGameSettings",value:(n=b(_().mark((function e(t){var r,a,o=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/hostedgames/forhost?id=".concat(t));case 2:r=e.sent,a=r.data.questionSetId,this.props.addGameId(a),this.props.setSettings({type:"Cafe",method:"host"}),setTimeout((function(){o.props.history.replace("/host/settings?gid=".concat(t))}),500);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"launchHomeworkSettings",value:(o=b(_().mark((function e(t){var r,a,o=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/homeworks/forhost?id=".concat(t));case 2:r=e.sent,a=r.data.questionSetId,this.props.addGameId(a),this.props.setSettings({type:"Cafe",method:"assign"}),setTimeout((function(){o.props.history.replace("/host/assign?hwId=".concat(t))}),500);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"render",value:function(){return null}}])&&w(t.prototype,r),a&&w(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);O.propTypes={history:l.a.object.isRequired,addGameId:l.a.func.isRequired,setSettings:l.a.func.isRequired};t.a=Object(p.c)(Object(n.f)(Object(s.b)((function(){return{}}),(function(e){return Object(i.b)({addGameId:d.a,setSettings:d.e},e)}))(Object(f.d)(O))))},QFW9:function(e,t,r){"use strict";var a=r("q1tI"),o=r.n(a),n=r("ANjH"),s=r("/MKj"),i=r("17x9"),c=r.n(i),l=r("55Ip"),u=r("TSYQ"),f=r.n(u),p=r("oPOS"),h=r("VgyX"),d=r("Xst1"),m=r.n(d),y=r("rUkA"),_=r.n(y),v=r("ZVoO"),b=r("74sb"),g=r("XTAU"),w=r("5BnW"),x=r("t3SV"),C=r("pLIe"),k=r("28sW");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,s,i=[],c=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=n.call(r)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function E(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(o=a.key,n=void 0,n=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==S(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===S(n)?n:String(n)),a)}var o,n}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=L(e);if(t){var o=L(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return P(this,r)}}function P(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(s,e);var t,r,a,n=T(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=n.call(this,e)).state={ready:!1,historyId:"",standings:[],muted:!!e.host&&e.host.muted},t}return t=s,(r=[{key:"componentDidMount",value:function(){var e=this;if(this.props.host&&this.props.host.standings&&this.props.host.standings[0]){var t=JSON.parse(JSON.stringify(this.props.host));this.setState({standings:t.standings},(function(){e.startTimeout=setTimeout((function(){var r={};e.props.liveGameController.getDatabaseVal("c",(function(a){var o=a||{};Object.entries(o).forEach((function(e){var t=O(e,2),a=t[0],o=t[1],n={};if(o.i)if(Array.isArray(o.i))for(var s=0;s<o.i.length;s++){var i=o.i[s];i&&(n[s]=i)}else n=o.i;else n={};var c={};if(o.c)if(Array.isArray(o.c))for(var l=0;l<o.c.length;l++){var u=o.c[l];u&&(c[l]=u)}else c=o.c;else c={};r[a]={corrects:c,incorrects:n}})),e.props.host&&e.props.host.id&&(e.props.liveGameController.removeHostAndDeleteGame(),e.props.deleteHost()),e.waitTimeout=setTimeout((function(){if(e.state.standings.length>0){var a=Object(b.c)();x.a.post("/api/history",{t:a,standings:t.standings.map((function(e){return{blook:e.blook,name:e.name,place:e.place,cash:isNaN(e.cash)?0:Math.min(Math.round(Number(e.cash)),C.a),corrects:r[e.name]?r[e.name].corrects:{},incorrects:r[e.name]?r[e.name].incorrects:{}}})),settings:t.settings,setId:t.setId}).then((function(t){e.setState({historyId:t.data._id,ready:!0})})).catch((function(e){p.b.logError(e)}))}}),2e3)}))}),3500)}))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimeout),clearTimeout(this.waitTimeout),this.props.host&&this.props.host.id&&(this.props.liveGameController.removeHostAndDeleteGame(),this.props.deleteHost())}},{key:"render",value:function(){if(this.props.host&&this.props.host.standings&&this.props.host.standings[0]||this.state.standings&&this.state.standings[0])return o.a.createElement("div",{className:f()(m.a.hostBody,_.a.cafeBackground),style:{overflowY:this.state.ready?"auto":"hidden"}},o.a.createElement(g.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),this.state.standings.length>0?o.a.createElement(v.a,{standings:this.state.standings,stats:this.state.standings.map((function(e){return"$".concat(Object(b.n)(e.cash))})),gameId:this.props.gameId,historyId:this.state.historyId,muted:this.state.muted,theme:"cafe"}):null);window.location.href="".concat(k.a.dashboard,"/")}}])&&E(t.prototype,r),a&&E(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);I.propTypes={gameId:c.a.string,host:c.a.object,liveGameController:c.a.object,deleteHost:c.a.func.isRequired};t.a=Object(l.f)(Object(s.b)((function(e){return{host:e.hosts.host,gameId:e.hosts.id}}),(function(e){return Object(n.b)({deleteHost:h.d},e)}))(Object(w.d)(I)))},RUrN:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".tourSteps__customer___14X-Q-camelCase{left:35%;top:calc(10% + 55px);width:50%}.tourSteps__plate___3yeRw-camelCase{bottom:calc(12.5% + 22vh);left:calc(12.5% + 10vh)}.tourSteps__restock___9XXwA-camelCase{left:50%;bottom:15%;transform:translateX(-50%)}.tourSteps__centered___1CtxZ-camelCase{top:50%;left:50%;transform:translate(-50%,-50%)}.tourSteps__topRight___fO_Qi-camelCase{top:65px;right:10px}.tourSteps__cereal___36Uef-camelCase{top:calc(95px + 20.4vw);left:50%;transform:translateX(-50%)}.tourSteps__back___1Hb-D-camelCase{top:calc(7vw + 55px);right:1vw}@media only screen and (max-width:800px){.tourSteps__plate___3yeRw-camelCase{bottom:calc(12.5% + 9.25vh);left:calc(20% - 10vh)}.tourSteps__cereal___36Uef-camelCase{top:calc(109px + 42.8vw)}.tourSteps__back___1Hb-D-camelCase{top:calc(32vw + 55px);right:5%}}",""]),t.locals={customer:"tourSteps__customer___14X-Q-camelCase",plate:"tourSteps__plate___3yeRw-camelCase",restock:"tourSteps__restock___9XXwA-camelCase",centered:"tourSteps__centered___1CtxZ-camelCase",topRight:"tourSteps__topRight___fO_Qi-camelCase",cereal:"tourSteps__cereal___36Uef-camelCase",back:"tourSteps__back___1Hb-D-camelCase"}},Sn3C:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var a="END_CAFE_DAY",o="END_CAFE_LIVE"},T4uf:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,'.styles__counterBelow___3jT0Y-camelCase{bottom:0;height:7.5%;background-color:#737373;background-image:linear-gradient(180deg,#424242,rgba(66,66,66,0) 70%)}.styles__counterBelow___3jT0Y-camelCase,.styles__counterBottom___3lIQU-camelCase{position:absolute;left:0;width:100%}.styles__counterBottom___3lIQU-camelCase{bottom:7.5%;height:5%;background-color:#1f7a1f}.styles__counterTop___1KhpX-camelCase{bottom:12.5%;left:0;width:100%;background-color:#2eb82e}.styles__counterTop___1KhpX-camelCase,.styles__trashBlook___3Pigw-camelCase{position:absolute;height:45vh}.styles__trashBlook___3Pigw-camelCase{bottom:12.75%;left:100vw;width:39.15vh;-webkit-user-select:none;-moz-user-select:none;user-select:none;animation:styles__trashSlide___29TuJ-camelCase 2s linear forwards}@keyframes styles__trashSlide___29TuJ-camelCase{0%{transform:translateX(0)}to{transform:translateX(calc(-100vw - 40vh))}}.styles__plate___1-Iik-camelCase{border-bottom:1vh solid #ddd;box-shadow:0 1.6vh 0 rgba(0,0,0,.1);border-radius:50%;height:20vh;width:20vh;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer}.styles__plate___1-Iik-camelCase,.styles__plate___1-Iik-camelCase:before{background-color:#fff;position:absolute}.styles__plate___1-Iik-camelCase:before{content:"";display:block;left:calc(50% - 6.5vh);top:calc(50% - 6.5vh);height:13vh;width:13vh;border-radius:12vh;border-top:1.2vh solid #ccc;opacity:.4}.styles__plateHover___1RzQy-camelCase:hover,.styles__plateSelected___1B08t-camelCase{box-shadow:0 0 0 1.2vh hsla(0,0%,100%,.4)}.styles__lockedPlate___35ALz-camelCase{position:absolute;border-bottom:1vh solid transparent;width:100%;height:100%;border-radius:50%;background-color:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;font-size:5vh;color:#fff;text-shadow:.5vh .5vh 0 grey}.styles__plateLevel2___4GqZe-camelCase{border-radius:50%;border:2vh solid #009ff2;opacity:.4}.styles__plateLevel2___4GqZe-camelCase,.styles__plateLevel3___H-LYm-camelCase{position:absolute;left:calc(50% - 9.25vh);top:calc(50% - 9.25vh);height:14.5vh;width:14.5vh}.styles__plateLevel3___H-LYm-camelCase{border-radius:50%;border:2vh double #093;opacity:.5}.styles__plateColor4___1hUr4-camelCase{border-bottom:1vh solid #004;background-color:#008;box-shadow:0 1.6vh 0 rgba(0,0,0,.1)}.styles__plateColor4___1hUr4-camelCase:before{border-top:1.2vh solid #004;background-color:#008}.styles__plateLevel4___1FRvd-camelCase{position:absolute;left:calc(50% - 9.25vh);top:calc(50% - 9.25vh);height:14.5vh;width:14.5vh;border-radius:50%;border:2vh double #fff;opacity:.9}.styles__plateColor5___1FmqE-camelCase{border-bottom:1vh solid #111;background-color:#333;box-shadow:0 1.6vh 0 rgba(0,0,0,.1)}.styles__plateColor5___1FmqE-camelCase:before{border-top:1.2vh solid #111;background-color:#333}.styles__plateLevel5___qmkZB-camelCase{position:absolute;left:calc(50% - 9.25vh);top:calc(50% - 9.25vh);height:14.5vh;width:14.5vh;border-radius:50%;border:2vh groove #fff;opacity:.7}.styles__foodStock___19LOm-camelCase{right:0;bottom:0;width:4vh;height:4vh;border-radius:.6vh;background-color:#0bc2cf;box-shadow:.5vh .5vh 0 rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;font-family:Nunito,sans-serif;font-weight:700;font-size:2.7vh;color:#fff}.styles__food___2v5qJ-camelCase,.styles__foodStock___19LOm-camelCase{position:absolute}.styles__food___2v5qJ-camelCase{width:62.5%;height:71.875%;left:18.75%;top:14.0625%}.styles__plate1___3BXBA-camelCase{bottom:calc(12.5% + 22vh);left:calc(10% - 10vh)}.styles__plate2___1f6Pq-camelCase{bottom:calc(12.5% + 3vh);left:calc(20% - 10vh)}.styles__plate3___1guU2-camelCase{bottom:calc(12.5% + 22vh);left:calc(30% - 10vh)}.styles__plate4___1Zlaf-camelCase{bottom:calc(12.5% + 3vh);left:calc(40% - 10vh)}.styles__plate5___-9d8K-camelCase{bottom:calc(12.5% + 22vh);left:calc(50% - 10vh)}.styles__plate6___3yB90-camelCase{bottom:calc(12.5% + 3vh);left:calc(60% - 10vh)}.styles__plate7___37g8Y-camelCase{bottom:calc(12.5% + 22vh);left:calc(70% - 10vh)}.styles__plate8___3rviq-camelCase{bottom:calc(12.5% + 3vh);left:calc(80% - 10vh)}.styles__plate9___39OgN-camelCase{bottom:calc(12.5% + 22vh);left:calc(90% - 10vh)}.styles__restockButton___2yGGD-camelCase{position:absolute;height:10%;width:25%;bottom:1.5%;left:37.5%;background-color:#0bc2cf;box-shadow:.5vh .5vh 0 rgba(0,0,0,.2);border-radius:6px;display:flex;justify-content:center;align-items:center;font-family:Nunito,sans-serif;font-weight:700;font-size:2.75vw;color:#fff;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:.2s}.styles__restockButton___2yGGD-camelCase:hover{transform:scale(.95)}.styles__restockButtonLive___egLXu-camelCase{position:absolute;height:10%;width:25%;bottom:1.5%;right:52.5%;background-color:#0bc2cf;box-shadow:.5vh .5vh 0 rgba(0,0,0,.2);border-radius:6px;display:flex;justify-content:center;align-items:center;font-family:Nunito,sans-serif;font-weight:700;font-size:2.5vw;color:#fff;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:.2s}.styles__restockButtonLive___egLXu-camelCase:hover{transform:scale(.95)}.styles__upgradeIcon___3-aSU-camelCase{top:-10px;right:-10px;border-radius:50%;height:25px;line-height:23px;width:25px;background-color:#ff462b;box-shadow:0 0 8px 3px rgba(0,0,0,.2);color:#fff;font-family:Titan One,sans-serif;font-size:20px;text-align:center}.styles__restockKey___3_esi-camelCase,.styles__upgradeIcon___3-aSU-camelCase{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__restockKey___3_esi-camelCase{right:calc(100% - 5vh);bottom:1.5%;width:8vh;height:3vh;border-radius:.45vh;background-color:#fff;border:1px solid grey;box-shadow:1px 0 1px 0 #eee,0 2px 0 2px #ccc,0 2px 0 3px #444;display:flex;justify-content:center;align-items:center;font-family:Nunito,sans-serif;font-weight:700;font-size:2.025vh;color:grey;pointer-events:none}.styles__missesContainer___6fbFb-camelCase{position:absolute;right:1%;width:30vh;bottom:1%;height:10vh;display:flex;flex-direction:row}.styles__miss___3YMRz-camelCase{font-size:10vh;width:10vh;text-align:center;color:#c43a35;text-shadow:.2vh .8vh 0 rgba(0,0,0,.2);transition:.4s}.styles__questionContainer___19vFV-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;z-index:2;animation:styles__growIn___mKmMd-camelCase .4s linear forwards}@keyframes styles__growIn___mKmMd-camelCase{0%{transform:scale(0)}to{transform:scale(1)}}.styles__feedbackContainer___2jyzn-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f7f7f7}.styles__modalFadeIn___1HtK4-camelCase{opacity:0;animation:styles__fadeIn___27oaf-camelCase .4s linear .5s forwards}.styles__reportContainer___10NiU-camelCase{opacity:0;top:65px;margin:65px auto 15px;width:520px;display:flex;flex-direction:column;align-items:center;background-color:#fff;border-radius:10px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);font-family:Nunito,sans-serif;animation:styles__fadeIn___27oaf-camelCase .4s linear 1s forwards}.styles__reportHeader___1LOZ--camelCase{font-size:74px;font-family:Satisfy,sans-serif;color:#3a3a3a;text-align:center;margin:20px auto;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__reportRow___3TBFr-camelCase{height:50px;display:flex;flex-direction:row;align-items:center;width:calc(90% - 20px);margin:0 auto;padding:0 10px}.styles__reportFood___3yf3U-camelCase{height:40px;width:35px;margin:auto 10px auto 0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__reportAmount___Y2UD5-camelCase{font-size:26px;font-weight:700}.styles__reportTimes___3gqH3-camelCase{font-size:16px;margin-right:6px}.styles__reportProfit___1I2O2-camelCase{font-size:30px;font-weight:700;margin-left:auto}.styles__reportShopButton___2AvJR-camelCase{display:flex;justify-content:center;align-items:center;background-color:#0bc2cf;box-shadow:4px 4px 0 rgba(0,0,0,.2);border-radius:6px;font-size:26px;padding:5px 10px;margin:25px auto 0;color:#fff;font-family:Nunito,sans-serif;font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__reportShopButton___2AvJR-camelCase:hover{transform:scale(.95)}.styles__gameOverContainer___1QKqK-camelCase{display:flex;flex-direction:column;justify-content:center;align-items:center;width:90%;position:absolute;left:5%;top:50%;transform:translateY(-50%);color:#fff;text-shadow:2px 2px 8px grey}.styles__gameOverText___1pmq1-camelCase{font-family:Satisfy,sans-serif;font-size:12vw;opacity:0;animation:styles__fadeIn___27oaf-camelCase .4s linear 1s forwards}.styles__gameOverTextSmall___3h7lr-camelCase{font-family:Nunito,sans-serif;font-weight:700;font-size:3vw;opacity:0;animation:styles__fadeIn___27oaf-camelCase .4s linear 1.6s forwards}@keyframes styles__fadeIn___27oaf-camelCase{0%{opacity:0}to{opacity:1}}@media only screen and (max-width:800px){.styles__counterTop___1KhpX-camelCase{height:42.5vh}.styles__restockButton___2yGGD-camelCase{height:10%;width:60%;bottom:1.5%;left:50%;transform:translateX(-50%);border-radius:6px;max-width:400px;font-size:7vw}.styles__restockButton___2yGGD-camelCase:hover{transform:scale(1) translateX(-50%)}.styles__restockButtonLive___egLXu-camelCase{height:10%;width:45%;bottom:1.5%;right:52.5%;font-size:5.5vw}.styles__restockButtonLive___egLXu-camelCase:hover{transform:scale(1) translateX(0)}.styles__upgradeIcon___3-aSU-camelCase{top:-10px;right:-5px}.styles__plate___1-Iik-camelCase{transform:scale(.6)}.styles__plate1___3BXBA-camelCase{left:calc(20% - 10vh)}.styles__plate1___3BXBA-camelCase,.styles__plate2___1f6Pq-camelCase{bottom:calc(12.5% + 24.75vh)}.styles__plate2___1f6Pq-camelCase{left:calc(50% - 10vh)}.styles__plate3___1guU2-camelCase{bottom:calc(12.5% + 24.75vh);left:calc(80% - 10vh)}.styles__plate4___1Zlaf-camelCase{left:calc(20% - 10vh)}.styles__plate4___1Zlaf-camelCase,.styles__plate5___-9d8K-camelCase{bottom:calc(12.5% + 11vh)}.styles__plate5___-9d8K-camelCase{left:calc(50% - 10vh)}.styles__plate6___3yB90-camelCase{bottom:calc(12.5% + 11vh);left:calc(80% - 10vh)}.styles__plate7___37g8Y-camelCase{left:calc(20% - 10vh)}.styles__plate7___37g8Y-camelCase,.styles__plate8___3rviq-camelCase{bottom:calc(12.5% - 2.75vh)}.styles__plate8___3rviq-camelCase{left:calc(50% - 10vh)}.styles__plate9___39OgN-camelCase{bottom:calc(12.5% - 2.75vh);left:calc(80% - 10vh)}.styles__plateHover___1RzQy-camelCase:hover{box-shadow:0 0 0 1.2vh hsla(0,0%,100%,0)}.styles__plateSelected___1B08t-camelCase:hover{box-shadow:0 0 0 1.2vh hsla(0,0%,100%,.4)}.styles__restockKey___3_esi-camelCase{display:none;opacity:0}.styles__missesContainer___6fbFb-camelCase{right:0;width:18%;bottom:1.5%;height:10%;flex-flow:row wrap;justify-content:center;align-items:center}.styles__miss___3YMRz-camelCase{font-size:5vh;width:auto;margin:auto;text-shadow:.15vh .6vh 0 rgba(0,0,0,.2)}.styles__reportContainer___10NiU-camelCase{top:45px;left:calc(50vw - 160px);width:320px}.styles__reportHeader___1LOZ--camelCase{font-size:54px}.styles__reportRow___3TBFr-camelCase{height:40px}.styles__reportFood___3yf3U-camelCase{height:30px}.styles__reportAmount___Y2UD5-camelCase{font-size:18px}.styles__reportTimes___3gqH3-camelCase{font-size:12px}.styles__reportProfit___1I2O2-camelCase{font-size:24px}.styles__gameOverText___1pmq1-camelCase{font-size:15vw}.styles__gameOverTextSmall___3h7lr-camelCase{font-size:5vw}}',""]),t.locals={counterBelow:"styles__counterBelow___3jT0Y-camelCase",counterBottom:"styles__counterBottom___3lIQU-camelCase",counterTop:"styles__counterTop___1KhpX-camelCase",trashBlook:"styles__trashBlook___3Pigw-camelCase",trashSlide:"styles__trashSlide___29TuJ-camelCase",plate:"styles__plate___1-Iik-camelCase",plateHover:"styles__plateHover___1RzQy-camelCase",plateSelected:"styles__plateSelected___1B08t-camelCase",lockedPlate:"styles__lockedPlate___35ALz-camelCase",plateLevel2:"styles__plateLevel2___4GqZe-camelCase",plateLevel3:"styles__plateLevel3___H-LYm-camelCase",plateColor4:"styles__plateColor4___1hUr4-camelCase",plateLevel4:"styles__plateLevel4___1FRvd-camelCase",plateColor5:"styles__plateColor5___1FmqE-camelCase",plateLevel5:"styles__plateLevel5___qmkZB-camelCase",foodStock:"styles__foodStock___19LOm-camelCase",food:"styles__food___2v5qJ-camelCase",plate1:"styles__plate1___3BXBA-camelCase",plate2:"styles__plate2___1f6Pq-camelCase",plate3:"styles__plate3___1guU2-camelCase",plate4:"styles__plate4___1Zlaf-camelCase",plate5:"styles__plate5___-9d8K-camelCase",plate6:"styles__plate6___3yB90-camelCase",plate7:"styles__plate7___37g8Y-camelCase",plate8:"styles__plate8___3rviq-camelCase",plate9:"styles__plate9___39OgN-camelCase",restockButton:"styles__restockButton___2yGGD-camelCase",restockButtonLive:"styles__restockButtonLive___egLXu-camelCase",upgradeIcon:"styles__upgradeIcon___3-aSU-camelCase",restockKey:"styles__restockKey___3_esi-camelCase",missesContainer:"styles__missesContainer___6fbFb-camelCase",miss:"styles__miss___3YMRz-camelCase",questionContainer:"styles__questionContainer___19vFV-camelCase",growIn:"styles__growIn___mKmMd-camelCase",feedbackContainer:"styles__feedbackContainer___2jyzn-camelCase",modalFadeIn:"styles__modalFadeIn___1HtK4-camelCase",fadeIn:"styles__fadeIn___27oaf-camelCase",reportContainer:"styles__reportContainer___10NiU-camelCase",reportHeader:"styles__reportHeader___1LOZ--camelCase",reportRow:"styles__reportRow___3TBFr-camelCase",reportFood:"styles__reportFood___3yf3U-camelCase",reportAmount:"styles__reportAmount___Y2UD5-camelCase",reportTimes:"styles__reportTimes___3gqH3-camelCase",reportProfit:"styles__reportProfit___1I2O2-camelCase",reportShopButton:"styles__reportShopButton___2AvJR-camelCase",gameOverContainer:"styles__gameOverContainer___1QKqK-camelCase",gameOverText:"styles__gameOverText___1pmq1-camelCase",gameOverTextSmall:"styles__gameOverTextSmall___3h7lr-camelCase"}},"Xz+/":function(e,t,r){"use strict";var a=r("q1tI"),o=r.n(a),n=r("ANjH"),s=r("/MKj"),i=r("17x9"),c=r.n(i),l=r("55Ip"),u=r("H1WH"),f=r("TSYQ"),p=r.n(f),h=r("oPOS"),d=r("Xst1"),m=r.n(d),y=r("FU5n"),_=r.n(y),v=r("Rnav"),b=r("XTAU"),g=r("E8Bj"),w=r("8u0o");function x(e,t,r,a,o,n,s){return{type:w.a,foods:e,items:t,abilities:r,cafeCash:a,stage:o,foodStocks:n,isHappy:s}}var C=r("GC+6"),k=r("ZrUs"),S=r("+MB7"),O=r("Kr+K"),j=r("bYay"),E=r("x0md"),N=r("ca/f"),T=r("0oXL"),P=r("9TPi"),L=r("983D"),I=r("74sb"),B=r("5BnW"),A=r("t3SV"),R=r("pLIe"),q=r("28sW");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */H=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof p?t:p,s=Object.create(n.prototype),i=new S(o||[]);return a(s,"_invoke",{value:w(e,r,i)}),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var m={};c(m,n,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(O([])));_&&_!==t&&r.call(_,n)&&(m=_);var v=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;a(this,"_invoke",{value:function(a,n){function s(){return new t((function(o,s){!function a(o,n,s,i){var c=u(e[o],e,n);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==G(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,s,i)}),(function(e){a("throw",e,s,i)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,i)}))}i(c.arg)}(a,n,o,s)}))}return o=o?o.then(s,s):s()}})}function w(e,t,r){var a="suspendedStart";return function(o,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw n;return j()}for(r.method=o,r.arg=n;;){var s=r.delegate;if(s){var i=x(s,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=u(e,t,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,a(v,"constructor",{value:d,configurable:!0}),a(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,s,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,a,o,n){void 0===n&&(n=Promise);var s=new g(l(t,r,a,o),n);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),c(v,i,"Generator"),c(v,n,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var i=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,s,i=[],c=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=n.call(r)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t,r,a,o,n,s){try{var i=e[n](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function J(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Q(a.key),a)}}function Q(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==G(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=Z(e);if(t){var o=Z(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return K(this,r)}}function K(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=["far fa-hourglass","fas fa-hourglass-start","fas fa-hourglass-half","fas fa-hourglass-end","fas fa-hourglass"],ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(c,e);var t,r,a,n,s,i=W(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={cafeCash:e.cafe?e.cafe.cafeCash:0,items:{},abilities:{},ability:"",showPlayers:!1,players:[],ready:!1,goalCompleted:!1,showTour:!1,cashChange:0,attackerName:"",attackerBlook:"",attackerAbility:""},t.dbRefStage={},t.dbRefMe={},t.foodStocks={},t.isHappy=!1,t.buyItem=t.buyItem.bind(V(t)),t.buyAbility=t.buyAbility.bind(V(t)),t.useAbility=t.useAbility.bind(V(t)),t.nextDay=t.nextDay.bind(V(t)),t.endNow=t.endNow.bind(V(t)),t}return t=c,(r=[{key:"componentDidMount",value:(n=H().mark((function e(){var t,r=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if(e.sent||this.setState({notLoggedIn:!0}),this.props.cafe&&"shop"===this.props.cafe.stage&&this.props.cafe.questions&&this.props.cafe.questions[0]){e.next=7;break}return this.setState({redirect:!0}),e.abrupt("return");case 7:if(Object(I.a)(),this.foodStocks=z({},this.props.cafe.foodStocks),this.setState({items:z(z({},this.props.cafe.foods),this.props.cafe.items),abilities:this.props.cafe.abilities?z({},this.props.cafe.abilities):{},ready:!0,goalCompleted:this.props.cafe.hwGoal&&this.props.cafe.day-1===parseInt(this.props.cafe.hwGoal,10),showTour:1===this.props.cafe.day}),this.props.cafe&&this.props.cafe.resultId&&(t=Object(I.d)(),A.a.put("/api/results",{t:t,data:{corrects:this.props.cafe.corrects,incorrects:this.props.cafe.incorrects,day:Number(this.props.cafe.day),alive:!0}}).catch((function(e){return h.b.logError(e)}))),!(this.props.client&&this.props.client.hostId&&this.props.cafe.mode)){e.next=20;break}return e.next=14,this.props.liveGameController.getDatabaseRef("stg");case 14:return this.dbRefStage=e.sent,this.dbRefStage.on("value",(function(e){switch(e.val()){case"fin":r.props.liveGameController.getDatabaseVal("st",(function(e){var t=e?e.map((function(e){return{name:e.n,blook:e.b,cash:e.c,place:e.p}})):[],a=z({},r.state.items),o={level:a.level,time:a.time};delete a.level,delete a.time,r.props.leaveCafeShop(a,o,r.state.abilities,r.state.cafeCash,"final",r.foodStocks,r.isHappy),r.props.setStanding(t),r.props.history.push("/cafe/final")}));break;case null:r.props.liveGameController.getDatabaseVal("stg",(function(e){e||(r.props.deleteClient(),window.location.href="".concat(q.a.play,"/play"))}))}})),e.next=18,this.props.liveGameController.getDatabaseRef("c/".concat(this.props.client.name,"/at"));case 18:this.dbRefMe=e.sent,this.dbRefMe.on("value",(function(e){if(e.val()&&!r.state.attackerAbility){var t=e.val().split(":"),a=t[2],o=r.state.cafeCash,n=0;"pay"===a?n=Math.round(.25*o):"tax"===a&&(n=Math.round(-.25*o)),o+=n,Object.entries(r.foodStocks).forEach((function(e){var t=D(e,2),a=t[0],o=t[1];r.foodStocks[a]=Math.max(0,o-3)})),r.setState({cashChange:Math.abs(n),attackerName:t[0],attackerBlook:t[1],attackerAbility:a,cafeCash:o},(function(){"inspect"===a&&(r.abilityTimeout=setTimeout((function(){r.setState({attackerAbility:""})}),12e3))})),r.props.liveGameController.setVal({path:"c/".concat(r.props.client.name),val:{b:r.props.client.blook,ca:o}})}}));case 20:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function s(e){Y(o,r,a,s,i,"next",e)}function i(e){Y(o,r,a,s,i,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){Object(I.t)(),clearTimeout(this.abilityTimeout),Object.keys(this.dbRefStage).length&&this.dbRefStage.off("value"),Object.keys(this.dbRefMe).length&&this.dbRefMe.off("value")}},{key:"buyItem",value:function(e){var t=this;if(!this.buying){this.buying=!0;var r=S.b[e],a=this.state.items[e],o=r.prices[a];if(o>this.state.cafeCash||5===a)this.buying=!1;else{var n=JSON.parse(JSON.stringify(this.state.items));n[e]+=1;var s=this.state.cafeCash-o;this.props.client&&this.props.client.hostId&&this.props.cafe.mode&&this.props.liveGameController.setVal({path:"c/".concat(this.props.client.name),val:{b:this.props.client.blook,ca:s,up:"food"===S.b[e].type?"".concat(e,":").concat(n[e]):null}}),this.setState({items:n,cafeCash:this.state.cafeCash-o},(function(){t.buying=!1}))}}}},{key:"buyAbility",value:function(e){var t=this;if(!this.buying){this.buying=!0;var r=S.a[e],a=this.state.cafeCash,o=Math.round(r.price+a*r.percent);if(o>a||0===this.state.abilities[e])this.buying=!1;else{var n=JSON.parse(JSON.stringify(this.state.abilities));n[e]=0,a-=o,this.setState({abilities:n,ability:e,cafeCash:a},(function(){t.buying=!1,["pay","trash","tax","inspect"].includes(t.state.ability)?t.props.liveGameController.getDatabaseVal("c",(function(e){var r=Object.entries(e).map((function(e){var t=D(e,2),r=t[0],a=t[1];return{name:r,blook:a.b,cash:a.ca||0}})).filter((function(e){return e.name!==t.props.client.name}));r.sort((function(e,t){return t.cash-e.cash})),t.setState({players:r,showPlayers:!0})})):t.useAbility()}))}}}},{key:"useAbility",value:function(e){var t=this,r=z({},this.state.abilities);e?this.props.liveGameController.setVal({path:"c/".concat(this.props.client.name,"/tat"),val:"".concat(e.name,":").concat(this.state.ability)}):"back"===this.state.ability?(r=z({},O.b)).back=0:"crate"===this.state.ability?Object.entries(this.state.items).forEach((function(e){var r=D(e,2),a=r[0];r[1]>0&&!["time","level"].includes(a)&&(t.foodStocks[a]?t.foodStocks[a]=Math.min(t.foodStocks[a]+7,99):t.foodStocks[a]=7)})):"happy"===this.state.ability&&(this.isHappy=!0),this.setState({abilities:r,showPlayers:!1})}},{key:"nextDay",value:function(){var e=this,t=z({},this.state.items),r={level:t.level,time:t.time};if(delete t.level,delete t.time,this.props.cafe.cafeId){var a=Object(I.d)();A.a.put("/api/cafes/save",{t:a,id:this.props.cafe.cafeId,foods:t,items:r,cafeCash:Math.min(this.state.cafeCash,R.a),stage:"cafe"}).then((function(){e.props.leaveCafeShop(t,r,e.state.abilities,e.state.cafeCash,"cafe",e.foodStocks,e.isHappy),e.props.history.push("/cafe")})).catch((function(e){h.b.logError(e),window.location.href="".concat(q.a.id,"/login")}))}else this.props.leaveCafeShop(t,r,this.state.abilities,this.state.cafeCash,"cafe",this.foodStocks,this.isHappy),this.props.history.push("/cafe")}},{key:"endNow",value:function(){this.props.leaveCafeShop(this.props.cafe.foods,this.props.cafe.items,this.props.cafe.abilities,this.props.cafe.cafeCash,"final",this.foodStocks,this.isHappy),this.props.history.push("/cafe/final")}},{key:"render",value:function(){var e=this;if(this.props.cafe&&(this.props.cafe.resultId||this.props.cafe.mode)?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.cafe&&!this.state.redirect)return o.a.createElement("div",{className:u.isMobile?m.a.mBody:m.a.body,id:"body"},o.a.createElement(b.a,{title:"Play Café | Blooket",desc:"Serve delicious food to Blooks by answering questions, and make money to upgrade your Café."}),o.a.createElement(v.a,{cash:this.state.cafeCash}),this.state.ready?o.a.createElement("div",{className:m.a.regularBody,id:"regularBody"},this.state.showTour?o.a.createElement(P.a,{steps:L.a,onExit:function(){},functions:[function(){return e.buyItem("Cereal")},this.nextDay]}):null,o.a.createElement("div",{className:_.a.header},"Upgrade Shop"),o.a.createElement("div",{className:_.a.nextDayButton,role:"button",tabIndex:0,onClick:this.nextDay,id:"shopButton"},this.props.cafe.mode?"Back":"Next Day"),o.a.createElement("div",{className:_.a.shopContainer},Object.entries(S.b).map((function(t,r){var a=D(t,2),n=a[0],s=a[1];return"time"===n&&e.state.items[n]||"time"!==n?o.a.createElement("div",{className:p()(_.a.itemContainer,F({},_.a.itemContainerHover,e.state.items[n]<5&&e.state.cafeCash>=s.prices[e.state.items[n]])),key:n,role:"button",tabIndex:0,onClick:function(){return e.buyItem(n)},style:{cursor:e.state.items[n]<5&&e.state.cafeCash>=s.prices[e.state.items[n]]?"pointer":"not-allowed"},id:"upgrade".concat(r+1)},"food"===s.type?o.a.createElement("div",{className:p()(_.a.plate,F({},_.a.plate4,4===e.state.items[n]),F({},_.a.plate5,5===e.state.items[n]))},e.state.items[n]>1?o.a.createElement("div",{className:_.a["plateLevel".concat(e.state.items[n])]}):null,0===e.state.items[n]?o.a.createElement("div",{className:_.a.lockedPlate},o.a.createElement("i",{className:"fas fa-lock"})):o.a.createElement(T.a,{name:n,className:_.a.food})):"level"===n?o.a.createElement("div",{className:_.a.backgroundContainer},o.a.createElement(j.a,{level:e.state.items[n]})):"time"===n?o.a.createElement("div",{className:_.a.iconContainer},o.a.createElement("i",{className:p()($[e.state.items[n]-1],_.a.upgradeIcon)})):null,o.a.createElement("div",{className:_.a.rightContainer},o.a.createElement("div",{className:_.a.itemName},s.name||n),o.a.createElement("div",{className:_.a.itemLevel},0===e.state.items[n]?"Locked":"Level ".concat(e.state.items[n])),o.a.createElement("div",{className:_.a.itemDesc},"time"===n?"".concat(S.b[n].times[e.state.items[n]-1],"s").concat(5!==e.state.items[n]?" -> ".concat(S.b[n].times[e.state.items[n]],"s"):""," Bonus Time"):"level"===n?"x".concat(S.b[n].multipliers[e.state.items[n]-1]).concat(5!==e.state.items[n]?" -> x".concat(S.b[n].multipliers[e.state.items[n]]):""," Profits"):e.state.items[n]>0?"$".concat(Object(I.n)(Math.round(S.b[n].profits[e.state.items[n]]*S.b.level.multipliers[e.state.items.level-1]*(e.props.cafe.mode?3.25:1.75)))).concat(5!==e.state.items[n]?" -> $".concat(Object(I.n)(Math.round(S.b[n].profits[e.state.items[n]+1]*S.b.level.multipliers[e.state.items.level-1]*(e.props.cafe.mode?3.25:1.75)))):""," Per Sale"):null,o.a.createElement("br",null),5===e.state.items[n]?"Max Level":""),5!==e.state.items[n]?o.a.createElement("div",{className:_.a.itemUpgrade,style:{color:e.state.cafeCash>=s.prices[e.state.items[n]]?"#4bc22e":"#c43a35"}},"$".concat(Object(I.n)(s.prices[e.state.items[n]]))):null)):null}))),this.props.cafe.mode&&!this.state.showTour?o.a.createElement("div",{className:_.a.abilityHeader},"Abilities"):null,this.props.cafe.mode&&!this.state.showTour?o.a.createElement("div",{className:_.a.shopContainer},Object.entries(S.a).map((function(t,r){var a=D(t,2),n=a[0],s=a[1];return o.a.createElement("div",{className:p()(_.a.itemContainer,F({},_.a.itemContainerHover,1===e.state.abilities[n]&&e.state.cafeCash>=Math.round(s.price+e.state.cafeCash*s.percent))),key:n,role:"button",tabIndex:0,onClick:function(){return e.buyAbility(n)},style:{cursor:1===e.state.abilities[n]&&e.state.cafeCash>=Math.round(s.price+e.state.cafeCash*s.percent)?"pointer":"not-allowed"},id:"upgrade".concat(r+1)},o.a.createElement("div",{className:_.a.iconContainer,style:{backgroundColor:s.color}},o.a.createElement("i",{className:p()(s.icon,_.a.upgradeIcon)})),o.a.createElement("div",{className:_.a.rightContainer},o.a.createElement("div",{className:_.a.itemName},s.name),o.a.createElement("div",{className:_.a.itemLevel},s.desc),o.a.createElement("div",{className:_.a.itemUpgrade,style:{color:0===e.state.abilities[n]?"#3a3a3a":e.state.cafeCash>=Math.round(s.price+e.state.cafeCash*s.percent)?"#4bc22e":"#c43a35"}},0===e.state.abilities[n]?"Used":"$".concat(Object(I.n)(Math.round(s.price+e.state.cafeCash*s.percent))))))}))):null,this.state.showPlayers?this.state.players.length>0?o.a.createElement("div",{className:_.a.playerWrapper},o.a.createElement("div",{className:_.a.playerHeader},"Choose a Player"),o.a.createElement("div",{className:_.a.playerHolder},this.state.players.map((function(t){return o.a.createElement("div",{className:_.a.playerContainer,key:t.name,role:"button",tabIndex:0,onClick:function(){return e.useAbility(t)}},o.a.createElement(T.a,{name:t.blook,className:_.a.playerBlook}),o.a.createElement("div",{className:_.a.playerColumn},o.a.createElement("div",{className:_.a.playerText},t.name),o.a.createElement("div",{className:_.a.playerCash},"$".concat(Object(I.n)(t.cash)))))}))),o.a.createElement("div",{style:{height:30}})):o.a.createElement("div",{className:_.a.playerWrapper},o.a.createElement("div",{className:_.a.playerHeader},"No Players to Interact With"),o.a.createElement("div",{className:_.a.noPlayers,role:"button",tabIndex:0,onClick:function(){return e.useAbility(null)}},"Next")):null,this.state.goalCompleted?o.a.createElement(N.a,{text:"You completed the goal for this homework! You can now end the game or keep playing (your teacher will see the extra effort)!",buttonOne:{text:"Keep Playing",click:function(){return e.setState({goalCompleted:!1})},color:"blue"},buttonTwo:{text:"End Now",click:this.endNow,color:"blue"}}):["pay","tax","trash"].includes(this.state.attackerAbility)?o.a.createElement(N.a,{text:"pay"===this.state.attackerAbility?"".concat(this.state.attackerName," just gave you a $").concat(Object(I.n)(this.state.cashChange)," paycheck bonus!"):"tax"===this.state.attackerAbility?"".concat(this.state.attackerName," just forced you to pay $").concat(Object(I.n)(this.state.cashChange)," in taxes."):"".concat(this.state.attackerName," just trashed 3 of each of your foods."),blook:this.state.attackerBlook,buttonOne:{text:"OK",click:function(){return e.setState({attackerAbility:""})},color:"blue"}}):null):null,"inspect"===this.state.attackerAbility?o.a.createElement(E.a,{name:this.state.attackerName,blook:this.state.attackerBlook}):null);window.location.href="".concat(q.a.id,"/login")}}])&&J(t.prototype,r),a&&J(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);ee.propTypes={client:c.a.object,cafe:c.a.object,history:c.a.object.isRequired,liveGameController:c.a.object,leaveCafeShop:c.a.func.isRequired,setStanding:c.a.func.isRequired,deleteClient:c.a.func.isRequired,user:c.a.object};t.a=Object(g.c)(Object(l.f)(Object(s.b)((function(e){return{id:e.hosts.id,client:e.clients.client,cafe:e.cafes.cafe}}),(function(e){return Object(n.b)({leaveCafeShop:x,setStanding:C.b,deleteClient:k.a},e)}))(Object(B.d)(ee))))},fB4R:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".styles__stageText___21de9-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;font-family:Nunito,sans-serif;text-align:right;overflow:hidden}",""]),t.locals={stageText:"styles__stageText___21de9-camelCase"}},hpat:function(e,t,r){var a=r("6GJI");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},kDjR:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,'.styles__header___WoE64-camelCase{font-size:5.5vw;margin:1vw auto .25vw}.styles__abilityHeader___2fwCU-camelCase,.styles__header___WoE64-camelCase{font-family:Satisfy,sans-serif;color:#3a3a3a;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__abilityHeader___2fwCU-camelCase{font-size:4vw;margin:-1vw auto}.styles__nextDayButton___8lSty-camelCase{display:flex;justify-content:center;align-items:center;background-color:#0bc2cf;box-shadow:4px 4px 0 rgba(0,0,0,.2);border-radius:6px;width:15vw;height:4vw;font-size:2.2vw;color:#fff;font-family:Nunito,sans-serif;font-weight:700;position:absolute;top:1vw;right:1vw;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__nextDayButton___8lSty-camelCase:hover{transform:scale(.95)}.styles__shopContainer___3p5cY-camelCase{display:flex;flex-flow:row wrap;width:95%;margin:20px 2.5%}.styles__itemContainer___34Xyx-camelCase{background-color:#f5f5f5;border:3px solid #a7a7a7;border-radius:6px;box-shadow:4px 4px 0 rgba(0,0,0,.2);display:flex;flex-direction:row;width:calc(21% - 1vw);padding:.5vw;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;margin:10px auto;transition:.2s}.styles__itemContainerHover___1aYfp-camelCase:hover{transform:scale(.95)}.styles__plate___2jdLq-camelCase{border-bottom:.35vw solid #eee;box-shadow:0 .56vw 0 rgba(0,0,0,.1);border-radius:50%;height:7vw;width:7vw;position:relative;margin-bottom:.56vw}.styles__plate___2jdLq-camelCase,.styles__plate___2jdLq-camelCase:before{background-color:#fff}.styles__plate___2jdLq-camelCase:before{content:"";display:block;position:absolute;left:calc(50% - 2.275vw);top:calc(50% - 2.275vw);height:4.55vw;width:4.55vw;border-radius:4.2vw;border-top:.42vw solid #ccc;opacity:.4}.styles__lockedPlate___3T4-n-camelCase{position:absolute;border-bottom:.35vw solid transparent;width:100%;height:100%;border-radius:50%;background-color:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;font-size:1.75vw;color:#fff;text-shadow:.175vw .175vw 0 grey}.styles__plateLevel2___2D2SP-camelCase{border-radius:50%;border:.7vw solid #009ff2;opacity:.4}.styles__plateLevel2___2D2SP-camelCase,.styles__plateLevel3___33PVC-camelCase{position:absolute;left:calc(50% - 3.2375vw);top:calc(50% - 3.2375vw);height:5.075vw;width:5.075vw}.styles__plateLevel3___33PVC-camelCase{border-radius:50%;border:.7vw double #093;opacity:.5}.styles__plate4___274mx-camelCase{border-bottom:.35vw solid #004;background-color:#008;box-shadow:0 .56vw 0 rgba(0,0,0,.1)}.styles__plate4___274mx-camelCase:before{border-top:.42vw solid #004;background-color:#008}.styles__plateLevel4___3oKre-camelCase{position:absolute;left:calc(50% - 3.2375vw);top:calc(50% - 3.2375vw);height:5.075vw;width:5.075vw;border-radius:50%;border:.7vw double #fff;opacity:.9}.styles__plate5___OC6fL-camelCase{border-bottom:.35vw solid #111;background-color:#333;box-shadow:0 .56vw 0 rgba(0,0,0,.1)}.styles__plate5___OC6fL-camelCase:before{border-top:.42vw solid #111;background-color:#333}.styles__plateLevel5___3ANhx-camelCase{position:absolute;left:calc(50% - 3.2375vw);top:calc(50% - 3.2375vw);height:5.075vw;width:5.075vw;border-radius:50%;border:.7vw groove #fff;opacity:.7}.styles__food___JwY4w-camelCase{position:absolute;width:62.5%;height:71.875%;left:18.75%;top:14.0625%}.styles__backgroundContainer___24bAc-camelCase{border:3px solid #a7a7a7;border-radius:5px;height:7vw;width:7vw;margin:auto}.styles__iconContainer___1q1cX-camelCase{border-radius:5px;height:7vw;width:7vw;margin:auto;display:flex;align-items:center;justify-content:center;background-color:#9a49aa}.styles__upgradeIcon___1AgI7-camelCase{margin:auto;color:#fff;text-shadow:2px 2px 8px grey;font-size:4vw}.styles__rightContainer___3ADh7-camelCase{display:flex;flex-direction:column;font-family:Nunito,sans-serif;color:#3a3a3a;margin-left:1vw;width:calc(100% - 8vw)}.styles__itemName___3N74M-camelCase{font-weight:700;font-size:1.75vw;line-height:1.75vw}.styles__itemLevel___3M7jh-camelCase{margin-top:.2vw;margin-bottom:.15vw;line-height:1.2vw}.styles__itemDesc___2gsRs-camelCase,.styles__itemLevel___3M7jh-camelCase{font-size:1.05vw;margin-left:.1vw}.styles__itemDesc___2gsRs-camelCase{opacity:.7}.styles__itemUpgrade___2TBMb-camelCase{margin-top:auto;font-size:1.4vw;margin-left:auto;margin-bottom:-.3vw;font-weight:700}.styles__playerWrapper___1hxOh-camelCase{display:flex;flex-flow:column;width:100%;height:100%;position:fixed;top:0;left:0;overflow-x:hidden;background-color:#f7f7f7;animation:styles__growIn___1kI5Z-camelCase .4s}@keyframes styles__growIn___1kI5Z-camelCase{0%{transform:scale(0)}to{transform:scale(1)}}.styles__playerHeader___2nY_k-camelCase{font-size:6vw;width:80%;margin:95px auto 0;color:#3a3a3a;text-align:center;font-family:Satisfy,sans-serif;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__playerHolder___dNuWU-camelCase{display:flex;flex-flow:row wrap;justify-content:center;width:80%;margin:30px auto;outline:none}.styles__noPlayers___1HQw2-camelCase{width:200px;height:60px;line-height:60px;background-color:#0bc2cf;box-shadow:4px 4px 0 rgba(0,0,0,.2);border-radius:6px;cursor:pointer;text-align:center;text-decoration:none;outline:none;font-family:Nunito,sans-serif;font-weight:700;font-size:30px;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;top:calc(50% - 30px);left:calc(50% - 100px);transition:all .2s cubic-bezier(.39,.5,.15,1.36)}.styles__noPlayers___1HQw2-camelCase:hover{transform:scale(.95)}.styles__playerContainer___b3cnR-camelCase{background-color:#f5f5f5;border:3px solid #a7a7a7;border-radius:6px;box-shadow:4px 4px 0 rgba(0,0,0,.2);min-height:75px;display:flex;flex-direction:row;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;margin:10px;min-width:275px;transition:all .2s cubic-bezier(.39,.5,.15,1.36)}.styles__playerContainer___b3cnR-camelCase:focus,.styles__playerContainer___b3cnR-camelCase:hover{transform:scale(1.03)}.styles__playerBlook___3JPeI-camelCase{width:55px;height:63.25px;margin:auto 5px auto 10px}.styles__playerColumn___3pmLE-camelCase{display:flex;flex-direction:column;flex-grow:1;margin:2.5px 10px;min-height:70px}.styles__playerText___pirIK-camelCase{font-weight:700;font-size:28px;margin-right:10px;word-break:break-word}.styles__playerCash___1Sm-e-camelCase,.styles__playerText___pirIK-camelCase{color:#3a3a3a;font-family:Nunito,sans-serif;line-height:35px}.styles__playerCash___1Sm-e-camelCase{height:35px;font-size:26px}@media only screen and (max-width:800px){.styles__header___WoE64-camelCase{font-size:12vw;margin:3.4vw 5% 9vw;width:80%;text-align:left}.styles__abilityHeader___2fwCU-camelCase{font-size:9vw;margin-bottom:-3vw}.styles__nextDayButton___8lSty-camelCase{box-shadow:4px 4px 0 rgba(0,0,0,.2);width:30vw;height:8vw;font-size:4.4vw;top:20vw;right:5%}.styles__nextDayButton___8lSty-camelCase:hover{transform:scale(1)}.styles__itemContainer___34Xyx-camelCase{width:calc(43% - 2vw);padding:1vw;margin:7px auto}.styles__itemContainerHover___1aYfp-camelCase:hover{transform:scale(1)}.styles__plate___2jdLq-camelCase{border-bottom:.7vw solid #eee;box-shadow:0 1.12vw 0 rgba(0,0,0,.1);height:14vw;width:14vw;margin-bottom:1.12vw}.styles__plate___2jdLq-camelCase:before{left:calc(50% - 4.55vw);top:calc(50% - 4.55vw);height:9.1vw;width:9.1vw;border-radius:8.4vw;border-top:.84vw solid #ccc}.styles__lockedPlate___3T4-n-camelCase{border-bottom:.7vw solid transparent;font-size:3.5vw;text-shadow:.35vw .35vw 0 grey}.styles__plateLevel2___2D2SP-camelCase{border:1.4vw solid #009ff2}.styles__plateLevel2___2D2SP-camelCase,.styles__plateLevel3___33PVC-camelCase{left:calc(50% - 6.475vw);top:calc(50% - 6.475vw);height:10.15vw;width:10.15vw}.styles__plateLevel3___33PVC-camelCase{border:1.4vw double #093}.styles__plate4___274mx-camelCase{border-bottom:.7vw solid #004;box-shadow:0 1.12vw 0 rgba(0,0,0,.1)}.styles__plate4___274mx-camelCase:before{border-top:.84vw solid #004}.styles__plateLevel4___3oKre-camelCase{left:calc(50% - 6.475vw);top:calc(50% - 6.475vw);height:10.15vw;width:10.15vw;border:1.4vw double #fff}.styles__plate5___OC6fL-camelCase{border-bottom:.7vw solid #111;box-shadow:0 1.12vw 0 rgba(0,0,0,.1)}.styles__plate5___OC6fL-camelCase:before{border-top:.84vw solid #111}.styles__plateLevel5___3ANhx-camelCase{left:calc(50% - 6.475vw);top:calc(50% - 6.475vw);height:10.15vw;width:10.15vw;border:1.4vw groove #fff}.styles__backgroundContainer___24bAc-camelCase,.styles__iconContainer___1q1cX-camelCase{height:14vw;width:14vw}.styles__upgradeIcon___1AgI7-camelCase{font-size:8vw}.styles__rightContainer___3ADh7-camelCase{margin-left:1vw;width:calc(100% - 15vw)}.styles__itemName___3N74M-camelCase{font-size:3.5vw;line-height:3.5vw}.styles__itemLevel___3M7jh-camelCase{margin-top:.6vw;margin-bottom:.4vw;line-height:2.5vw}.styles__itemDesc___2gsRs-camelCase,.styles__itemLevel___3M7jh-camelCase{font-size:2.1vw;margin-left:.2vw}.styles__itemUpgrade___2TBMb-camelCase{font-size:2.8vw;margin-bottom:-.3vw}.styles__playerHeader___2nY_k-camelCase{font-size:11vw}.styles__playerHolder___dNuWU-camelCase{width:90%}.styles__playerContainer___b3cnR-camelCase{width:100%}}',""]),t.locals={header:"styles__header___WoE64-camelCase",abilityHeader:"styles__abilityHeader___2fwCU-camelCase",nextDayButton:"styles__nextDayButton___8lSty-camelCase",shopContainer:"styles__shopContainer___3p5cY-camelCase",itemContainer:"styles__itemContainer___34Xyx-camelCase",itemContainerHover:"styles__itemContainerHover___1aYfp-camelCase",plate:"styles__plate___2jdLq-camelCase",lockedPlate:"styles__lockedPlate___3T4-n-camelCase",plateLevel2:"styles__plateLevel2___2D2SP-camelCase",plateLevel3:"styles__plateLevel3___33PVC-camelCase",plate4:"styles__plate4___274mx-camelCase",plateLevel4:"styles__plateLevel4___3oKre-camelCase",plate5:"styles__plate5___OC6fL-camelCase",plateLevel5:"styles__plateLevel5___3ANhx-camelCase",food:"styles__food___JwY4w-camelCase",backgroundContainer:"styles__backgroundContainer___24bAc-camelCase",iconContainer:"styles__iconContainer___1q1cX-camelCase",upgradeIcon:"styles__upgradeIcon___1AgI7-camelCase",rightContainer:"styles__rightContainer___3ADh7-camelCase",itemName:"styles__itemName___3N74M-camelCase",itemLevel:"styles__itemLevel___3M7jh-camelCase",itemDesc:"styles__itemDesc___2gsRs-camelCase",itemUpgrade:"styles__itemUpgrade___2TBMb-camelCase",playerWrapper:"styles__playerWrapper___1hxOh-camelCase",growIn:"styles__growIn___1kI5Z-camelCase",playerHeader:"styles__playerHeader___2nY_k-camelCase",playerHolder:"styles__playerHolder___dNuWU-camelCase",noPlayers:"styles__noPlayers___1HQw2-camelCase",playerContainer:"styles__playerContainer___b3cnR-camelCase",playerBlook:"styles__playerBlook___3JPeI-camelCase",playerColumn:"styles__playerColumn___3pmLE-camelCase",playerText:"styles__playerText___pirIK-camelCase",playerCash:"styles__playerCash___1Sm-e-camelCase"}},lt4V:function(e,t,r){"use strict";var a=r("q1tI"),o=r.n(a),n=r("ANjH"),s=r("/MKj"),i=r("17x9"),c=r.n(i),l=r("55Ip"),u=r("H1WH"),f=r("TSYQ"),p=r.n(f),h=r("oPOS"),d=r("Xst1"),m=r.n(d),y=r("CCJB"),_=r.n(y),v=r("Rnav"),b=r("XTAU"),g=r("FVRk"),w=r("4Zpe"),x=r("ca/f"),C=r("9TPi"),k=r("983D"),S=r("Sn3C");function O(e,t,r,a,o,n,s,i){return{type:S.a,corrects:e,incorrects:t,cafeCash:r,day:a,foodServed:o,freeQuestions:n,stage:s,foodStocks:i}}function j(e,t,r,a,o,n,s,i,c){return{type:S.b,corrects:e,incorrects:t,cafeCash:r,day:a,foodServed:o,freeQuestions:n,stage:s,foodStocks:i,customers:c}}var E=r("GC+6"),N=r("ZrUs"),T=r("l5tK"),P=r("bYay"),L=r("x0md"),I=r("0oXL"),B=r("+MB7"),A=r("74sb"),R=r("5BnW"),q=r("E8Bj"),G=r("Y018"),H=r("liux"),D=r("O+AO"),M=r("cQOM"),U=r("/9rF"),z=r("5Kqo"),F=r("xoUC"),Y=r("sa6r"),J=r("t3SV"),Q=r("pLIe"),X=r("28sW");function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,s,i=[],c=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=n.call(r)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */V=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof p?t:p,s=Object.create(n.prototype),i=new S(o||[]);return a(s,"_invoke",{value:w(e,r,i)}),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var m={};c(m,n,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(O([])));_&&_!==t&&r.call(_,n)&&(m=_);var v=d.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;a(this,"_invoke",{value:function(a,n){function s(){return new t((function(o,s){!function a(o,n,s,i){var c=u(e[o],e,n);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==W(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,s,i)}),(function(e){a("throw",e,s,i)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,i)}))}i(c.arg)}(a,n,o,s)}))}return o=o?o.then(s,s):s()}})}function w(e,t,r){var a="suspendedStart";return function(o,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw n;return j()}for(r.method=o,r.arg=n;;){var s=r.delegate;if(s){var i=x(s,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=u(e,t,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,a(v,"constructor",{value:d,configurable:!0}),a(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,s,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,a,o,n){void 0===n&&(n=Promise);var s=new g(l(t,r,a,o),n);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(v),c(v,i,"Generator"),c(v,n,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var i=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return(t=oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t,r,a,o,n,s){try{var i=e[n](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function re(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var n=e.apply(t,r);function s(e){te(n,a,o,s,i,"next",e)}function i(e){te(n,a,o,s,i,"throw",e)}s(void 0)}))}}function ae(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oe(a.key),a)}}function oe(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==W(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===W(t)?t:String(t)}function ne(e,t){return(ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=le(e);if(t){var o=le(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return ie(this,r)}}function ie(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var he=[].concat(ue(Object.keys(G.a)),ue(Object.keys(H.a)),ue(Object.keys(D.a)),ue(Object.keys(M.a)),ue(Object.keys(U.a))),de=[].concat(ue(Object.keys(z.a)),ue(Object.keys(F.a)),ue(Object.keys(Y.a))),me={Toast:0,Cereal:0,Yogurt:0,"Breakfast Combo":0,"Orange Juice":0,Milk:0,Waffle:0,Pancakes:0,"French Toast":0},ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(c,e);var t,r,a,n,s,i=se(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={name:"",foods:[],customers:[{},{},{}],futureCustomers:[],foodSelected:-1,question:{},phase:"cafe",correct:!0,reportArray:[],totalProfit:-1,day:1,customersMissed:0,askTour:!1,showTour:!1,goal:0,gameOver:!1,cafeCash:0,canUpgrade:!1,cashChange:0,attackerName:"",attackerBlook:"",ability:"",redirect:!1,readId:""},t.timeouts=[],t.questions=[],t.freeQuestions=[],t.corrects=e.cafe&&e.cafe.corrects?JSON.parse(JSON.stringify(e.cafe.corrects)):{},t.incorrects=e.cafe&&e.cafe.incorrects?JSON.parse(JSON.stringify(e.cafe.incorrects)):{},t.waiting=!1,t.canGoNext=!0,t.foodServed=0,t.foodSales=JSON.parse(JSON.stringify(me)),t.happyCustomers=0,t.gettingQuestion=!1,t.gameOver=!1,t.dbRefStage={},t.dbRefMe={},t.here=!0,t.msg={},t.isReading=!1,t.onAnswer=t.onAnswer.bind(ce(t)),t.onSpacePress=t.onSpacePress.bind(ce(t)),t.getQuestion=t.getQuestion.bind(ce(t)),t.newDay=t.newDay.bind(ce(t)),t.newLiveCustomer=t.newLiveCustomer.bind(ce(t)),t.addCustomer=t.addCustomer.bind(ce(t)),t.removeCustomer=t.removeCustomer.bind(ce(t)),t.answerNext=t.answerNext.bind(ce(t)),t.selectFood=t.selectFood.bind(ce(t)),t.selectCustomer=t.selectCustomer.bind(ce(t)),t.answerTour=t.answerTour.bind(ce(t)),t.canUpgrade=t.canUpgrade.bind(ce(t)),t.goToShop=t.goToShop.bind(ce(t)),t.readQuestion=t.readQuestion.bind(ce(t)),t}return t=c,(r=[{key:"componentDidMount",value:(s=re(V().mark((function e(){var t,r=this;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if(e.sent||this.setState({notLoggedIn:!0}),this.props.cafe&&"cafe"===this.props.cafe.stage&&this.props.cafe.questions&&this.props.cafe.questions[0]){e.next=7;break}return this.setState({redirect:!0}),e.abrupt("return");case 7:if(Object(A.a)(),this.questions=this.props.cafe.questions,this.freeQuestions=JSON.parse(JSON.stringify(this.props.cafe.freeQuestions)),this.props.cafe.isHappy&&(this.happyCustomers=5),t=[],Object.keys(me).forEach((function(e){t.push({name:e,level:r.props.cafe.foods&&r.props.cafe.foods[e]?r.props.cafe.foods[e]:0,stock:r.props.cafe.foodStocks&&r.props.cafe.foodStocks[e]?r.props.cafe.foodStocks[e]:0})})),this.setState({foods:t,name:this.props.client?this.props.client.name:"",cafeCash:this.props.cafe.cafeCash,day:this.props.cafe.day,askTour:1===this.props.cafe.day&&0===this.props.cafe.foods.Cereal,goal:1===this.props.cafe.day&&(this.props.cafe.hwGoal||this.props.cafe.goal)||0,mode:this.props.cafe.mode,customers:this.props.cafe.customers&&3===this.props.cafe.customers.length?this.props.cafe.customers:[{},{},{}]},(function(){if(!r.state.askTour&&!r.state.goal)if(r.state.mode){r.canUpgrade();for(var e=0;e<3-r.state.customers.filter((function(e){return e.profit})).length;e++)r.newLiveCustomer()}else r.newDay()})),document.addEventListener("keypress",this.onSpacePress),!(this.props.client&&this.props.client.hostId&&this.props.cafe.mode)){e.next=24;break}return e.next=18,this.props.liveGameController.getDatabaseRef("stg");case 18:return this.dbRefStage=e.sent,this.dbRefStage.on("value",(function(e){switch(e.val()){case"fin":r.props.liveGameController.getDatabaseVal("st",(function(e){var t=e?e.map((function(e){return{name:e.n,blook:e.b,cash:e.c,place:e.p}})).filter((function(e){return e.cash||0===e.cash})):[];r.props.endCafeDay(r.corrects,r.incorrects,r.state.cafeCash,r.state.day,r.props.cafe.foodServed+r.foodServed,r.freeQuestions,"final",{}),r.props.setStanding(t),r.props.history.push("/cafe/final")}));break;case null:r.props.liveGameController.getDatabaseVal("stg",(function(e){e||(r.props.deleteClient(),window.location.href="".concat(X.a.play,"/play"))}))}})),e.next=22,this.props.liveGameController.getDatabaseRef("c/".concat(this.props.client.name,"/at"));case 22:this.dbRefMe=e.sent,this.dbRefMe.on("value",(function(e){if(e.val()&&!r.state.ability){var t=e.val().split(":"),a=t[2],o=r.state.cafeCash,n=0;"pay"===a?n=Math.round(.25*o):"tax"===a&&(n=Math.round(-.25*o)),o+=n,r.here&&(r.setState({cashChange:Math.abs(n),attackerName:t[0],attackerBlook:t[1],ability:a,cafeCash:o},(function(){"inspect"===a?r.abilityTimeout=setTimeout((function(){r.setState({ability:""})}),12e3):"trash"===a&&(r.abilityTimeout=setTimeout((function(){var e=r.state.foods.map((function(e){return $($({},e),{},{stock:Math.max(0,e.stock-3)})}));r.setState({foods:e},(function(){r.abilityTimeout=setTimeout((function(){r.setState({ability:""})}),1050)}))}),1050))})),r.props.liveGameController.setVal({path:"c/".concat(r.props.client.name),val:{b:r.props.client.blook,ca:o}}))}}));case 24:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1,this.msg.onend=function(){},window.speechSynthesis.cancel(),Object(A.t)(),this.timeouts.forEach((function(e){clearTimeout(e)})),clearTimeout(this.abilityTimeout),clearTimeout(this.waitTimeout),clearTimeout(this.nextTimeout),clearTimeout(this.exitTimeout),clearTimeout(this.doneTimeout),clearTimeout(this.customerTimeout),document.removeEventListener("keypress",this.onSpacePress),Object.keys(this.dbRefStage).length&&this.dbRefStage.off("value"),Object.keys(this.dbRefMe).length&&this.dbRefMe.off("value")}},{key:"onAnswer",value:function(e){var t=this;if(!this.waiting){this.waiting=!0,this.isReading=!1,this.msg.onend=function(){},window.speechSynthesis.cancel();var r=this.state.question.number;e?this.corrects[r]?this.corrects[r]+=1:this.corrects[r]=1:this.incorrects[r]?this.incorrects[r]+=1:this.incorrects[r]=1,this.canGoNext=!1,this.here&&this.setState({correct:e,phase:"feedback",readId:""},(function(){document.addEventListener("keypress",t.onSpacePress),t.state.correct?t.canGoNext=!0:t.nextTimeout=setTimeout((function(){t.canGoNext=!0}),3e3)}))}}},{key:"onSpacePress",value:function(e){var t=e||window.event;if(32===t.keyCode||"Space"===t.code){if(this.state.totalProfit>=0)return;"cafe"===this.state.phase?(document.removeEventListener("keypress",this.onSpacePress),this.getQuestion(),this.setState({foodSelected:-1})):"feedback"===this.state.phase&&this.canGoNext&&this.answerNext()}}},{key:"getQuestion",value:function(){var e=this;if(!this.state.showTour&&this.here&&!this.gettingQuestion){this.gettingQuestion=!0,0===this.freeQuestions.length&&(this.freeQuestions=JSON.parse(JSON.stringify(this.questions)));var t=Object(A.o)(this.freeQuestions);this.freeQuestions.splice(this.freeQuestions.indexOf(t),1),t.random&&(t.answers=Object(A.v)(t.answers)),this.here&&this.setState({question:t,phase:"question"},(function(){e.waiting=!0,e.waitTimeout=setTimeout((function(){e.waiting=!1,e.gettingQuestion=!1}),400)}))}}},{key:"newDay",value:function(){var e=this,t=this.state.foods.filter((function(e){return e.level>0})).map((function(e){return e.name})),r=Math.round(10*(1-Math.exp(-.06*(this.state.day-1))))+5,a=0;this.questions.forEach((function(e){a+=Number(e.timeLimit)}));for(var o=Math.max(a/this.questions.length/1.5,12),n=[],s=function(){for(var r=Math.random()>.9,a=Object(A.o)([1,2,2,3,3,3]),s=0,i={},c=0;c<a;c++){var l=Object(A.q)(1,Math.min(.35*e.state.day,r?11:5)+2);i[Object(A.o)(t)]=l,s+=l}var u=0;Object.entries(i).forEach((function(t){var r=K(t,2),a=r[0],o=r[1];u+=B.b[a].profits[e.props.cafe.foods[a]]*o})),u*=B.b.level.multipliers[e.props.cafe.items.level-1],u=Math.round(1.75*u),n.push({blook:r?Object(A.o)(de):Object(A.o)(he),time:1e3*(37*Math.exp(-.05*e.state.day)+1.3*s+(e.state.day<15?o+6:5))+1e3*B.b.time.times[e.props.cafe.items.level-1],enterDelay:1e3*(7*Math.random()*Math.exp(-.035*e.state.day)+1.5),constantOrder:i,order:i,profit:u})},i=0;i<r;i++)s();this.here&&this.setState({futureCustomers:n,showTour:!1},(function(){e.customerTimeout=setTimeout((function(){var t=[{},{},{}];t[Object(A.q)(0,3)]=n[0],n.splice(0,1),e.setState({customers:t,futureCustomers:n},(function(){for(var t=0;t<2;t++)e.addCustomer(n[0].enterDelay*(1+t))}))}),3e3)}))}},{key:"newLiveCustomer",value:function(){for(var e=this,t=this.state.foods.filter((function(e){return e.level>0})).map((function(e){return e.name})),r=Math.random()>.9,a=Object(A.o)([1,2,2,3,3,3]),o={},n=0;n<a;n++){var s=Object(A.q)(1,Math.min(.03*(this.foodServed+this.props.cafe.foodServed),r?9:5)+2);o[Object(A.o)(t)]=s}var i=0;Object.entries(o).forEach((function(t){var r=K(t,2),a=r[0],o=r[1];i+=B.b[a].profits[e.props.cafe.foods[a]]*o})),i*=B.b.level.multipliers[this.props.cafe.items.level-1],i=Math.round(3.25*i),this.happyCustomers>0&&(i=Math.round(2*i),this.happyCustomers-=1);var c={blook:r?Object(A.o)(de):Object(A.o)(he),time:-1,enterDelay:5*Math.random()*1e3,constantOrder:o,order:o,profit:i};this.addCustomer(c.enterDelay,c)}},{key:"addCustomer",value:function(e,t){var r=this;-1!==e&&this.timeouts.push(setTimeout((function(){var e=JSON.parse(JSON.stringify(r.state.customers)),a=JSON.parse(JSON.stringify(r.state.futureCustomers)),o=function(e){for(var t=0;t<e.length;t++)if(!e[t].blook)return t;return-1}(e);-1!==o&&a.length>0?e[o]=a.splice(0,1)[0]:t&&(e[o]=t),r.here&&r.setState({customers:e,futureCustomers:a})}),e))}},{key:"removeCustomer",value:function(e,t){var r=this;if(t&&this.props.client&&this.props.client.hostId&&this.props.cafe.mode){var a=this.state.cafeCash+this.state.customers[e].profit;if(this.props.liveGameController.setVal({path:"c/".concat(this.props.client.name),val:{b:this.props.client.blook,ca:a}}),!this.here)return;this.setState({cafeCash:a},this.canUpgrade)}this.doneTimeout=setTimeout((function(){var a=JSON.parse(JSON.stringify(r.state.customers));if(0!==a[e].time){var o=r.state.customersMissed;t?Object.entries(a[e].constantOrder).forEach((function(e){var t=K(e,2),a=t[0],o=t[1];r.foodSales[a]+=o})):o+=1,a[e]={},r.here&&r.setState({customers:a,customersMissed:o},(function(){if(o>=3){if(r.gameOver=!0,!r.here)return;r.setState({gameOver:!0},(function(){if(r.props.cafe.cafeId){var e=Object(A.d)();J.a.put("/api/cafes/save",{t:e,id:r.props.cafe.cafeId,corrects:r.corrects,incorrects:r.incorrects,cafeCash:Math.min(r.props.cafe.cafeCash+Math.max(r.state.totalProfit,0),Q.a),foodServed:r.props.cafe.foodServed+r.foodServed,day:r.state.day,stage:"final"}).then((function(){r.exitTimeout=setTimeout((function(){r.props.endCafeDay(r.corrects,r.incorrects,r.props.cafe.cafeCash+Math.max(r.state.totalProfit,0),r.state.day,r.props.cafe.foodServed+r.foodServed,r.freeQuestions,"final",{}),r.props.history.push("/cafe/final")}),5e3)})).catch((function(e){h.b.logError(e),window.location.href="".concat(X.a.id,"/login")}))}else r.exitTimeout=setTimeout((function(){r.props.endCafeDay(r.corrects,r.incorrects,r.props.cafe.cafeCash+Math.max(r.state.totalProfit,0),r.state.day,r.props.cafe.foodServed+r.foodServed,r.freeQuestions,"final",{}),r.props.history.push("/cafe/final")}),5e3)}))}else if(r.props.cafe.mode)r.newLiveCustomer();else if(0===r.state.customers.filter((function(e){return e.blook})).length&&0===r.state.futureCustomers.length){var e=[],t=0,a=B.b.level.multipliers[r.props.cafe.items.level-1];if(Object.entries(r.foodSales).forEach((function(o){var n=K(o,2),s=n[0],i=n[1];if(!(i<=0)){var c=Math.round(i*B.b[s].profits[r.props.cafe.foods[s]]*a*1.75);t+=c,e.push({name:s,amount:i,profit:c})}})),r.gameOver||!r.here)return;r.setState({reportArray:e,totalProfit:t})}else r.addCustomer(r.state.futureCustomers[0]?r.state.futureCustomers[0].enterDelay:-1)}))}else{if(Object.entries(a[e].constantOrder).forEach((function(e){var t=K(e,2),a=t[0],o=t[1];r.foodSales[a]+=o})),a[e]={},!r.here)return;r.setState({customers:a})}}),2200)}},{key:"answerNext",value:function(){if(this.canGoNext){var e=JSON.parse(JSON.stringify(this.state.foods));this.state.correct&&e.forEach((function(t,r){t.level>0&&(e[r].stock=Math.min(e[r].stock+1,99))})),this.setState({phase:"cafe",foods:e})}}},{key:"selectFood",value:function(e){this.state.foods[e].stock<=0||this.setState({foodSelected:e===this.state.foodSelected?-1:e})}},{key:"selectCustomer",value:function(e){var t=this.state.customers[e]?this.state.customers[e].order:null;if(t){var r=this.state.foods[this.state.foodSelected];if(r.stock>0&&t[r.name]>0){var a=JSON.parse(JSON.stringify(this.state.customers)),o=Math.min(a[e].order[r.name],r.stock);a[e].order[r.name]-=o;var n=JSON.parse(JSON.stringify(this.state.foods));n[this.state.foodSelected].stock-=o,this.foodServed+=o,this.setState({customers:a,foods:n,foodSelected:-1})}else this.setState({foodSelected:-1})}else this.setState({foodSelected:-1})}},{key:"answerTour",value:function(e){var t=this;if(this.here)if(e){var r={Toast:2},a=[{blook:Object(A.o)(he),time:0,enterDelay:0,constantOrder:r,order:r,profit:this.props.cafe.mode?7:2},{},{}];this.setState({customers:a,askTour:!1,showTour:!0})}else this.setState({askTour:!1,showTour:!1},(function(){if(!t.state.goal)if(t.props.cafe.mode){t.canUpgrade();for(var e=0;e<3-t.state.customers.filter((function(e){return e.profit})).length;e++)t.newLiveCustomer()}else t.newDay()}))}},{key:"canUpgrade",value:function(){for(var e=!1,t=Object.entries(this.props.cafe.foods),r=0;r<Object.keys(this.props.cafe.foods).length;r++)if(B.b[t[r][0]].prices[t[r][1]]<=this.state.cafeCash){e=!0;break}if(!e)for(var a=Object.entries(this.props.cafe.items),o=0;o<Object.keys(this.props.cafe.items).length;o++)if(B.b[a[o][0]].prices[a[o][1]]<=this.state.cafeCash){e=!0;break}this.here&&this.setState({canUpgrade:e})}},{key:"goToShop",value:function(){var e=this;if(!this.gameOver){var t={};if(this.state.foods.forEach((function(e){t[e.name]=e.stock})),this.props.cafe.cafeId){var r=Object(A.d)();J.a.put("/api/cafes/save",{t:r,id:this.props.cafe.cafeId,corrects:this.corrects,incorrects:this.incorrects,cafeCash:Math.min(this.props.cafe.cafeCash+this.state.totalProfit,Q.a),foodServed:this.props.cafe.foodServed+this.foodServed,day:this.state.day+1,stage:"shop",foodStocks:t}).then((function(){e.props.endCafeDay(e.corrects,e.incorrects,e.props.cafe.cafeCash+e.state.totalProfit,e.state.day+1,e.props.cafe.foodServed+e.foodServed,e.freeQuestions,"shop",t),e.props.history.push("/cafe/shop")})).catch((function(e){h.b.logError(e),window.location.href="".concat(X.a.id,"/login")}))}else this.props.cafe.mode?(this.props.endCafeLive(this.corrects,this.incorrects,this.state.cafeCash,this.state.showTour?1:this.state.day+1,this.props.cafe.foodServed+this.foodServed,this.freeQuestions,"shop",t,this.state.customers.map((function(e){return e.order&&0===Object.values(e.order).filter((function(e){return e})).length?{}:e}))),this.props.history.push("/cafe/shop")):(this.props.endCafeDay(this.corrects,this.incorrects,this.props.cafe.cafeCash+this.state.totalProfit,this.state.day+1,this.props.cafe.foodServed+this.foodServed,this.freeQuestions,"shop",t),this.props.history.push("/cafe/shop"))}}},{key:"readQuestion",value:(n=re(V().mark((function e(){var t,r=this;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isReading&&window.speechSynthesis){e.next=2;break}return e.abrupt("return");case 2:return this.isReading=!0,t=function(e,t,a){var o=e;if("`*`"===e.slice(0,3)||e.includes("`~`"))return a();e.includes("`*`")&&(o=e.slice(0,e.indexOf("`*`"))),r.msg=new SpeechSynthesisUtterance(o),r.setState({readId:t}),window.speechSynthesis.speak(r.msg),r.msg.onend=function(){r.setState({readId:""}),a()}},e.next=6,new Promise((function(e){return t(r.state.question.question,"qText",e)}));case 6:return e.next=8,new Promise((function(e){return t(r.state.question.answers[0],"q1",e)}));case 8:return e.next=10,new Promise((function(e){return t(r.state.question.answers[1],"q2",e)}));case 10:if(!this.state.question.answers[2]){e.next=13;break}return e.next=13,new Promise((function(e){return t(r.state.question.answers[2],"q3",e)}));case 13:if(!this.state.question.answers[3]){e.next=16;break}return e.next=16,new Promise((function(e){return t(r.state.question.answers[3],"q4",e)}));case 16:this.isReading=!1;case 17:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(this.props.cafe&&(this.props.cafe.resultId||this.props.cafe.mode)?this.redirect=!1:this.state.notLoggedIn&&(h.b.logError("CafePage cannot render if this.state.notLoggedIn"),this.redirect=!0),this.props.cafe||(h.b.logError("CafePage cannot render without this.props.cafe"),this.redirect=!0),this.props.cafe.questions||(h.b.logError("CafePage cannot render without this.props.cafe.questions"),this.redirect=!0),this.props.cafe.questions[0]||(h.b.logError("CafePage cannot render without this.props.cafe.questions[0]"),this.redirect=!0),this.state.redirect&&(h.b.logError("CafePage cannot render if this.state.redirect"),this.redirect=!0),!this.redirect)return o.a.createElement("div",{className:u.isMobile?m.a.mBody:m.a.body,id:"body"},o.a.createElement(b.a,{title:"Play Café | Blooket",desc:"Serve delicious food to Blooks by answering questions, and make money to upgrade your Café."}),o.a.createElement(v.a,{cash:this.state.mode?this.state.cafeCash:null,customers:this.state.mode?null:this.state.futureCustomers.length,name:this.state.name,color:Object(P.d)(this.props.cafe.items.level),showRead:"question"===this.state.phase,readQuestion:this.readQuestion}),o.a.createElement("div",{className:m.a.regularBody,id:"regularBody"},this.state.showTour?o.a.createElement(C.a,{steps:this.props.cafe.mode?k.b:k.c,onExit:this.props.cafe.goal?function(){}:this.state.goal?function(){return e.answerTour(!1)}:this.newDay,functions:[this.answerNext,this.goToShop]}):null,o.a.createElement(P.a,{level:this.props.cafe.items.level}),o.a.createElement("div",{className:_.a.counterBelow}),o.a.createElement("div",{className:_.a.counterBottom,style:{backgroundColor:Object(P.b)(this.props.cafe.items.level)}}),o.a.createElement("div",{className:_.a.counterTop,style:{backgroundColor:Object(P.c)(this.props.cafe.items.level)}}),this.state.foods.map((function(t,r){return o.a.createElement("div",{className:p()(_.a.plate,_.a["plate".concat(r+1)],ee({},_.a.plateHover,t.stock>0),ee({},_.a.plateSelected,e.state.foodSelected===r&&t.stock>0),ee({},_.a.plateColor4,4===t.level),ee({},_.a.plateColor5,5===t.level)),key:t.name,style:{cursor:t.stock>0?"pointer":"auto"},id:"plate".concat(r+1),role:"button",tabIndex:0,onClick:function(){return e.selectFood(r)}},t.level>1?o.a.createElement("div",{className:_.a["plateLevel".concat(t.level)]}):null,t.stock>0?o.a.createElement(I.a,{name:t.name,className:_.a.food}):null,0===t.level?o.a.createElement("div",{className:_.a.lockedPlate},o.a.createElement("i",{className:"fas fa-lock"})):o.a.createElement("div",{className:_.a.foodStock},t.stock))})),this.state.customers.map((function(t,r){return t&&t.blook?o.a.createElement(T.a,{blook:t.blook,place:r,key:r,order:t.order,profit:t.profit,canClick:-1!==e.state.foodSelected&&Object.entries(t.order).filter((function(e){return K(e,2)[1]>0})).map((function(e){return e[0]})).includes(e.state.foods[e.state.foodSelected].name),onClick:function(){return e.selectCustomer(r)},time:t.time,onDone:function(t){return e.removeCustomer(r,t)}}):null})),o.a.createElement("div",{className:this.state.mode?_.a.restockButtonLive:_.a.restockButton,role:"button",tabIndex:0,onClick:this.getQuestion,id:"restock"},"Restock Food",u.isMobile?null:o.a.createElement("div",{className:_.a.restockKey},"Space")),"trash"===this.state.ability?o.a.createElement(I.a,{name:this.state.attackerBlook,className:_.a.trashBlook}):null,this.state.mode?o.a.createElement("div",{className:_.a.restockButtonLive,role:"button",tabIndex:0,onClick:this.goToShop,id:"upgrade",style:{backgroundColor:"#ff7b24",left:"52.5%",opacity:this.state.canUpgrade?1:.5}},"Upgrade Shop",this.state.canUpgrade?o.a.createElement("div",{className:_.a.upgradeIcon},"!"):null):null,o.a.createElement("div",{className:_.a.missesContainer},o.a.createElement("i",{className:p()("fas fa-times",_.a.miss),style:{opacity:this.state.customersMissed>0?1:0}}),o.a.createElement("i",{className:p()("fas fa-times",_.a.miss),style:{opacity:this.state.customersMissed>1?1:0}}),o.a.createElement("i",{className:p()("fas fa-times",_.a.miss),style:{opacity:this.state.customersMissed>2?1:0}}))),"question"===this.state.phase?o.a.createElement("div",{className:_.a.questionContainer},o.a.createElement(g.a,{onAnswer:this.onAnswer,question:this.state.question,readId:this.state.readId})):"feedback"===this.state.phase?o.a.createElement("div",{className:_.a.feedbackContainer},o.a.createElement(w.a,{incorrectTime:3,question:this.state.question,correct:this.state.correct,onNext:this.answerNext})):null,this.state.totalProfit>=0?o.a.createElement("div",{className:p()(m.a.modal,_.a.modalFadeIn)},o.a.createElement("div",{className:_.a.reportContainer},o.a.createElement("div",{className:_.a.reportHeader},"Day ".concat(this.state.day)),this.state.reportArray.map((function(e,t){return o.a.createElement("div",{className:_.a.reportRow,key:e.name,style:{backgroundColor:t%2==0?"#e6e6e6":"#f2f2f2",borderTopLeftRadius:0===t?5:0,borderTopRightRadius:0===t?5:0}},o.a.createElement(I.a,{name:e.name,className:_.a.reportFood}),o.a.createElement("i",{className:p()("fas fa-times",_.a.reportTimes)}),o.a.createElement("div",{className:_.a.reportAmount},"".concat(e.amount," sold")),o.a.createElement("div",{className:_.a.reportProfit},"$".concat(Object(A.u)(e.profit))))})),o.a.createElement("div",{style:{backgroundColor:"#c43a35",width:"90%",height:3}}),o.a.createElement("div",{className:_.a.reportRow,style:{backgroundColor:this.state.reportArray.length%2==0?"#e6e6e6":"#f2f2f2",borderBottomLeftRadius:5,borderBottomRightRadius:5}},o.a.createElement("div",{className:_.a.reportAmount},"Total Profit:"),o.a.createElement("div",{className:_.a.reportProfit},"+ $".concat(Object(A.n)(this.state.totalProfit)))),o.a.createElement("div",{className:_.a.reportShopButton,role:"button",tabIndex:0,onClick:this.goToShop},"To Upgrade Shop"),o.a.createElement("div",{style:{height:30}})),o.a.createElement("div",{style:{height:50}})):null,this.state.askTour?o.a.createElement(x.a,{text:"Would you like a quick tutorial?",buttonOne:{text:"Yes",click:function(){return e.answerTour(!0)},color:"blue"},buttonTwo:{text:"No",click:function(){return e.answerTour(!1)},color:"blue"}}):this.state.goal&&!this.state.showTour?o.a.createElement(x.a,{text:this.state.mode?"Time"===this.state.mode?"Make as much money as you can in ".concat(this.state.goal," ").concat(1===parseInt(this.state.goal,10)?"minute":"minutes","!"):"Be the first to make $".concat(Object(A.n)(this.state.goal),"!"):"Your goal for this homework is to keep your Café open for ".concat(this.state.goal," ").concat(1===this.state.goal?"Day":"Days","!"),buttonOne:{text:"Cool",click:function(){return e.setState({goal:0},(function(){return e.answerTour(!1)}))},color:"blue"}}):"pay"===this.state.ability||"tax"===this.state.ability?o.a.createElement(x.a,{text:"pay"===this.state.ability?"".concat(this.state.attackerName," just gave you a $").concat(Object(A.n)(this.state.cashChange)," paycheck bonus!"):"".concat(this.state.attackerName," just forced you to pay $").concat(Object(A.n)(this.state.cashChange)," in taxes."),blook:this.state.attackerBlook,buttonOne:{text:"OK",click:function(){return e.setState({ability:""})},color:"blue"}}):null,"inspect"===this.state.ability?o.a.createElement(L.a,{name:this.state.attackerName,blook:this.state.attackerBlook}):null,this.state.gameOver?o.a.createElement("div",{className:p()(m.a.modal,_.a.modalFadeIn)},o.a.createElement("div",{className:_.a.gameOverContainer},o.a.createElement("div",{className:_.a.gameOverText},"Game Over"),o.a.createElement("div",{className:_.a.gameOverTextSmall},"You failed to serve 3 customers today"))):null);window.location.href="".concat(X.a.id,"/login")}}])&&ae(t.prototype,r),a&&ae(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);ye.propTypes={client:c.a.object,cafe:c.a.object,history:c.a.object.isRequired,endCafeDay:c.a.func.isRequired,endCafeLive:c.a.func.isRequired,setStanding:c.a.func.isRequired,deleteClient:c.a.func.isRequired,liveGameController:c.a.object,user:c.a.object};t.a=Object(q.c)(Object(l.f)(Object(s.b)((function(e){return{id:e.hosts.id,client:e.clients.client,cafe:e.cafes.cafe}}),(function(e){return Object(n.b)({endCafeDay:O,endCafeLive:j,setStanding:E.b,deleteClient:N.a},e)}))(Object(R.d)(ye))))},"mG+w":function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".styles__cafeBackground___2oH12-camelCase{background-color:#fff;background-image:linear-gradient(90deg,rgba(200,0,0,.5) 50%,transparent 0),linear-gradient(rgba(200,0,0,.5) 50%,transparent 0);background-size:50px 50px}",""]),t.locals={cafeBackground:"styles__cafeBackground___2oH12-camelCase"}},rUkA:function(e,t,r){var a=r("mG+w");"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,o);a.locals&&(e.exports=a.locals)},u8Ko:function(e,t,r){"use strict";var a=r("q1tI"),o=r.n(a),n=r("55Ip"),s=r("/MKj"),i=r("ANjH"),c=r("17x9"),l=r.n(c),u=r("oPOS"),f=r("5BnW"),p=r("E8Bj"),h=r("ZrUs"),d=r("74sb"),m=r("t3SV"),y=r("VgyX"),_=r("zUlG"),v=r("L1pz");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof p?t:p,s=Object.create(n.prototype),i=new j(o||[]);return a(s,"_invoke",{value:C(e,r,i)}),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function p(){}function h(){}function d(){}var m={};c(m,n,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(E([])));_&&_!==t&&r.call(_,n)&&(m=_);var v=d.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var o;a(this,"_invoke",{value:function(a,n){function s(){return new t((function(o,s){!function a(o,n,s,i){var c=u(e[o],e,n);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==b(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,s,i)}),(function(e){a("throw",e,s,i)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,i)}))}i(c.arg)}(a,n,o,s)}))}return o=o?o.then(s,s):s()}})}function C(e,t,r){var a="suspendedStart";return function(o,n){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw n;return N()}for(r.method=o,r.arg=n;;){var s=r.delegate;if(s){var i=k(s,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var c=u(e,t,r);if("normal"===c.type){if(a=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a="completed",r.method="throw",r.arg=c.arg)}}}function k(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=d,a(v,"constructor",{value:d,configurable:!0}),a(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,a,o,n){void 0===n&&(n=Promise);var s=new x(l(t,r,a,o),n);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(v),c(v,i,"Generator"),c(v,n,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=E,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var i=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function w(e,t,r,a,o,n,s){try{var i=e[n](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var n=e.apply(t,r);function s(e){w(n,a,o,s,i,"next",e)}function i(e){w(n,a,o,s,i,"throw",e)}s(void 0)}))}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(o=a.key,n=void 0,n=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==b(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===b(n)?n:String(n)),a)}var o,n}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return j(this,r)}}function j(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(c,e);var t,r,a,o,n,s,i=O(c);function c(){return C(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){var e=this,t=Object(d.j)("t");Object(d.y)(t);var r={t:t};m.a.post("/api/playersessions/landings",r).then(function(){var r=x(g().mark((function r(a){var o;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=a.data,r.t0=o.method,r.next="solo"===r.t0?4:"assign"===r.t0?7:"host"===r.t0?10:13;break;case 4:return r.next=6,e.setupAndLaunchSolo(t,o);case 6:return r.abrupt("break",14);case 7:return r.next=9,e.setupAndLaunchHomework(t,o);case 9:return r.abrupt("break",14);case 10:return r.next=12,e.setupAndLaunchHosted(t,o);case 12:return r.abrupt("break",14);case 13:u.b.logError("unknown game method ".concat(o.method));case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(t){u.b.logError(t),e.props.history.goBack()}))}},{key:"setupAndLaunchSolo",value:(s=x(g().mark((function e(t,r){var a,o,n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.addGameId(r.questionSetId),e.next=4,m.a.get("/api/playersessions/questions",{params:{t:t}});case 4:return a=e.sent,this.props.addQuestions(a.data.questions),e.next=8,this.props.user.getData();case 8:o=e.sent,this.props.login(o.name),setTimeout((function(){n.props.history.replace("/cafe/load")}),500),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),u.b.logError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e,t){return s.apply(this,arguments)})},{key:"setupAndLaunchHomework",value:(n=x(g().mark((function e(t,r){var a,o,n,s=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.addClientName(r.inGameName),e.next=4,m.a.get("/api/playersessions/questions",{params:{t:t}});case 4:return a=e.sent,this.props.addQuestions(a.data.questions),e.next=8,m.a.get("/api/homeworks/byid",{params:{id:r.homeworkId}});case 8:o=e.sent,n=o.data,this.props.setAmountHw(r.homeworkId,n.plus,n.settings.amount,n.settings.type,n.settings.allowAccounts),setTimeout((function(){s.props.history.replace("/play/register")}),500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),u.b.logError(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e,t){return n.apply(this,arguments)})},{key:"setupAndLaunchHosted",value:(o=x(g().mark((function e(t,r){var a,o=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.c.gameStatus(r.liveGameCode);case 2:a=e.sent,this.props.addClient(r.liveGameCode,a.isPlus,a.isRandomNames),setTimeout((function(){o.props.history.replace("/play/register")}),500);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"render",value:function(){return null}}])&&k(t.prototype,r),a&&k(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);N.propTypes={login:l.a.func.isRequired,history:l.a.object.isRequired,user:l.a.object,addGameId:l.a.func.isRequired,addClientName:l.a.func.isRequired,setAmountHw:l.a.func.isRequired,addQuestions:l.a.func.isRequired,addClient:l.a.func.isRequired};t.a=Object(p.c)(Object(n.f)(Object(s.b)((function(){return{}}),(function(e){return Object(i.b)({setFactory:h.e,login:h.b,addGameId:y.a,addQuestions:_.b,addClientName:_.a,setAmountHw:v.c,addClient:v.a},e)}))(Object(f.d)(N))))},yYYV:function(e,t,r){"use strict";var a=r("q1tI"),o=r.n(a),n=r("ANjH"),s=r("/MKj"),i=r("17x9"),c=r.n(i),l=r("55Ip"),u=r("4HzQ"),f=r("1F66"),p=r.n(f),h=r("+3eq"),d=r("TSYQ"),m=r.n(d),y=r("wd/R"),_=r.n(y),v=(r("RiPy"),r("oPOS")),b=r("+xn+"),g=r("HbJ1"),w=r("VgyX"),x=r("kQZX"),C=r("qFIf"),k=r("XTAU"),S=r("Xst1"),O=r.n(S),j=r("hpat"),E=r.n(j),N=r("bYay"),T=r("0oXL"),P=r("ca/f"),L=r("74sb"),I=r("FzPT"),B=r("5BnW"),A=r("28sW");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return(t=Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,o,n,s,i=[],c=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=n.call(r)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function F(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y(a.key),a)}}function Y(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==R(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=K(e);if(t){var o=K(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return X(this,r)}}function X(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(s,e);var t,r,a,n=Q(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=n.call(this,e)).state={timer:"00:00",players:[],alerts:[],totalCash:0,muted:!!e.host&&e.host.muted,userToBlock:""},t.ok=!1,t.alertContainer=o.a.createRef(),t.getClients=t.getClients.bind(W(t)),t.changeMuted=t.changeMuted.bind(W(t)),t.goNext=t.goNext.bind(W(t)),t.addAlert=t.addAlert.bind(W(t)),t.scrollToBottom=t.scrollToBottom.bind(W(t)),t.blockUser=t.blockUser.bind(W(t)),t.audio=new Audio(I.a),t.audio.muted=t.state.muted,t}return t=s,(r=[{key:"componentDidMount",value:function(){var e=this;if(this.props.host&&this.props.host.settings){if(this.audio.volume=.6,this.audio.play(),this.audio.addEventListener("ended",(function(){e.audio.currentTime=0,e.audio.play()}),!1),this.props.liveGameController.setStage({stage:"cafe"}),this.getClients(!1),"Time"===this.props.host.settings.mode){var t=60*this.props.host.settings.amount,r=4;this.setState({timer:_.a.duration(t,"seconds").format("mm:ss")}),this.timerInterval=setInterval((function(){t-=1,e.setState({timer:_.a.duration(t,"seconds").format("mm:ss")}),t<=0?(e.getClients(!0),clearInterval(e.timerInterval)):0===r?(e.getClients(!1),r=4):r-=1}),1e3)}else this.clientsInterval=setInterval((function(){e.getClients(!1)}),4e3);this.alertContainer=document.querySelector("#alerts")}}},{key:"componentWillUnmount",value:function(){var e=this;clearInterval(this.timerInterval),clearInterval(this.clientsInterval),!this.ok&&this.props.host&&this.props.host.id&&(this.props.liveGameController.removeHostAndDeleteGame(),this.props.deleteHost()),this.audio.currentTime=0,this.audio.pause(),this.audio.removeEventListener("ended",(function(){e.audio.currentTime=0,e.audio.play()}),!1)}},{key:"getClients",value:function(e){var t=this;this.props.liveGameController.getDatabaseVal("c",(function(r){var a=r||{};if(a&&0!==Object.keys(a).length){var o=!1,n=[];Object.entries(a).forEach((function(e){var r=M(e,2),a=r[0],o=r[1];if(n.push({name:a,blook:o.b,cash:o.ca||0,toAttack:o.tat}),o.up){var s=o.up.split(":");2===s.length&&t.addAlert(a,o.b,"upgraded ".concat(s[0]," to Level ").concat(s[1]),s[0])}}));var s=n.map((function(e){return e.name}));n.forEach((function(e){if(e.toAttack){var r=e.toAttack.split(":"),a=s.indexOf(r[0]);if(-1===a)return;var o=n[a];if(r.length<2)return;t.props.liveGameController.setVal({path:"c/".concat(o.name,"/at"),val:"".concat(e.name,":").concat(e.blook,":").concat(r[1])}),t.props.liveGameController.removeVal("c/".concat(e.name,"/tat"))}})),n.sort((function(e,t){return t.cash-e.cash}));for(var i=0,c=0;c<n.length;c++)n[c].place=c+1,i+=n[c].cash,"Cash"===t.props.host.settings.mode&&n[c].cash>=t.props.host.settings.amount&&(o=!0);o||e?t.goNext([].concat(n)):t.setState({players:n,totalCash:i})}else e&&(window.location.href="".concat(A.a.dashboard,"/"))}))}},{key:"changeMuted",value:function(){var e=this;this.setState({muted:!this.state.muted},(function(){e.audio.muted=e.state.muted,e.props.setMuted(e.state.muted)}))}},{key:"goNext",value:function(e){var t=this;this.props.updateStandings(e);var r=e.map((function(e){return{n:e.name,b:e.blook,c:e.cash,p:e.place}}));this.props.liveGameController.setVal({path:"st",val:r},(function(){t.props.liveGameController.setStage({stage:"fin"},(function(){t.ok=!0,t.props.history.push("/host/cafe/final")}))}))}},{key:"addAlert",value:function(e,t,r,a){var o=[].concat(D(this.state.alerts),[{name:e,blook:t,msg:r,endBlook:a}]),n=Array.from(new Set(o.map((function(e){return"".concat(e.name," ").concat(e.msg)})))).map((function(e){return o.find((function(t){return"".concat(t.name," ").concat(t.msg)===e}))}));n.length>15&&n.splice(0,1),this.setState({alerts:n},this.scrollToBottom)}},{key:"scrollToBottom",value:function(){this.alertContainer.scrollTop=this.alertContainer.scrollHeight}},{key:"blockUser",value:function(){var e=this.state.userToBlock,t=JSON.parse(JSON.stringify(this.state.players)),r=t.map((function(e){return e.name})).indexOf(e),a=t.length;-1!==r&&(a=t[r].place,t.splice(r,1)),t=t.map((function(e){return G(G({},e),{},{place:e.place>a?e.place-1:e.place})})),this.setState({players:t,userToBlock:""}),this.props.liveGameController.blockUser(e)}},{key:"render",value:function(){var e=this;return this.props.host&&this.props.host.settings?o.a.createElement("div",{className:O.a.body,style:{overflow:"hidden"}},o.a.createElement(k.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),o.a.createElement(x.a,{left:"Blooket",center:"Time"===this.props.host.settings.mode?this.state.timer:"Goal: $".concat(Object(L.n)(this.props.host.settings.amount)),right:this.props.host.settings.lateJoin?"ID: ".concat(this.props.host.id):"",muted:this.state.muted,changeMuted:this.changeMuted,onRightClick:function(){return e.getClients(!0)}}),o.a.createElement("div",{className:O.a.hostRegularBody},o.a.createElement(N.a,{level:2}),o.a.createElement(p.a,{data:this.state.players,keyAccessor:function(e){return e.name},start:function(e){return{x:-60,y:11*(e.place-1)}},enter:function(e){return{x:[0],y:[11*(e.place-1)],timing:{duration:1e3,ease:h.a}}},update:function(e){return{x:[0],y:[11*(e.place-1)],timing:{duration:500,ease:h.a}}},leave:function(){return{x:[-60],timing:1e3}}},(function(t){return o.a.createElement("div",{className:m()(E.a.left,E.a.invisibleScrollbar)},t.map((function(t){var r=t.key,a=t.data,n=t.state,s=n.x,i=n.y;return o.a.createElement("div",{key:r,style:{opacity:e.state.userToBlock===a.name?.4:null,transform:"translate(".concat(s,"vw, ").concat(i,"vh)")},className:E.a.standingContainer,role:"button",tabIndex:0,onClick:function(){return e.setState({userToBlock:a.name})}},o.a.createElement(u.Textfit,{className:E.a.placeText,mode:"single",forceSingleModeWidth:!1,min:1,max:Object(L.A)("5vw")},a.place),o.a.createElement("div",{className:E.a.superPlaceText},Object(L.h)(a.place)),o.a.createElement(T.a,{name:a.blook,className:E.a.blookBox}),o.a.createElement(u.Textfit,{className:E.a.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:Object(L.A)("4vw")},a.name),o.a.createElement(u.Textfit,{className:E.a.cashText,mode:"single",forceSingleModeWidth:!1,min:1,max:Object(L.A)("5vw")},"$".concat(Object(L.u)(a.cash))))})))})),o.a.createElement("div",{className:E.a.chatroom},o.a.createElement("div",{className:m()(E.a.chatroomInside,E.a.invisibleScrollbar),id:"alerts"},this.state.alerts[0]?this.state.alerts.map((function(e,t){return o.a.createElement(C.a,{key:t,name:e.name,blook:e.blook,message:e.msg,endBlook:e.endBlook,glitchInfo:e.glitchInfo,isWhite:!0})})):o.a.createElement("div",{className:E.a.noAlerts},o.a.createElement("i",{className:m()(E.a.noAlertsIcon,"far fa-clock")}),o.a.createElement("div",{className:E.a.noAlertsText},"Waiting For Action...")))),o.a.createElement(u.Textfit,{className:E.a.totalCashText,mode:"single",forceSingleModeWidth:!1,min:1,max:Object(L.A)("7vw")},"$".concat(Object(L.n)(this.state.totalCash)))),this.state.userToBlock?o.a.createElement(P.a,{text:"Remove ".concat(this.state.userToBlock," from the game?"),buttonOne:{text:"Yes",click:this.blockUser,color:"red"},buttonTwo:{text:"No",click:function(){return e.setState({userToBlock:""})},color:"blue"}}):null):(v.b.logError("HostCafePage cannot render without this.props.host"),void(window.location.href="".concat(A.a.dashboard,"/")))}}])&&F(t.prototype,r),a&&F(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);V.propTypes={host:c.a.object,liveGameController:c.a.object,history:c.a.object,updateStandings:c.a.func.isRequired,setMuted:c.a.func.isRequired,deleteHost:c.a.func.isRequired};t.a=Object(l.f)(Object(s.b)((function(e){return{host:e.hosts.host}}),(function(e){return Object(n.b)({updateStandings:b.b,setMuted:g.a,deleteHost:w.d},e)}))(Object(B.d)(V)))}}]);