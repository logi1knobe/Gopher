(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5XbW":function(e,t,s){var a=s("qMZh");"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,i);a.locals&&(e.exports=a.locals)},LJMA:function(e,t,s){var a=s("sAa+");"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,i);a.locals&&(e.exports=a.locals)},mte7:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),t.a={meadow:{id:"meadow",name:"Sunny Meadow",difficulty:"Easy",numColumns:10,numRows:11,tiles:[[0,0,0,0,0,0,0,2,0,0],[2,0,1,1,1,0,0,0,0,0],[0,0,1,0,1,0,1,1,1,1],[0,0,1,0,1,0,1,0,0,0],[0,0,1,0,1,0,1,0,0,2],[1,1,1,0,1,0,1,0,0,0],[0,0,0,0,1,0,1,1,1,0],[2,1,1,1,1,0,0,0,1,2],[0,1,0,0,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,0],[2,0,0,0,0,0,0,0,0,0]],paths:[[[-1,5],[2,5],[2,1],[4,1],[4,7],[1,7],[1,9],[8,9],[8,6],[6,6],[6,2],[10,2]]],caves:[{img:"https://media.blooket.com/image/upload/v1676138407/Media/defense/maps/sunny_cave1.svg",rotation:0,pos:{x:-1.1,y:5.15}},{img:"https://media.blooket.com/image/upload/v1676138407/Media/defense/maps/sunny_cave2.svg",rotation:0,pos:{x:10.1,y:2}}],pathLengths:[40],bgColor:"#0068b3",lightRange:!1,bigImg:"https://media.blooket.com/image/upload/v1676138408/Media/defense/maps/sunny_map_1540.png",mediumImg:"https://media.blooket.com/image/upload/v1676828327/Media/defense/maps/sunny1000.png",smallImg:"https://media.blooket.com/image/upload/v1676136650/Media/defense/maps/small/sunny200.png"},desert:{id:"desert",name:"Lost Desert",difficulty:"Easy",numColumns:10,numRows:11,tiles:[[0,2,0,0,2,0,0,0,0,0],[1,1,1,1,0,0,1,1,1,2],[0,0,0,1,0,0,1,0,1,0],[0,0,2,1,1,1,1,0,1,0],[0,0,0,0,0,0,2,0,1,0],[0,1,1,1,1,1,1,1,1,0],[0,1,2,0,0,0,0,0,2,0],[2,1,0,1,1,1,1,0,0,0],[0,1,0,1,0,0,1,0,2,0],[0,1,1,1,0,0,1,1,1,1],[0,2,0,0,0,0,2,0,0,0]],paths:[[[-1,1],[3,1],[3,3],[6,3],[6,1],[8,1],[8,5],[1,5],[1,9],[3,9],[3,7],[6,7],[6,9],[10,9]]],caves:[{img:"https://media.blooket.com/image/upload/v1676138408/Media/defense/maps/desert_cave1.svg",rotation:0,pos:{x:-1.1,y:1.15}},{img:"https://media.blooket.com/image/upload/v1676138408/Media/defense/maps/desert_cave2.svg",rotation:0,pos:{x:10.1,y:8.9}}],pathLengths:[41],bgColor:"#2475a6",lightRange:!1,bigImg:"https://media.blooket.com/image/upload/v1676138409/Media/defense/maps/desert_map_1540.png",mediumImg:"https://media.blooket.com/image/upload/v1676828327/Media/defense/maps/desert1000.png",smallImg:"https://media.blooket.com/image/upload/v1676136651/Media/defense/maps/small/desert200.png"},mine:{id:"mine",name:"Abandoned Mine",difficulty:"Easy",numColumns:10,numRows:11,tiles:[[0,2,0,1,0,1,2,0,0,2],[0,0,0,1,0,1,0,0,2,2],[0,0,0,1,0,1,0,0,0,0],[2,1,1,1,0,1,1,1,0,0],[0,1,0,0,0,0,2,1,0,0],[0,1,1,1,0,1,1,1,2,0],[0,2,0,1,0,1,0,0,0,0],[0,1,1,1,0,1,1,1,0,2],[0,1,0,2,0,0,0,1,0,0],[2,1,1,1,1,1,1,1,0,2],[0,0,0,0,0,2,0,0,0,0]],paths:[[[3,-1],[3,3],[1,3],[1,5],[3,5],[3,7],[1,7],[1,9],[7,9],[7,7],[5,7],[5,5],[7,5],[7,3],[5,3],[5,-1]]],caves:[{img:"https://media.blooket.com/image/upload/v1676138407/Media/defense/maps/mine_cave1.svg",rotation:0,pos:{x:3,y:-1}},{img:"https://media.blooket.com/image/upload/v1676138407/Media/defense/maps/mine_cave2.svg",rotation:0,pos:{x:5,y:-1}}],pathLengths:[38],bgColor:"#005dc3",lightRange:!0,bigImg:"https://media.blooket.com/image/upload/v1676138408/Media/defense/maps/mine_map_1540.png",mediumImg:"https://media.blooket.com/image/upload/v1676828327/Media/defense/maps/mine1000.png",smallImg:"https://media.blooket.com/image/upload/v1676136651/Media/defense/maps/small/mine200.png"},factory:{id:"factory",name:"Fractured Factory",difficulty:"Hard",numColumns:10,numRows:11,tiles:[[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,2,0,1,0,0],[0,1,1,0,0,0,0,1,1,0],[0,1,0,0,0,0,0,0,1,0],[2,1,1,1,1,1,1,1,1,0],[0,0,0,2,0,0,0,2,0,0],[0,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,0,2,0,1,0],[0,1,1,0,0,0,0,1,1,2],[0,0,1,0,0,0,0,1,0,0],[0,0,1,0,2,0,0,1,0,0]],paths:[[[2,-1],[2,2],[1,2],[1,4],[8,4],[8,2],[7,2],[7,-1]],[[2,11],[2,8],[1,8],[1,6],[8,6],[8,8],[7,8],[7,11]]],caves:[{img:"https://media.blooket.com/image/upload/v1676138407/Media/defense/maps/factoryCaveStart1.svg",rotation:0,pos:{x:2,y:-1}},{img:"https://media.blooket.com/image/upload/v1676138409/Media/defense/maps/factoryCaveEnd1.svg",rotation:0,pos:{x:7,y:-1}},{img:"https://media.blooket.com/image/upload/v1676138407/Media/defense/maps/factoryCaveStart1.svg",rotation:180,pos:{x:2,y:11}},{img:"https://media.blooket.com/image/upload/v1676138409/Media/defense/maps/factoryCaveEnd1.svg",rotation:180,pos:{x:7,y:11}}],pathLengths:[19,19],bgColor:"#205d96",lightRange:!0,bigImg:"https://media.blooket.com/image/upload/v1676138407/Media/defense/maps/factoryMap1540.png",mediumImg:"https://media.blooket.com/image/upload/v1676828327/Media/defense/maps/factory1000.png",smallImg:"https://media.blooket.com/image/upload/v1676136650/Media/defense/maps/small/factory200.png"}};var a=function(e,t,s){return"factory-2"===e?(s-1)%2:"factory"===e?(t-1)%2:0}},qMZh:function(e,t,s){(t=e.exports=s("JPst")(!1)).push([e.i,".tourSteps__topRight___1d3bz-camelCase{top:65px;right:20px}.tourSteps__centered___3VSru-camelCase{top:50%;left:50%;transform:translate(-50%,-50%)}.tourSteps__shop___3GL4t-camelCase{right:250px}.tourSteps__shop___3GL4t-camelCase,.tourSteps__stats___1BWVn-camelCase{top:50%;transform:translateY(-50%)}.tourSteps__stats___1BWVn-camelCase{left:250px}.tourSteps__upgradeButton___RXBjv-camelCase{top:530px;left:250px}.tourSteps__nextRound___GPUZH-camelCase{bottom:20px;right:250px}@media only screen and (max-height:700px){.tourSteps__upgradeButton___RXBjv-camelCase{top:430px}}@media only screen and (max-width:900px){.tourSteps__shop___3GL4t-camelCase{top:unset;bottom:65px;right:50%;transform:translateX(50%)}.tourSteps__stats___1BWVn-camelCase{top:unset;bottom:15px;left:50%;transform:translateX(-50%)}.tourSteps__nextRound___GPUZH-camelCase{bottom:unset;top:100px;right:20px}}",""]),t.locals={topRight:"tourSteps__topRight___1d3bz-camelCase",centered:"tourSteps__centered___3VSru-camelCase",shop:"tourSteps__shop___3GL4t-camelCase",stats:"tourSteps__stats___1BWVn-camelCase",upgradeButton:"tourSteps__upgradeButton___RXBjv-camelCase",nextRound:"tourSteps__nextRound___GPUZH-camelCase"}},"sAa+":function(e,t,s){(t=e.exports=s("JPst")(!1)).push([e.i,".styles__phaserHolder___1Ytap-camelCase{width:100%;left:0;overflow:hidden}.styles__phaserHolder___1Ytap-camelCase,.styles__right___3v45x-camelCase{height:100%;position:absolute;top:0}.styles__right___3v45x-camelCase{right:0;width:240px;background-color:#af4a2c;display:flex;flex-direction:column}.styles__texture___9TeTS-camelCase,.styles__texture2___1VdoB-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;mix-blend-mode:multiply;background-image:url(https://media.blooket.com/image/upload/v1669333770/Media/defense/woodGrainTexMultiply.svg);background-size:240px 240px}.styles__texture2___1VdoB-camelCase{background-image:url(https://media.blooket.com/image/upload/v1670461093/Media/defense/woodDentsTex2.svg);mix-blend-mode:normal}.styles__borderLeft___2UMAO-camelCase,.styles__borderRight___2US9Q-camelCase{position:absolute;top:0;left:165px;width:84px;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-image:url(https://media.blooket.com/image/upload/v1670964043/Media/defense/woodBorder3.png);background-repeat:repeat-y}.styles__borderRight___2US9Q-camelCase{left:unset;right:165px;transform:rotateY(180deg)}.styles__rightInside___3F_xS-camelCase{position:absolute;left:5%;width:95%;height:100%;display:flex;flex-direction:column;padding:10px 0;box-sizing:border-box}.styles__healthRow___3Vd2I-camelCase{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;margin-bottom:10px}.styles__healthBar___2lITn-camelCase{background-color:#6c2811;width:140px;height:30px;border-radius:10px;padding:5px 7px;box-sizing:border-box;box-shadow:0 1.5px #d17d5b}.styles__healthBarInside___2thhB-camelCase{background-color:#41afd4;border-radius:7px;width:100%;height:100%;transform-origin:left center;position:relative;overflow:hidden}.styles__healthBarInsideShadow___2kzY8-camelCase{position:absolute;width:100%;height:50%;bottom:0;background-color:rgba(0,0,0,.2)}.styles__healthText___19UaF-camelCase{margin:0 3px 0 7px;width:44px;text-align:center}.styles__dmgText___VnxOa-camelCase,.styles__healthText___19UaF-camelCase{font-size:22px;font-family:Titan One,sans-serif;color:#fff;text-shadow:0 3px rgba(0,0,0,.2)}.styles__dmgText___VnxOa-camelCase{margin-right:7px}.styles__healthIcon___2ty0j-camelCase{margin-top:1px;width:24px}.styles__roundContainer___3_38q-camelCase{position:relative;display:flex;align-items:center;width:180px;height:64.12955px;background-image:url(https://media.blooket.com/image/upload/v1671497148/Media/defense/upgradesBanner2.svg);background-size:100%;font-family:Titan One,sans-serif;color:#fff;text-shadow:0 3.5px rgba(0,0,0,.2);font-size:28px}.styles__roundContainer___3_38q-camelCase,.styles__towersHolder___12QqT-camelCase{justify-content:center;margin:0 auto 10px}.styles__towersHolder___12QqT-camelCase{display:grid;align-content:flex-start;grid-template-columns:repeat(auto-fill,60px);grid-gap:10px;width:97%;overflow-y:auto;height:calc(100% - 190px)}.styles__towersHolder___12QqT-camelCase::-webkit-scrollbar{width:8px}.styles__towersHolder___12QqT-camelCase::-webkit-scrollbar-thumb{background:#fff;border-radius:8px;border-radius:4px}.styles__towersHolder___12QqT-camelCase::-webkit-scrollbar-thumb:hover{background:#f2f2f2;border-radius:8px}.styles__towerContainer___2wzW5-camelCase{width:60px;height:60px;background-color:#86361d;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:default;position:relative;border-radius:3px;display:flex;justify-content:center;align-items:center;transition:.2s;opacity:.5}.styles__towerContainerCrack___2AIFl-camelCase,.styles__towerContainerTexture___1kqHa-camelCase{position:absolute;width:100%;height:100%}.styles__towerContainerTexture___1kqHa-camelCase{background-image:url(https://media.blooket.com/image/upload/v1670460908/Media/defense/blookBoxWoodGrain.svg);background-size:60px 60px;mix-blend-mode:multiply;border-radius:3px;opacity:.7;box-shadow:inset 0 4px 3px rgba(0,0,0,.4)}.styles__towerBlook___1P5Wl-camelCase{position:absolute;top:50%;left:50%;width:70%;transform:translate(-50%,-50%)}.styles__towerPrice___1G22M-camelCase{position:absolute;bottom:-8px;right:-5px;height:20px;box-sizing:border-box;padding-bottom:3px;box-shadow:inset 0 -3px rgba(0,0,0,.2);background-color:#4162cb;border-radius:5px}.styles__towerPriceInside___3cShp-camelCase{width:100%;height:100%;border-radius:inherit;padding:0 2px;font-size:12px;border:1.5px solid #6383d6}.styles__startButton___1XSRo-camelCase,.styles__towerPriceInside___3cShp-camelCase{box-sizing:border-box;display:flex;justify-content:center;align-items:center;color:#fff}.styles__startButton___1XSRo-camelCase{position:relative;flex-direction:row;font-size:28px;font-family:Titan One,sans-serif;text-shadow:0 4px #2e4082;width:180px;height:60.27523px;background-image:url(https://media.blooket.com/image/upload/v1669333771/Media/defense/nextButton.svg);background-size:100%;margin:0 auto 10px;padding-bottom:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__startButton___1XSRo-camelCase:hover{transform:scale(.95)}.styles__playIcon___1xwbS-camelCase{width:30px;height:30px;margin-top:2px;margin-right:7px}.styles__left___2tuIw-camelCase{position:absolute;top:0;left:0;width:240px;height:100%;background-color:#af4a2c;display:flex;flex-direction:column;transition:.2s;transform:translateX(-110%)}.styles__leftIn___24TI2-camelCase{transform:translateX(0)}.styles__leftInside___35aSg-camelCase{position:absolute;right:5%;width:95%;height:100%;padding:10px 0}.styles__leftInfo___1Edmq-camelCase,.styles__leftInside___35aSg-camelCase{display:flex;flex-direction:column;box-sizing:border-box}.styles__leftInfo___1Edmq-camelCase{width:220px;height:256.39098px;margin:0 auto 5px;background-image:url(https://media.blooket.com/image/upload/v1670966119/Media/defense/parchment3.svg);background-size:100%;padding:25px 15px 10px;color:#441c12;font-size:18px}.styles__leftInfoRow___2RYGr-camelCase{display:flex;flex-direction:row;align-items:center;margin:3px 0}.styles__leftBlook___2Q_yo-camelCase{width:40px;margin-right:7px}.styles__leftName___Ilx-M-camelCase{font-size:26px;font-weight:700}.styles__leftInfoIcon___3dzCC-camelCase{width:20px;margin-right:7px}.styles__dmgCounter___24Cdc-camelCase{margin:2px auto 4px;background-color:#6c2811;width:80%;border-radius:10px;padding:5px 7px;box-sizing:border-box;box-shadow:0 1.5px #d17d5b;display:flex;flex-direction:row;align-items:center;justify-content:center;color:#fff;font-size:18px;font-weight:700;text-shadow:0 2px rgba(0,0,0,.2)}.styles__totalDmgIcon___YoVW5-camelCase{width:20px;margin-right:7px}.styles__targetButton___3thqF-camelCase,.styles__totalDmgIcon___YoVW5-camelCase{-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__targetButton___3thqF-camelCase{margin:4px auto;background-color:#6c2811;width:80%;border-radius:10px;padding:5px 7px;box-sizing:border-box;box-shadow:0 1.5px #d17d5b;display:flex;flex-direction:row;align-items:center;justify-content:space-between;color:#fff;font-size:18px;font-weight:700;text-shadow:0 2px rgba(0,0,0,.2);outline:none;cursor:pointer;position:relative;z-index:10}.styles__dropdownIcon___3vIOx-camelCase{font-size:14px;width:20px;text-align:center;margin-left:7px}.styles__targetDropdown___2pq2f-camelCase{display:none;width:100%;padding:5px 0;flex-direction:column;background-color:#6c2811;border-radius:5px;position:absolute;top:100%;left:0}.styles__targetButton___3thqF-camelCase:focus>.styles__targetDropdown___2pq2f-camelCase,.styles__targetDropdown___2pq2f-camelCase:hover{display:flex}.styles__targetOption___2o7rd-camelCase{width:100%;height:26px;font-size:16px;display:flex;flex-direction:row;align-items:center;padding:0 10px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__targetOption___2o7rd-camelCase:hover{background-color:rgba(0,0,0,.4)}.styles__sellButton___3RWDc-camelCase{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:28px;color:#fff;font-family:Titan One,sans-serif;text-shadow:0 4px #068250;width:160px;height:64px;background-image:url(https://media.blooket.com/image/upload/v1669333770/Media/defense/sellButton.svg);background-size:100%;margin:10px auto 15px;padding-bottom:4px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__sellButton___3RWDc-camelCase:hover{transform:scale(.95)}.styles__sellIcon___1ZGMU-camelCase{width:30px;height:30px;margin-top:2px;margin-right:7px;filter:drop-shadow(0 2px rgba(6,130,80,1))}.styles__sellPrice___f5Y7E-camelCase{margin-left:7px;font-size:14px;text-shadow:0 3px #068250}.styles__levelContainer___112a6-camelCase{margin:0 auto 10px;font-family:Titan One,sans-serif;text-shadow:0 3.5px rgba(0,0,0,.2);font-size:28px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__descContainer___2_pg1-camelCase,.styles__levelContainer___112a6-camelCase{position:relative;display:flex;justify-content:center;align-items:center;width:200px;height:71.25506px;background-image:url(https://media.blooket.com/image/upload/v1671497148/Media/defense/upgradesBanner2.svg);background-size:100%;color:#fff}.styles__descContainer___2_pg1-camelCase{margin:10px auto;line-height:17px;text-align:center;padding:10px;box-sizing:border-box}.styles__descContainer___2_pg1-camelCase,.styles__upgradeContainer___16Y5x-camelCase{text-shadow:0 1px rgba(0,0,0,.2);font-size:16px}.styles__upgradeContainer___16Y5x-camelCase{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:200px;height:124.16667px;margin:0 auto 10px;background-image:url(https://media.blooket.com/image/upload/v1671497146/Media/defense/upgradePanels2.svg);background-size:100%;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:default;opacity:.5;transition:.2s}.styles__upgradeHeader___1S9b4-camelCase{font-size:18px;font-weight:700;text-shadow:0 2px rgba(0,0,0,.2)}.styles__upgradeHeader___1S9b4-camelCase,.styles__upgradePrice___2nE35-camelCase{display:flex;flex-direction:row;align-items:center}.styles__upgradePrice___2nE35-camelCase{font-size:16px;margin-left:7px}.styles__upgradeCoin___1dYhJ-camelCase{width:14px;margin-left:3px;filter:drop-shadow(0 2px rgba(0,0,0,.2))}.styles__upgradeRow___1FAvX-camelCase{display:flex;flex-direction:row;align-items:center;height:20px;margin:0;font-size:14px}.styles__upgradeIcon___5t6km-camelCase{width:16px;margin-right:5px}.styles__isButton___3XMdi-camelCase{cursor:pointer;opacity:1}.styles__isButton___3XMdi-camelCase:hover{transform:scale(.95)}.styles__mapHolder___7TDxI-camelCase{position:absolute;top:50%;left:50%;flex-direction:column;transform:translate(-50%,-50%);pointer-events:none}.styles__mapHolder___7TDxI-camelCase,.styles__mapRow___kCqcW-camelCase{display:flex;justify-content:center;align-items:center}.styles__mapRow___kCqcW-camelCase{flex-direction:row}.styles__tile___3rbQx-camelCase{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.styles__buffsRow___3_Lhu-camelCase{display:flex;flex-direction:row;align-items:center}.styles__buffIcon___RTA3S-camelCase{width:13px;margin:0 1.5px}.styles__buffRangeIcon___d8sMk-camelCase{width:11px;margin:0 1.5px}.styles__unlockableTowerCenter___3iPiE-camelCase{display:flex;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);flex-direction:column;padding:10px 0;box-sizing:border-box;background-color:#af4a2c;width:300px;height:180px}.styles__unlockableTowerContent___1Xu0P-camelCase{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;width:100%;height:100%}.styles__unlockText___1bkFW-camelCase{font-family:Titan One,sans-serif;color:#fff;text-align:center;text-shadow:0 2px rgba(0,0,0,.2);font-size:26px;margin-top:-10px;margin-bottom:20px}.styles__unlockableTowersRow___38eRQ-camelCase{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly;width:90%;margin:0 auto}.styles__ghostWarningText___a3Rpx-camelCase{font-size:26px;line-height:28px}.styles__ghostWarningContainer___1UtiZ-camelCase{width:170px;height:30px;margin:15px auto 0;background-color:#f0c38e;box-shadow:2px 2px rgba(0,0,0,.2);display:flex;flex-direction:row;justify-content:center;align-items:center;font-weight:400;color:#441c12;font-size:18px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__ghostWarningIcon___2wiE8-camelCase{width:20px;margin-right:7px}.styles__feedbackContainer___1HN1W-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;z-index:1}.styles__nextRoundText___16zTA-camelCase{text-align:center;text-shadow:0 2px rgba(0,0,0,.2);font-size:32px;margin-top:-10px;margin-bottom:15px}.styles__nextRoundButton___2UOt_-camelCase,.styles__nextRoundText___16zTA-camelCase{font-family:Titan One,sans-serif;color:#fff}.styles__nextRoundButton___2UOt_-camelCase{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:24px;text-shadow:0 3px #2e4082;width:180px;height:60.27523px;background-image:url(https://media.blooket.com/image/upload/v1669333771/Media/defense/nextButton.svg);background-size:100%;padding-bottom:4px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__nextRoundButton___2UOt_-camelCase:hover{transform:scale(.95)}.styles__modalFadeIn___3HB9X-camelCase{opacity:0;animation:styles__fadeIn___1E1dp-camelCase .4s linear .5s forwards}.styles__gameOverContainer___3Jph9-camelCase{display:flex;flex-direction:column;justify-content:center;align-items:center;width:90%;position:absolute;left:5%;top:50%;transform:translateY(-50%);color:#fff;text-shadow:2px 2px 8px grey}.styles__gameOverText___1bqrv-camelCase{font-family:Titan One,sans-serif;font-size:11vw;opacity:0;animation:styles__fadeIn___1E1dp-camelCase .4s linear 1s forwards}.styles__gameOverTextSmall___6ynWn-camelCase{font-family:Nunito,sans-serif;font-weight:700;font-size:3vw;opacity:0;animation:styles__fadeIn___1E1dp-camelCase .4s linear 1.6s forwards}@keyframes styles__fadeIn___1E1dp-camelCase{0%{opacity:0}to{opacity:1}}@media only screen and (max-height:700px){.styles__levelContainer___112a6-camelCase{display:none}}.styles__mTopRow___24k3m-camelCase{display:none;flex-direction:row;align-items:center;position:absolute;top:0;left:2.5%;width:95%;height:50px}.styles__mRound___dC9n7-camelCase{width:110px;height:39.19028px;background-image:url(https://media.blooket.com/image/upload/v1671497148/Media/defense/upgradesBanner2.svg);text-shadow:0 2px rgba(0,0,0,.2);font-size:16px}.styles__mRound___dC9n7-camelCase,.styles__mStartButton___hvjdh-camelCase{display:flex;justify-content:center;align-items:center;background-size:100%;font-family:Titan One,sans-serif;color:#fff}.styles__mStartButton___hvjdh-camelCase{flex-direction:row;font-size:18px;text-shadow:0 2px #2e4082;width:100px;height:33.48624px;background-image:url(https://media.blooket.com/image/upload/v1669333771/Media/defense/nextButton.svg);padding-bottom:4px;margin-left:auto;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__mStartButton___hvjdh-camelCase:hover{transform:scale(.95)}.styles__mPlayIcon___3Lt2E-camelCase{width:18px;height:18px;margin-top:2px;margin-right:5px}.styles__mStopBuildingButton___Jk3DW-camelCase{margin-left:10px;width:33.48624px;height:33.48624px;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__mStopBuildingButton___Jk3DW-camelCase:hover{transform:scale(.95)}.styles__mHealthRow___MmQuM-camelCase{display:none;flex-direction:row;align-items:center;width:100%;height:50px;padding:5px 10px;box-sizing:border-box;color:#fff;text-shadow:0 3px rgba(0,0,0,.2);font-family:Titan One,sans-serif;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer}.styles__mShopArrow___2RT06-camelCase{font-size:20px;margin-right:7px;margin-top:4px}.styles__mShopText___2WqUW-camelCase{font-size:24px;margin-right:auto}.styles__mModal___1pXdb-camelCase{display:none}.styles__mCenter___P6hy2-camelCase{display:flex;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);flex-direction:column;padding:10px 0;box-sizing:border-box;background-color:#af4a2c;width:300px;height:400px}.styles__mCenterBorderLeft___3mVOZ-camelCase,.styles__mCenterBorderRight___3GENI-camelCase{position:absolute;top:0;right:-5px;width:50px;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-image:url(https://media.blooket.com/image/upload/v1670964043/Media/defense/woodBorder3.png);background-size:50px auto;background-repeat:repeat-y}.styles__mCenterBorderRight___3GENI-camelCase{right:unset;left:-5px;transform:rotateY(180deg)}.styles__mCenterTopBottom___ZBjAF-camelCase{border-top:3px solid #3d1422;border-bottom:3px solid #3d1422;box-sizing:border-box}.styles__mCenterTexture___1MIXq-camelCase,.styles__mCenterTexture2___VA12W-camelCase,.styles__mCenterTopBottom___ZBjAF-camelCase{position:absolute;top:0;left:0;width:100%;height:100%}.styles__mCenterTexture___1MIXq-camelCase,.styles__mCenterTexture2___VA12W-camelCase{-webkit-user-select:none;-moz-user-select:none;user-select:none;mix-blend-mode:multiply;background-image:url(https://media.blooket.com/image/upload/v1669333770/Media/defense/woodGrainTexMultiply.svg);background-size:300px 300px}.styles__mCenterTexture2___VA12W-camelCase{background-image:url(https://media.blooket.com/image/upload/v1670461093/Media/defense/woodDentsTex2.svg);mix-blend-mode:normal}.styles__mCenterCloseButton___bIc5q-camelCase{position:absolute;top:-15px;right:-15px;width:40px;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__mCenterCloseButton___bIc5q-camelCase:hover{transform:scale(.95)}.styles__mCenterCloseImg___2DumK-camelCase{width:100%;height:100%}.styles__mCenterTop___2ci0B-camelCase{display:flex;flex-direction:row;align-items:flex-end;width:100%;color:#fff;margin-bottom:5px}.styles__mCenterColumn___3lfaI-camelCase{display:flex;flex-direction:column}.styles__mLeftBlook___DCRAW-camelCase{width:50px;margin-right:10px;margin-left:5px}.styles__mCenterName___1hbNX-camelCase{font-size:26px;line-height:26px;font-weight:700;text-shadow:0 3px rgba(0,0,0,.2)}.styles__mLevel___28NUW-camelCase{font-size:14px;color:#fff;text-shadow:0 2px rgba(0,0,0,.2)}.styles__mCenterStats___2aW1U-camelCase{display:flex;flex-flow:row wrap}.styles__mStatRow___M-kY6-camelCase{display:flex;flex-direction:row;align-items:center;margin:3px;padding:2px 5px;border-radius:7px;background-color:#6c2811;box-shadow:0 1.5px #d17d5b;font-size:10px;color:#fff;text-shadow:0 1px rgba(0,0,0,.2);width:45%;box-sizing:border-box}.styles__mStatIcon___uy3XQ-camelCase{width:12px;margin-right:3px}.styles__mCenterRow___2xRVI-camelCase{justify-content:space-between;width:95%;margin:7px auto}.styles__mBuyButton___2GWu2-camelCase,.styles__mCenterRow___2xRVI-camelCase{display:flex;flex-direction:row;align-items:center}.styles__mBuyButton___2GWu2-camelCase{justify-content:center;font-size:24px;color:#fff;font-family:Titan One,sans-serif;text-shadow:0 2px #2e4082;width:140px;height:46.88073px;background-image:url(https://media.blooket.com/image/upload/v1669333771/Media/defense/nextButton.svg);background-size:100%;padding-bottom:4px;margin:10px auto 0;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__mBuyButton___2GWu2-camelCase:hover{transform:scale(.95)}@media only screen and (max-width:900px){.styles__buffIcon___RTA3S-camelCase{width:7px;margin:0 .5px}.styles__buffRangeIcon___d8sMk-camelCase{width:6px;margin:0 .5px}.styles__mTopRow___24k3m-camelCase{display:flex}.styles__healthRow___3Vd2I-camelCase{display:none}.styles__mHealthRow___MmQuM-camelCase{display:flex}.styles__healthText___19UaF-camelCase{margin-right:7px;font-size:24px;text-shadow:0 3px rgba(0,0,0,.2);width:48px}.styles__healthIcon___2ty0j-camelCase{margin-top:1px;width:26px}.styles__mModalIn___Im_uJ-camelCase{display:flex}.styles__leftInside___35aSg-camelCase{right:5%;width:90%;padding:5px 0}.styles__descContainer___2_pg1-camelCase{width:240px;height:40px;margin:5px auto;background-image:none;color:#fff;text-shadow:0 1px rgba(0,0,0,.2);font-size:14px;line-height:15px;padding:10px;border-radius:7px;background-color:#6c2811;box-shadow:0 1.5px #d17d5b}.styles__targetButton___3thqF-camelCase{margin:0;width:50%;padding:3px 5px;font-size:12px;font-weight:700}.styles__dropdownIcon___3vIOx-camelCase{font-size:10px;width:16px}.styles__targetDropdown___2pq2f-camelCase{padding:5px 0}.styles__targetOption___2o7rd-camelCase{height:22px;font-size:14px;padding:0 10px}.styles__sellButton___3RWDc-camelCase{font-size:18px;text-shadow:0 2px #068250;width:110px;height:44px;margin:0;padding-bottom:4px}.styles__sellIcon___1ZGMU-camelCase{width:17px;height:17px;margin-top:0;margin-right:5px}.styles__sellPrice___f5Y7E-camelCase{margin-left:5px;font-size:10px;text-shadow:0 2px #068250}.styles__upgradeContainer___16Y5x-camelCase{margin:10px auto}.styles__texture___9TeTS-camelCase,.styles__texture2___1VdoB-camelCase{top:-5px;left:0;width:100%;height:calc(100% + 5px);background-image:url(https://media.blooket.com/image/upload/v1672874610/Media/defense/woodGrainTexMultiplyRotate.svg);background-size:305px 305px}.styles__texture2___1VdoB-camelCase{background-image:url(https://media.blooket.com/image/upload/v1672874631/Media/defense/woodDentsTexRotate.svg)}.styles__borderRight___2US9Q-camelCase{left:0;top:-15px;width:100%;height:70px;background-image:url(https://media.blooket.com/image/upload/v1672797733/Media/defense/woodBorderRotate.svg);background-repeat:repeat-x}.styles__right___3v45x-camelCase{top:unset;bottom:0;width:100%;height:300px;transform:translateY(250px);transition:.4s}.styles__mRightIn___Uu_d9-camelCase{transform:translateY(0)}.styles__rightInside___3F_xS-camelCase{top:0;left:0;width:100%;height:100%;padding:0}.styles__towersHolder___12QqT-camelCase{width:97%;margin:auto;height:240px}.styles__left___2tuIw-camelCase,.styles__roundContainer___3_38q-camelCase,.styles__startButton___1XSRo-camelCase{display:none}}",""]),t.locals={phaserHolder:"styles__phaserHolder___1Ytap-camelCase",right:"styles__right___3v45x-camelCase",texture:"styles__texture___9TeTS-camelCase",texture2:"styles__texture2___1VdoB-camelCase",borderLeft:"styles__borderLeft___2UMAO-camelCase",borderRight:"styles__borderRight___2US9Q-camelCase",rightInside:"styles__rightInside___3F_xS-camelCase",healthRow:"styles__healthRow___3Vd2I-camelCase",healthBar:"styles__healthBar___2lITn-camelCase",healthBarInside:"styles__healthBarInside___2thhB-camelCase",healthBarInsideShadow:"styles__healthBarInsideShadow___2kzY8-camelCase",healthText:"styles__healthText___19UaF-camelCase",dmgText:"styles__dmgText___VnxOa-camelCase",healthIcon:"styles__healthIcon___2ty0j-camelCase",roundContainer:"styles__roundContainer___3_38q-camelCase",towersHolder:"styles__towersHolder___12QqT-camelCase",towerContainer:"styles__towerContainer___2wzW5-camelCase",towerContainerCrack:"styles__towerContainerCrack___2AIFl-camelCase",towerContainerTexture:"styles__towerContainerTexture___1kqHa-camelCase",towerBlook:"styles__towerBlook___1P5Wl-camelCase",towerPrice:"styles__towerPrice___1G22M-camelCase",towerPriceInside:"styles__towerPriceInside___3cShp-camelCase",startButton:"styles__startButton___1XSRo-camelCase",playIcon:"styles__playIcon___1xwbS-camelCase",left:"styles__left___2tuIw-camelCase",leftIn:"styles__leftIn___24TI2-camelCase",leftInside:"styles__leftInside___35aSg-camelCase",leftInfo:"styles__leftInfo___1Edmq-camelCase",leftInfoRow:"styles__leftInfoRow___2RYGr-camelCase",leftBlook:"styles__leftBlook___2Q_yo-camelCase",leftName:"styles__leftName___Ilx-M-camelCase",leftInfoIcon:"styles__leftInfoIcon___3dzCC-camelCase",dmgCounter:"styles__dmgCounter___24Cdc-camelCase",totalDmgIcon:"styles__totalDmgIcon___YoVW5-camelCase",targetButton:"styles__targetButton___3thqF-camelCase",dropdownIcon:"styles__dropdownIcon___3vIOx-camelCase",targetDropdown:"styles__targetDropdown___2pq2f-camelCase",targetOption:"styles__targetOption___2o7rd-camelCase",sellButton:"styles__sellButton___3RWDc-camelCase",sellIcon:"styles__sellIcon___1ZGMU-camelCase",sellPrice:"styles__sellPrice___f5Y7E-camelCase",levelContainer:"styles__levelContainer___112a6-camelCase",descContainer:"styles__descContainer___2_pg1-camelCase",upgradeContainer:"styles__upgradeContainer___16Y5x-camelCase",upgradeHeader:"styles__upgradeHeader___1S9b4-camelCase",upgradePrice:"styles__upgradePrice___2nE35-camelCase",upgradeCoin:"styles__upgradeCoin___1dYhJ-camelCase",upgradeRow:"styles__upgradeRow___1FAvX-camelCase",upgradeIcon:"styles__upgradeIcon___5t6km-camelCase",isButton:"styles__isButton___3XMdi-camelCase",mapHolder:"styles__mapHolder___7TDxI-camelCase",mapRow:"styles__mapRow___kCqcW-camelCase",tile:"styles__tile___3rbQx-camelCase",buffsRow:"styles__buffsRow___3_Lhu-camelCase",buffIcon:"styles__buffIcon___RTA3S-camelCase",buffRangeIcon:"styles__buffRangeIcon___d8sMk-camelCase",unlockableTowerCenter:"styles__unlockableTowerCenter___3iPiE-camelCase",unlockableTowerContent:"styles__unlockableTowerContent___1Xu0P-camelCase",unlockText:"styles__unlockText___1bkFW-camelCase",unlockableTowersRow:"styles__unlockableTowersRow___38eRQ-camelCase",ghostWarningText:"styles__ghostWarningText___a3Rpx-camelCase",ghostWarningContainer:"styles__ghostWarningContainer___1UtiZ-camelCase",ghostWarningIcon:"styles__ghostWarningIcon___2wiE8-camelCase",feedbackContainer:"styles__feedbackContainer___1HN1W-camelCase",nextRoundText:"styles__nextRoundText___16zTA-camelCase",nextRoundButton:"styles__nextRoundButton___2UOt_-camelCase",modalFadeIn:"styles__modalFadeIn___3HB9X-camelCase",fadeIn:"styles__fadeIn___1E1dp-camelCase",gameOverContainer:"styles__gameOverContainer___3Jph9-camelCase",gameOverText:"styles__gameOverText___1bqrv-camelCase",gameOverTextSmall:"styles__gameOverTextSmall___6ynWn-camelCase",mTopRow:"styles__mTopRow___24k3m-camelCase",mRound:"styles__mRound___dC9n7-camelCase",mStartButton:"styles__mStartButton___hvjdh-camelCase",mPlayIcon:"styles__mPlayIcon___3Lt2E-camelCase",mStopBuildingButton:"styles__mStopBuildingButton___Jk3DW-camelCase",mHealthRow:"styles__mHealthRow___MmQuM-camelCase",mShopArrow:"styles__mShopArrow___2RT06-camelCase",mShopText:"styles__mShopText___2WqUW-camelCase",mModal:"styles__mModal___1pXdb-camelCase",mCenter:"styles__mCenter___P6hy2-camelCase",mCenterBorderLeft:"styles__mCenterBorderLeft___3mVOZ-camelCase",mCenterBorderRight:"styles__mCenterBorderRight___3GENI-camelCase",mCenterTopBottom:"styles__mCenterTopBottom___ZBjAF-camelCase",mCenterTexture:"styles__mCenterTexture___1MIXq-camelCase",mCenterTexture2:"styles__mCenterTexture2___VA12W-camelCase",mCenterCloseButton:"styles__mCenterCloseButton___bIc5q-camelCase",mCenterCloseImg:"styles__mCenterCloseImg___2DumK-camelCase",mCenterTop:"styles__mCenterTop___2ci0B-camelCase",mCenterColumn:"styles__mCenterColumn___3lfaI-camelCase",mLeftBlook:"styles__mLeftBlook___DCRAW-camelCase",mCenterName:"styles__mCenterName___1hbNX-camelCase",mLevel:"styles__mLevel___28NUW-camelCase",mCenterStats:"styles__mCenterStats___2aW1U-camelCase",mStatRow:"styles__mStatRow___M-kY6-camelCase",mStatIcon:"styles__mStatIcon___uy3XQ-camelCase",mCenterRow:"styles__mCenterRow___2xRVI-camelCase",mBuyButton:"styles__mBuyButton___2GWu2-camelCase",mModalIn:"styles__mModalIn___Im_uJ-camelCase",mRightIn:"styles__mRightIn___Uu_d9-camelCase"}},yZOA:function(e,t,s){"use strict";var a=s("q1tI"),i=s.n(a),o=s("ANjH"),r=s("/MKj"),n=s("55Ip"),l=s("H1WH"),c=s("17x9"),d=s.n(c),h=s("lNlg"),u=s("TSYQ"),m=s.n(u),p=s("1O+K"),g=s.n(p);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(i=a.key,o=void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!==f(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===f(o)?o:String(o)),a)}var i,o}function y(e,t,s){return t&&w(e.prototype,t),s&&w(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}var _=new(y((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=null,this.projectiles={},this.dmgCounts={},this.enemies=null,this.towers=null,this.numColumns=0,this.numRows=0,this.tileSize=0,this.tileSize=0,this.enemyPaths=[],this.backPaths=[],this.map=null,this.isPaused=!1,this.buyTower="",this.tempTower=null,this.texts=null,this.towerBases=null,this.isPlacing=!1,this.waveGoing=!1,this.wave=0,this.difficulty="normal",this.speed=1.25}))),v=s("mkC0"),b={map:{url:"https://media.blooket.com/image/upload/v1669219682/Media/defense/sunny_final_1540.png",nonVector:!0,width:1540,height:1540},"cave-1":{url:"https://media.blooket.com/image/upload/v1669579986/Media/defense/sunny_cave1.svg",width:1.2,height:88/60*1.2},"cave-2":{url:"https://media.blooket.com/image/upload/v1669579989/Media/defense/sunny_cave2b.svg",width:1.2,height:88/60*1.2},"enemy-1":{url:v.a["Light Blue"],width:.4,height:.4*1.15},"enemy-2":{url:v.a.Pink,width:.45,height:.5175},"enemy-3":{url:v.a.Purple,width:.5,height:.575},"enemy-4":{url:v.a.Lime,width:.5,height:.575},"enemy-5":{url:v.a.Orange,width:.5,height:.575},"enemy-6":{url:v.a.Green,width:.5,height:.575},"enemy-7":{url:v.a.Red,width:.55,height:.6325},"enemy-8":{url:v.a.Black,width:.3,height:.345},"enemy-9":{url:"https://media.blooket.com/image/upload/v1672411956/Media/defense/cow_blook.svg",width:.65,height:.65*1.15},"enemy-10":{url:"https://media.blooket.com/image/upload/v1672411956/Media/defense/rainbow_blook_2.svg",width:.65,height:.65*1.15},"enemy-11":{url:"https://media.blooket.com/image/upload/v1672411956/Media/defense/wood_blook.svg",width:.65,height:.65*1.15},"enemy-12":{url:"https://media.blooket.com/image/upload/v1672411956/Media/defense/stone_blook.svg",width:.75,height:.75*1.15},"enemy-13":{url:"https://media.blooket.com/image/upload/v1672411956/Media/defense/metal_blook_5.svg",width:.85,height:.85*1.15},"enemy-14":{url:"https://media.blooket.com/image/upload/v1672411956/Media/defense/obsidian_blook_2.svg",width:1,height:1.15},"enemy-1-ghost":{url:"https://media.blooket.com/image/upload/v1672881035/Media/defense/lightBlueGhost.svg",width:.4,height:.4*1.15},"enemy-2-ghost":{url:"https://media.blooket.com/image/upload/v1672881036/Media/defense/pinkGhost.svg",width:.45,height:.5175},"enemy-3-ghost":{url:"https://media.blooket.com/image/upload/v1672881036/Media/defense/purpleGhost.svg",width:.5,height:.575},"enemy-4-ghost":{url:"https://media.blooket.com/image/upload/v1672881036/Media/defense/limeGhost.svg",width:.5,height:.575},"enemy-5-ghost":{url:"https://media.blooket.com/image/upload/v1672881036/Media/defense/orangeGhost.svg",width:.5,height:.575},"enemy-6-ghost":{url:"https://media.blooket.com/image/upload/v1672881034/Media/defense/greenGhost.svg",width:.5,height:.575},"enemy-7-ghost":{url:"https://media.blooket.com/image/upload/v1672881035/Media/defense/redGhost.svg",width:.55,height:.6325},"enemy-8-ghost":{url:"https://media.blooket.com/image/upload/v1672881034/Media/defense/blackGhost.svg",width:.3,height:.345},"enemy-9-ghost":{url:"https://media.blooket.com/image/upload/v1672881035/Media/defense/cowGhost.svg",width:.65,height:.65*1.15},"enemy-10-ghost":{url:"https://media.blooket.com/image/upload/v1675652398/Media/defense/rainbowGhost2.svg",width:.65,height:.65*1.15},"enemy-x-ghost":{url:v.a.Ghost,width:1,height:1.15},"base-1":{url:"https://media.blooket.com/image/upload/v1667866778/Media/defense/Tower_lvl1_A.svg",width:1,height:1},"base-2":{url:"https://media.blooket.com/image/upload/v1667866778/Media/defense/Tower_lvl2_A.svg",width:1,height:1},"base-3":{url:"https://media.blooket.com/image/upload/v1667866780/Media/defense/Tower_lvl3_B.svg",width:1,height:1},"base-4":{url:"https://media.blooket.com/image/upload/v1667866778/Media/defense/Tower_lvl4_A.svg",width:1,height:1},chick:{url:v.a.Chick,width:.6,height:.69},chick_2:{url:"https://media.blooket.com/image/upload/v1675902627/Media/defense/upgrades/ChickLvl1.png",width:50,height:50*1.15,nonVector:!0},chick_3:{url:"https://media.blooket.com/image/upload/v1675902627/Media/defense/upgrades/ChickLvl2.png",width:50,height:50*1.15,nonVector:!0},"egg-1":{url:"https://media.blooket.com/image/upload/v1655161325/Media/survivor/Chicken.svg",width:.3,height:64/47*.3},squirrel:{url:v.a.Squirrel,width:.6,height:.69},squirrel_2:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/SquirrelLvl1.png",width:50,height:50*1.15,nonVector:!0},squirrel_3:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/SquirrelLvl2.png",width:50,height:50*1.15,nonVector:!0},"nut-1":{url:"https://media.blooket.com/image/upload/v1655161193/Media/survivor/Squirrel.svg",width:.3,height:77/65*.3},peacock:{url:v.a.Peacock,width:.6,height:.69},peacock_2:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/PeacockLvl1.png",width:50,height:50*1.15,nonVector:!0},peacock_3:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/PeacockLvl2.png",width:50,height:50*1.15,nonVector:!0},"peacock-1":{url:"https://media.blooket.com/image/upload/v1658214638/Media/survivor/Peacock_Feather-01.svg",width:.3,height:150/55*.3},"peacock-2":{url:"https://media.blooket.com/image/upload/v1658214636/Media/survivor/Peacock_Feather-02.svg",width:.3,height:150/69*.3},"peacock-3":{url:"https://media.blooket.com/image/upload/v1658214636/Media/survivor/Peacock_Feather-03.svg",width:.3,height:150/79*.3},moose:{url:v.a.Moose,width:.6,height:.69},moose_2:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/MooseLvl1.png",width:50,height:50*1.15,nonVector:!0},moose_3:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/MooseLvl2.png",width:50,height:50*1.15,nonVector:!0},"syrupBottle-1":{url:"https://media.blooket.com/image/upload/v1657235019/Media/survivor/Maple_Bottle_V2.svg",width:.5,height:.45},"syrup-1":{url:"https://media.blooket.com/image/upload/v1658538627/Media/survivor/Moose_v3.svg",width:1.5,height:1.5},goldfish:{url:v.a.Goldfish,width:.6,height:.69},goldfish_2:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/GoldfishLvl1.png",width:50,height:50*1.15,nonVector:!0},goldfish_3:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/GoldfishLvl2.png",width:50,height:50*1.15,nonVector:!0},"fish-1":{url:"https://media.blooket.com/image/upload/v1593095356/Media/defense/fish.svg",width:.4,height:.4},"fish-2":{url:"https://media.blooket.com/image/upload/v1674411966/Media/defense/goldfish_fish_lvl_1.svg",width:.4,height:.4*.875},"fish-3":{url:"https://media.blooket.com/image/upload/v1674411967/Media/defense/goldfish_fish_lvl_2.svg",width:.4,height:166/230*.4},penguin:{url:v.a.Penguin,width:.6,height:.69},penguin_2:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/PenguinLvl1.png",width:50,height:50*1.15,nonVector:!0},penguin_3:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/PenguinLvl2.png",width:50,height:50*1.15,nonVector:!0},"blizzard-1":{url:"https://media.blooket.com/image/upload/v1676097611/Media/defense/icefield200px.png",width:200,height:200,nonVector:!0},birdNest:{url:"https://media.blooket.com/image/upload/v1675902686/Media/defense/upgrades/birdsNest.svg",width:.6,height:.69},birdNest_2:{url:"https://media.blooket.com/image/upload/v1675902686/Media/defense/upgrades/birdsNest.svg",width:.65,height:.65*1.15},birdNest_3:{url:"https://media.blooket.com/image/upload/v1675902686/Media/defense/upgrades/birdsNest.svg",width:.7,height:.7*1.15},"bird-1":{url:v.a.Parrot,width:.4,height:.4*1.15},"bird-1_2":{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/ParrotLvl1.png",width:50,height:50*1.15,nonVector:!0},"bird-1_3":{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/ParrotLvl2.png",width:50,height:50*1.15,nonVector:!0},"bird-2_2":{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/MacawLvl1.png",width:50,height:50*1.15,nonVector:!0},"bird-2_3":{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/MacawLvl2.png",width:50,height:50*1.15,nonVector:!0},"bird-3_3":{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/CockatooLvl1.png",width:50,height:50*1.15,nonVector:!0},"birdFeather-1":{url:"https://media.blooket.com/image/upload/v1655592799/Media/survivor/Bird_1.svg",width:.25,height:47/19*.25},"birdFeather-2":{url:"https://media.blooket.com/image/upload/v1655592800/Media/survivor/Bird_4.svg",width:.25,height:47/19*.25},"birdFeather-3":{url:"https://media.blooket.com/image/upload/v1655592800/Media/survivor/Bird_5.svg",width:.25,height:47/19*.25},owl:{url:v.a.Owl,width:.6,height:.69},owl_2:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/OwlLvl1.png",width:50,height:50*1.15,nonVector:!0},owl_3:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/OwlLvl2.png",width:50,height:50*1.15,nonVector:!0},"owl-1":{url:"https://media.blooket.com/image/upload/v1655592800/Media/survivor/Bird_6.svg",width:.25,height:47/19*.25},dragon:{url:v.a.Dragon,width:.6,height:.69},dragon_2:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/DragonLvl1.png",width:50,height:50*1.15,nonVector:!0},dragon_3:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/DragonLvl2.png",width:50,height:50*1.15,nonVector:!0},"flames-1":{url:"https://media.blooket.com/image/upload/v1676097487/Media/defense/fire_animation50px.png",isSpritesheet:!0,width:50,height:50},unicorn:{url:v.a.Unicorn,width:.6,height:.69},unicorn_2:{url:"https://media.blooket.com/image/upload/v1675902627/Media/defense/upgrades/UnicornLvl1.png",width:50,height:50*1.15,nonVector:!0},unicorn_3:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/UnicornLvl2.png",width:50,height:50*1.15,nonVector:!0},"missile-1":{url:"https://media.blooket.com/image/upload/v1674411966/Media/defense/unicorn_missile_1.svg",width:.3,height:50/37*.3},"missile-2":{url:"https://media.blooket.com/image/upload/v1674411966/Media/defense/unicorn_missile_2.svg",width:.3,height:48/26*.3},"missile-3":{url:"https://media.blooket.com/image/upload/v1674411966/Media/defense/unicorn_missile_3.svg",width:.5,height:50/47*.5},pig:{url:v.a.Pig,width:.6,height:.69},pig_2:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/PigLvl1.png",width:50,height:50*1.15,nonVector:!0},pig_3:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/PigLvl2.png",width:50,height:50*1.15,nonVector:!0},"pig-1":{url:"https://media.blooket.com/image/upload/v1593095358/Media/defense/pigBomb.svg",width:.4,height:.4},king:{url:v.a.King,width:.6,height:.69},king_2:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/KingLvl1.png",width:50,height:50*1.15,nonVector:!0},king_3:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/KingLvl2.png",width:50,height:50*1.15,nonVector:!0},alien:{url:v.a.Alien,width:.6,height:.69},alien_2:{url:"https://media.blooket.com/image/upload/v1675902627/Media/defense/upgrades/AlienLvl1.png",width:50,height:50*1.15,nonVector:!0},alien_3:{url:"https://media.blooket.com/image/upload/v1675902627/Media/defense/upgrades/AlienLvl2.png",width:50,height:50*1.15,nonVector:!0},"laser-1":{url:"https://media.blooket.com/image/upload/v1668645265/Media/survivor/laser1b.svg",width:.4,height:.24},"laser-2":{url:"https://media.blooket.com/image/upload/v1668645265/Media/survivor/laser2b.svg",width:.4,height:.24},"laser-3":{url:"https://media.blooket.com/image/upload/v1668645265/Media/survivor/laser3b.svg",width:.9,height:50/43*.9},megaBot:{url:v.a["Mega Bot"],width:.6,height:.69},megaBot_2:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/MegabotLvl1.png",width:50,height:50*1.15,nonVector:!0},megaBot_3:{url:"https://media.blooket.com/image/upload/v1675902625/Media/defense/upgrades/MegabotLvl2.png",width:50,height:50*1.15,nonVector:!0},"boomerang-1":{url:"https://media.blooket.com/image/upload/v1668716902/Media/defense/mega_bot_boomerang.svg",width:.5,height:129/218*.5},"boomerang-2":{url:"https://media.blooket.com/image/upload/v1674411966/Media/defense/mega_bot_boomerang_lvl_1.svg",width:.5,height:129/235*.5},"boomerang-3":{url:"https://media.blooket.com/image/upload/v1674411966/Media/defense/mega_bot_boomerang_lvl_2.svg",width:.5,height:164/232*.5},queen:{url:v.a.Queen,width:.6,height:.69},queen_2:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/QueenLvl1.png",width:50,height:50*1.15,nonVector:!0},queen_3:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/QueenLvl2.png",width:50,height:50*1.15,nonVector:!0},gorilla:{url:v.a.Gorilla,width:.6,height:.69},gorilla_2:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/GorillaLvl1.png",width:50,height:50*1.15,nonVector:!0},gorilla_3:{url:"https://media.blooket.com/image/upload/v1675902624/Media/defense/upgrades/GorillaLvl2.png",width:50,height:50*1.15,nonVector:!0},"banana-1":{url:"https://media.blooket.com/image/upload/v1658214636/Media/survivor/Banna-05.svg",width:.3,height:.238},x:{url:"https://media.blooket.com/image/upload/v1670461095/Media/defense/noBuild.svg",width:.85,height:.85},wizard:{url:v.a.Wizard,width:.6,height:.69},wizard_2:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/WizardLvl1.png",width:50,height:50*1.15,nonVector:!0},wizard_3:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/WizardLvl2.png",width:50,height:50*1.15,nonVector:!0},"tornado-1":{url:"https://media.blooket.com/image/upload/v1671056998/Media/defense/tornados_new_04.svg",width:1,height:1},"explosion-1":{url:"https://media.blooket.com/image/upload/v1676097487/Media/defense/pink_explosion.png",isSpritesheet:!0,width:50,height:50},"explosion-2":{url:"https://media.blooket.com/image/upload/v1676097487/Media/defense/normal_explosion.png",isSpritesheet:!0,width:50,height:50},toucan:{url:v.a.Toucan,width:.6,height:.69},toucan_2:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/ToucanLvl1.png",width:50,height:50*1.15,nonVector:!0},toucan_3:{url:"https://media.blooket.com/image/upload/v1675902626/Media/defense/upgrades/ToucanLvl2.png",width:50,height:50*1.15,nonVector:!0}},x=s("mte7");function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,i,o,r,n=[],l=!0,c=!1;try{if(o=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;l=!1}else for(;!(l=(a=o.call(s)).done)&&(n.push(a.value),n.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=s.return&&(r=s.return(),Object(r)!==r))return}finally{if(c)throw i}}return n}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var k=function(e,t){return new g.a.Math.Vector2(Math.floor((e-(_.canvasWidth-_.map.numColumns*_.tileSize)/2)/_.tileSize),Math.floor((t-(_.canvasHeight-_.map.numRows*_.tileSize)/2)/_.tileSize))},R=function(e,t){return new g.a.Math.Vector2((e+.5)*_.tileSize+(_.canvasWidth-_.map.numColumns*_.tileSize)/2,(t+.5)*_.tileSize+(_.canvasHeight-_.map.numRows*_.tileSize)/2)},S=function(e,t){return e>=0&&e<_.map.numColumns&&t>=0&&t<_.map.numRows},I=function(e,t,s,a,i){return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(i,2)},E=function(e,t,s,a){return _.enemies.getChildren().filter((function(i){return i.active&&I(i.x,i.y,e,t,s*_.tileSize)&&(!i.isGhost||a)}))},B=function(e,t,s,a,i){var o=_.enemies.getChildren().filter((function(a){return a.active&&I(a.x,a.y,e,t,s*_.tileSize)&&(!a.isGhost||i)})),r=null;if("First"===a){var n=0;o.forEach((function(e){e.pathProg>n&&(n=e.pathProg,r=e)}))}else if("Last"===a){var l=1.1;o.forEach((function(e){e.pathProg<l&&(l=e.pathProg,r=e)}))}else if("Strongest"===a){var c=0;o.forEach((function(e){e.hp>c&&(c=e.hp,r=e)}))}else if("Weakest"===a){var d=1e11;o.forEach((function(e){e.hp<d&&(d=e.hp,r=e)}))}else if("Farthest"===a){var h=0;o.forEach((function(s){var a=g.a.Math.Distance.Between(e,t,s.x,s.y);a>h&&(h=a,r=s)}))}else if("Closest"===a){var u=1e11;o.forEach((function(s){var a=g.a.Math.Distance.Between(e,t,s.x,s.y);a<u&&(u=a,r=s)}))}return r},N=function(e,t){var s=e.width;return t*_.tileSize/s},P=function(e,t,s,a){var i=_.projectiles[e.stats.projectile].get();return i&&i.fire(e,t,s,a),i},j=function(e,t,s,a){e.clear(),e.lineStyle(2,_.map.lightRange?16777215:3815994,.5),e.fillStyle(_.map.lightRange?16777215:3815994,.05);var i=R(t,s);e.fillCircle(i.x,i.y,a*_.tileSize),e.strokePath()},M=function(e,t){!e.active||!t.active&&!t.instant||t.noDmg||t.targets.includes(e)||e.isGhost&&!t.ghostDetect||(t.targets.length+1>=t.maxTargets?(t.setActive(!1),t.setVisible(!1)):t.targets.push(e),_.dmgCounts[t.tower.getGridPosText()]+=Math.min(e.hp,t.dmg),e.receiveDamage(Math.min(e.hp,t.dmg),t.knockback),t.slowRate&&e.slow(t.slowRate,t.slowTime),t.pushBackTime&&e.pushBack(t.pushBackTime))},O=function(e,t){e.active&&t.active&&!t.slowTargets.includes(e)&&(t.slowTargets.push(e),e.slow(t.slowRate,t.slowTime))},D=function(e,t){e.active&&t.active&&(!e.isGhost||t.tower.getGhostDetect())&&t.explode(e.x,e.y)},G=function(){_.towers.getChildren().forEach((function(e){e.resetBuffs()}));for(var e=!1;!e;)e=!0,_.towers.getChildren().forEach((function(t){t.stats.auraBuffs&&Object.entries(t.stats.auraBuffs).forEach((function(s){var a=T(s,2),i=a[0],o=a[1];_.towers.getChildren().filter((function(e){return!(t.gridPos.x===e.gridPos.x&&t.gridPos.y===e.gridPos.y)&&I(t.x,t.y,e.x,e.y,t.getRange()*_.tileSize*1.01)})).forEach((function(t){var s=JSON.stringify(t.buffs);t.applyBuff(i,o),s!==JSON.stringify(t.buffs)&&t.stats.auraBuffs&&(e=!1)}))}))}));_.scene.game.events.emit("update-buffs",_.towers.getChildren())},z=function(e,t){var s=null;return _.towers.getChildren().forEach((function(a){a.gridPos.x===e&&a.gridPos.y===t&&(s=a)})),s},A=function(e,t,s){if(!(_.texts.getChildren().filter((function(e){return e.active})).length>30)){var a=_.texts.get();a&&a.show(e,t,s)}},W=s("74sb"),V=[{texture:"enemy-1",width:.4,hp:1,speed:1/3e4,dmg:1},{texture:"enemy-2",width:.45,hp:2,speed:1/3e4,dmg:2},{texture:"enemy-3",width:.5,hp:3,speed:1/3e4,dmg:3},{texture:"enemy-4",width:.5,hp:5,speed:1/3e4,dmg:5},{texture:"enemy-5",width:.5,hp:10,speed:1/3e4,dmg:7},{texture:"enemy-6",width:.5,hp:15,speed:1/3e4,dmg:10},{texture:"enemy-7",width:.55,hp:20,speed:.8/3e4,dmg:12},{texture:"enemy-8",width:.3,hp:25,speed:1/3e4,dmg:15},{texture:"enemy-9",width:.65,hp:50,speed:3e-5,dmg:17},{texture:"enemy-10",width:.65,hp:100,speed:.8/3e4,dmg:20},{texture:"enemy-11",width:.65,hp:200,speed:.7/3e4,dmg:25},{texture:"enemy-12",width:.75,hp:350,speed:.6/3e4,dmg:25},{texture:"enemy-13",width:.85,hp:500,speed:.5/3e4,dmg:25},{texture:"enemy-14",width:1,hp:700,speed:.4/3e4,dmg:50}],L=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"enemy-blue"),this.setDepth(2)},start:function(e,t,s){this.isGhost=t,this.index=s,this.setHp(e),this.slowRate=0,this.slowTime=0,this.pushBackTime=0,this.setActive(!0),this.setVisible(!0),this.pathProg=0,this.pathPos=new g.a.Math.Vector2,_.enemyPaths[Object(x.b)(_.map.id,_.wave,this.index)].getPoint(this.pathProg,this.pathPos),this.setPosition(this.pathPos.x,this.pathPos.y)},setHp:function(e){if(this.hp=e,this.hp<=0)return this.setActive(!1),void this.setVisible(!1);var t=function(e){for(var t=e,s=null,a=0;a<V.length&&!((t-=(s=V[a]).hp)<=0);a++);return s}(e);this.setTexture(this.isGhost&&["enemy-11","enemy-12","enemy-13","enemy-14"].includes(t.texture)?"enemy-x-ghost":"".concat(t.texture).concat(this.isGhost?"-ghost":"")),this.setAlpha(this.isGhost?.7:1),this.setScale(N(this,t.width)),this.body.setOffset(0,this.width*(.15/1.15)),this.speed=t.speed*(40/_.map.pathLengths[Object(x.b)(_.map.id,_.wave,this.index)]),this.dmg=t.dmg},receiveDamage:function(e){var t=this;if(!(e<=0)){var s=this.texture.key;this.setHp(this.hp-e),A(this.x+Object(W.p)(-.15,.15)*_.tileSize,this.y-Object(W.p)(.1,.4)*_.tileSize,e),s!==this.texture.key&&(this.setTintFill(16777215),clearTimeout(this.tintTimeout),this.tintTimeout=setTimeout((function(){t.clearTint()}),100))}},slow:function(e,t){this.slowRate=e,this.slowTime=t},pushBack:function(e){this.pushBackTime=e},getTargetPos:function(){var e=this.pathProg+125*this.speed*(1-this.slowRate)*(this.pushBackTime>0?-1:1)*_.speed,t=new g.a.Math.Vector2;return _.enemyPaths[Object(x.b)(_.map.id,_.wave,this.index)].getPoint(e,t),t},update:function(e,t){this.slowTime>0?this.slowTime-=t:this.slowRate=0,this.pushBackTime>0?this.pushBackTime-=t:this.pushBackTime=0,this.pathProg+=this.speed*t*(1-this.slowRate)*(this.pushBackTime>0?-1:1)*_.speed,this.pathPos=new g.a.Math.Vector2,_.enemyPaths[Object(x.b)(_.map.id,_.wave,this.index)].getPoint(this.pathProg,this.pathPos),this.setPosition(this.pathPos.x,this.pathPos.y),this.pathProg>=1&&(this.setActive(!1),this.setVisible(!1),_.scene.game.events.emit("take-dmg",this.dmg))}}),q=new g.a.Class({Extends:g.a.GameObjects.Text,initialize:function(){g.a.GameObjects.Text.call(this,_.scene,0,0,"",{fontFamily:"Arial",fontSize:_.tileSize/3,color:"#fff",align:"center"}),this.style.stroke="#3a3a3a",this.style.strokeThickness=_.canvasWidth<800?2:4,this.setOrigin(.5),this.setDepth(15)},show:function(e,t,s){var a;this.setActive(!0),this.setVisible(!0),this.setText(s),this.setScale(.4),this.setColor((a=Number(s))<=10?"#fff":a<=30?"#ff9933":"#ff3333"),this.setPosition(e,t),_.scene.addTween({targets:this,scaleX:1,scaleY:1,ease:"Sine.easeInOut",duration:250/_.speed,yoyo:!0}),setTimeout(this.hide.bind(this),500)},hide:function(){this.setActive(!1),this.setVisible(!1)}});function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,i,o,r,n=[],l=!0,c=!1;try{if(o=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;l=!1}else for(;!(l=(a=o.call(s)).done)&&(n.push(a.value),n.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=s.return&&(r=s.return(),Object(r)!==r))return}finally{if(c)throw i}}return n}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var H={chick:{active:!0,title:"Chick",desc:"Throws eggs. That's all.",baseStats:{price:30,dmg:1,maxTargets:3,fireRate:800,intervalRate:100,speed:1,numProjectiles:1,range:2.5,texture:"chick",width:.6,projectile:"egg",projectileTexture:"egg-1",projectileWidth:.25,ghostDetect:!0},upgrades:[{price:20,dmg:2},{price:30,dmg:3,fireRate:600},{price:50,dmg:4,fireRate:500,maxTargets:4},{price:100,dmg:6,fireRate:400,maxTargets:5}]},squirrel:{active:!0,title:"Squirrel",desc:"Fires rounds of acorns at enemies.",baseStats:{price:30,dmg:1,maxTargets:1,fireRate:1e3,intervalRate:100,speed:1,numProjectiles:3,range:2.5,texture:"squirrel",width:.6,projectile:"nut",projectileTexture:"nut-1",projectileWidth:.25},upgrades:[{price:20,dmg:2},{price:30,maxTargets:2},{price:50,dmg:3,numProjectiles:4},{price:100,maxTargets:3,fireRate:900,numProjectiles:5}]},gorilla:{active:!0,title:"Gorilla",desc:"Throws bananas in all directions.",baseStats:{price:30,dmg:2,maxTargets:2,fireRate:2e3,intervalRate:0,speed:.5,numProjectiles:4,range:1.5,texture:"gorilla",width:.6,projectile:"banana",projectileTexture:"banana-1",projectileWidth:.25},upgrades:[{price:20,dmg:4},{price:30,numProjectiles:8},{price:50,fireRate:1e3},{price:100,maxTargets:3,numProjectiles:12}]},dragon:{active:!0,title:"Dragon",desc:"Breathes fire at nearby enemies.",baseStats:{price:50,dmg:3,maxTargets:1e3,fireRate:2700,intervalRate:100,speed:.4,numProjectiles:1,range:2,texture:"dragon",width:.6,projectile:"flames",projectileTexture:"flames-1"},upgrades:[{price:30,dmg:5,fireRate:2300},{price:50,dmg:10},{price:70,fireRate:1600,dmg:13},{price:120,dmg:22,fireRate:1300}]},pig:{active:!0,title:"Pig",desc:"Fires large exploding projectiles.",baseStats:{price:50,dmg:5,maxTargets:1e3,fireRate:3600,intervalRate:100,speed:1,numProjectiles:1,range:2.5,explosionRadius:1,explosionTexture:"explosion-1",texture:"pig",width:.6,projectile:"pig",projectileTexture:"pig-1",projectileWidth:.4},upgrades:[{price:30,dmg:10},{price:50,dmg:12,fireRate:2100},{price:70,dmg:20,fireRate:1800},{price:120,dmg:40}]},penguin:{active:!0,title:"Penguin",desc:"Slows nearby enemies",baseStats:{price:50,isAura:!0,auraBuffs:{},dmg:0,maxTargets:1e3,targetRefresh:500,slowRate:.2,slowTime:10,slowTargetRefresh:9,range:1.5,texture:"penguin",width:.6,projectile:"blizzard",projectileTexture:"blizzard-1",ghostDetect:!0},upgrades:[{price:30,slowRate:.25},{price:50,slowRate:.3},{price:70,slowRate:.35},{price:120,slowRate:.4}]},owl:{active:!0,title:"Owl",desc:"Shoots enemies from far away.",baseStats:{price:50,dmg:10,maxTargets:1,fireRate:2700,intervalRate:100,numProjectiles:1,range:6,texture:"owl",width:.6,projectile:"owl",projectileTexture:"owl-1",projectileWidth:.2,ghostDetect:!0},upgrades:[{price:30,dmg:20},{price:50,dmg:35,fireRate:2500},{price:70,dmg:65,fireRate:2300},{price:120,dmg:120,fireRate:2e3}]},peacock:{active:!0,title:"Peacock",desc:"Throws feathers and pulls them back.",baseStats:{price:50,dmg:1,maxTargets:5,fireRate:1e3,intervalRate:100,numProjectiles:1,pullBackRate:2500,speed:2,range:3,texture:"peacock",width:.6,projectile:"peacock",projectileTexture:"peacock-1",projectileWidth:.2,ghostDetect:!0},upgrades:[{price:30,dmg:2},{price:50,dmg:3,maxTargets:7,projectileTexture:"peacock-2",projectileWidth:.25},{price:70,dmg:5,fireRate:900},{price:120,dmg:6,fireRate:800,maxTargets:10,projectileTexture:"peacock-3",projectileWidth:.3}]},bird:{active:!0,title:"Bird Nest",desc:"Creates birds that fly around and throw feathers.",baseStats:{price:50,dmg:4,maxTargets:2,fireRate:700,speed:1,range:2.5,birdRange:2,texture:"birdNest",width:.6,projectile:"bird",projectileWidth:.4,projectile2Width:.2,numBirds:1,ghostDetect:!0},upgrades:[{price:30,dmg:6},{price:50,numBirds:2,projectileWidth:.45},{price:70,maxTargets:4},{price:120,numBirds:3,projectileWidth:.5}]},goldfish:{active:!0,title:"Goldfish",desc:"Spawns fish that travel the course backwards.",baseStats:{price:50,dmg:7,maxTargets:2,fireRate:4300,speed:1/3e4,numProjectiles:1,range:0,texture:"goldfish",width:.6,projectile:"fish",projectileTexture:"fish-1",projectileWidth:.4},upgrades:[{price:30,dmg:14},{price:50,fireRate:3200,maxTargets:3,projectileTexture:"fish-2"},{price:70,fireRate:2800,maxTargets:5},{price:120,dmg:20,maxTargets:7,projectileTexture:"fish-3"}]},moose:{active:!0,title:"Moose",desc:"Drops bottles of syrup.",baseStats:{price:50,dmg:1,maxTargets:1e3,fireRate:3600,intervalRate:100,numProjectiles:1,targetRefresh:500,lifespan:1500,range:4,texture:"moose",width:.6,projectile:"syrupBottle",projectileTexture:"syrupBottle-1",projectileWidth:.4,puddleWidth:1.5},upgrades:[{price:30,dmg:2},{price:50,dmg:4},{price:70,dmg:6,fireRate:2800},{price:120,dmg:12,fireRate:2500}]},wizard:{active:!0,title:"Wizard",desc:"Casts a tornado that pushes back enemies.",baseStats:{price:70,dmg:6,maxTargets:5,fireRate:5700,intervalRate:100,speed:.6,numProjectiles:1,range:2.5,texture:"wizard",width:.6,projectile:"tornado",projectileTexture:"tornado-1",projectileWidth:1,pushBackTime:120},upgrades:[{price:50,dmg:8,fireRate:5e3,maxTargets:7},{price:70,dmg:16},{price:90,maxTargets:10,fireRate:4e3},{price:140,dmg:30}]},unicorn:{active:!0,title:"Unicorn",desc:"Launch long-range auto-targeting missiles.",baseStats:{price:70,dmg:7,maxTargets:1e3,fireRate:5e3,intervalRate:100,speed:.5,numProjectiles:1,range:5,explosionRadius:1,explosionTexture:"explosion-2",texture:"unicorn",width:.6,projectile:"missile",projectileTexture:"missile-1",projectileWidth:.3},upgrades:[{price:50,dmg:10,fireRate:3500},{price:70,dmg:15,fireRate:2500,projectileTexture:"missile-2"},{price:90,dmg:20,fireRate:2e3},{price:140,dmg:40,projectileTexture:"missile-3",projectileWidth:.5}]},megaBot:{active:!0,title:"Mega Bot",desc:"Throws a boomeranging projectile.",baseStats:{price:100,dmg:4,maxTargets:1e3,fireRate:3500,intervalRate:300,speed:1,numProjectiles:1,range:3,texture:"megaBot",width:.6,projectile:"boomerang",projectileTexture:"boomerang-1",projectileWidth:.5},upgrades:[{price:70,dmg:5,fireRate:2100},{price:90,numProjectiles:2,projectileTexture:"boomerang-2"},{price:110,dmg:7,fireRate:1600},{price:160,dmg:8,numProjectiles:3,projectileTexture:"boomerang-3"}]},alien:{active:!0,title:"Alien",desc:"Quickly fires alien lasers.",baseStats:{price:100,dmg:2,maxTargets:5,fireRate:700,intervalRate:100,speed:1,numProjectiles:1,range:2.5,texture:"alien",width:.6,projectile:"laser",projectileTexture:"laser-1",projectileWidth:.4,ghostDetect:!0},upgrades:[{price:70,dmg:3,fireRate:500},{price:90,numProjectiles:2,projectileTexture:"laser-2"},{price:110,dmg:4,fireRate:400},{price:160,dmg:8,fireRate:300,maxTargets:7,numProjectiles:1,projectileTexture:"laser-3",projectileWidth:.9}]},king:{active:!0,title:"King",desc:"Increases reload time of nearby towers.",baseStats:{price:50,range:2,texture:"king",width:.6,dmg:0,auraBuffs:{fireRate:.05}},upgrades:[{price:30,auraBuffs:{fireRate:.075}},{price:50,auraBuffs:{fireRate:.1}},{price:70,auraBuffs:{fireRate:.125}},{price:120,auraBuffs:{fireRate:.15}}]},queen:{active:!0,title:"Queen",desc:"Increases range and decreases prices of nearby towers.",baseStats:{price:30,range:2,texture:"queen",width:.6,dmg:0,auraBuffs:{range:.05,discount:0}},upgrades:[{price:20,auraBuffs:{range:.075,discount:.1}},{price:30,auraBuffs:{range:.1}},{price:50,auraBuffs:{range:.125,discount:.2}},{price:100,auraBuffs:{range:.175,ghostDetect:!0}}]},toucan:{active:!0,title:"Toucan",desc:"Earn extra tokens after each wave.",baseStats:{price:30,dmg:0,range:0,texture:"toucan",width:.6,coinsPerWave:2,auraBuffs:{}},upgrades:[{price:20,coinsPerWave:4},{price:30,coinsPerWave:7},{price:50,coinsPerWave:13},{price:100,coinsPerWave:25}]}},Q=function(e,t){for(var s=JSON.parse(JSON.stringify(H[e].baseStats)),a=0;a<t;a++){var i=H[e].upgrades[a];Object.entries(i).forEach((function(e){var t=F(e,2),a=t[0],i=t[1];"price"===a?s[a]+=i:"auraBuffs"===a?(s.auraBuffs||(s.auraBuffs={}),Object.entries(i).forEach((function(e){var t=F(e,2),a=t[0],i=t[1];s.auraBuffs[a]=i}))):s[a]=i}))}return 2===t||3===t?(s.texture="".concat(s.texture,"_2"),s.width=.65):4===t&&(s.texture="".concat(s.texture,"_3"),s.width=.7),s},X=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"chick"),this.setDepth(4)},spawn:function(e,t,s,a){var i=this;this.stats=Q(e,t),this.updateTexture(),this.type=e,this.level=t,this.targetMode="First",this.nextProjectileRound=0,this.projectilesRemaining=0,this.nextProjectile=0,this.pullBack=this.stats.pullBackRate,this.lastTarget=null,this.aura=null,this.birds=[],this.buffs={},this.projectileCounter=0,this.gridPos={x:s,y:a};var o=R(s,a);if(this.setPosition(o.x,o.y),this.towerBase=function(e,t,s){var a=_.towerBases.get();return a&&a.spawn(e,t,s),a}(o.x,o.y,this.level),this.stats.isAura)this.aura=P(this,null);else if(this.stats.numBirds){var r=0;this.birdInterval=setInterval((function(){i.birds[r]&&i.birds[r].destroy(),i.birds[r]=P(i,null,r+1),(r+=1)>i.stats.numBirds-1&&clearInterval(i.birdInterval)}),50)}this.setActive(!0),this.setVisible(!0)},update:function(e,t){var s=this;if(this.nextProjectileRound-=t*_.speed,this.nextProjectile-=t*_.speed,"peacock"===this.type&&(this.pullBack-=t*_.speed),this.nextProjectileRound<=0&&!this.aura&&!this.stats.numBirds&&this.stats.fireRate&&_.waveGoing){var a=B(this.x,this.y,this.stats.range*(1+(this.buffs.range||0)),this.targetMode,this.getGhostDetect());(a||0===this.stats.range)&&(this.lastTarget=a?a.getTargetPos():null,this.projectilesRemaining=this.stats.numProjectiles,this.nextProjectile=0,this.nextProjectileRound=this.stats.fireRate*(1-(this.buffs.fireRate||0)))}if(this.projectilesRemaining>0&&this.nextProjectile<=0){var i=B(this.x,this.y,this.stats.range*(1+(this.buffs.range||0)),this.targetMode,this.getGhostDetect());if(i&&"orangutan"!==this.type&&(this.lastTarget=i.getTargetPos()),this.lastTarget&&"moose"!==this.type){var o=g.a.Math.Angle.Between(this.x,this.y,this.lastTarget.x,this.lastTarget.y);this.setRotation(o-Math.PI/2)}"owl"===this.type?_.scene.addTween({targets:this,x:"+=".concat(_.tileSize/4*-Math.sin(this.rotation-Math.PI)),y:"+=".concat(_.tileSize/4*Math.cos(this.rotation-Math.PI)),ease:"Sine.easeInOut",duration:250/_.speed,yoyo:!0}):"moose"===this.type?_.scene.addTween({targets:this,y:"-=".concat(_.tileSize/4),ease:"Sine.easeInOut",duration:250/_.speed,yoyo:!0}):"goldfish"===this.type&&(_.scene.addTween({targets:this,x:"+=".concat(_.tileSize/10),ease:"Sine.easeInOut",duration:150}),_.scene.addTween({targets:this,x:"-=".concat(_.tileSize/5),ease:"Sine.easeInOut",duration:300,delay:150}),_.scene.addTween({targets:this,x:"+=".concat(_.tileSize/10),ease:"Sine.easeInOut",duration:150,delay:450})),this.projectilesRemaining-=1,this.nextProjectile=this.stats.intervalRate*(1-(this.buffs.fireRate||0)),"alien"!==this.type||2!==this.level&&3!==this.level?(this.projectileCounter+=1,P(this,this.lastTarget,this.projectilesRemaining,this.projectileCounter)):(this.projectilesRemaining-=1,P(this,this.lastTarget,1),P(this,this.lastTarget,2))}"peacock"===this.type&&this.pullBack<=0&&(this.pullBack=this.stats.pullBackRate,_.projectiles.peacock.getChildren().filter((function(e){return e.active&&e.startGridPos.x===s.gridPos.x&&e.startGridPos.y===s.gridPos.y})).forEach((function(e){e.pullBack()})))},upgrade:function(e){this.level=e,this.stats=Q(this.type,this.level),this.towerBase.upgrade(this.level),this.updateTexture(),this.recreateProjectiles()},updateTexture:function(){var e=this;if(_.scene.textures.exists(this.stats.texture))this.setTexture(this.stats.texture),this.setScale(N(this,this.stats.width));else{var t=b[this.stats.texture];_.scene.load.image(this.stats.texture,t.url,{width:_.tileSize*t.width,height:_.tileSize*t.height}),_.scene.load.once(g.a.Loader.Events.COMPLETE,(function(){e.setTexture(e.stats.texture),e.setScale(N(e,e.stats.width))})),_.scene.load.start()}},resetBuffs:function(){this.buffs={},this.recreateProjectiles()},applyBuff:function(e,t){(!this.buffs[e]||this.buffs[e]<t)&&(this.buffs[e]=t),this.recreateProjectiles()},recreateProjectiles:function(){var e=this;if(this.aura)this.aura.destroy(),this.aura=P(this,null);else if(this.birds.length>0){var t=0;clearInterval(this.birdInterval),this.birdInterval=setInterval((function(){e.birds[t]&&e.birds[t].destroy(),e.birds[t]=P(e,null,t+1),(t+=1)>e.stats.numBirds-1&&clearInterval(e.birdInterval)}),50)}},getRange:function(e){return(e||this.stats.range)*(1+(this.buffs.range||0))},getFireRate:function(e){return(e||this.stats.fireRate)*(1-(this.buffs.fireRate||0))},getGhostDetect:function(){return this.stats.ghostDetect||this.buffs.ghostDetect},getSellPrice:function(){return Math.round(this.stats.price/2)},getUpgradePrice:function(){return Math.round(H[this.type].upgrades[this.level].price*(1-(this.buffs.discount||0)))},getGridPosText:function(){return"(".concat(this.gridPos.x,",").concat(this.gridPos.y,")")},delete:function(){if(_.map.tiles[this.gridPos.y][this.gridPos.x]=0,this.aura)this.aura.destroy();else if(this.birds.length>0)for(var e=0;e<this.birds.length;e++)this.birds[e].destroy();this.towerBase.destroy(),this.destroy()}}),J=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"egg-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targets=[],this.tower=e;var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(s+Math.PI/2),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),Y=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"base-1"),this.setDepth(2)},spawn:function(e,t,s){0===s?this.setVisible(!1):this.setTexture("base-".concat(s)),this.setScale(N(this,1)),this.setPosition(e,t)},upgrade:function(e){this.setTexture("base-".concat(e)),0!==e&&this.setVisible(!0)}}),Z=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"nut-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targets=[],this.tower=e;var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(s-Math.PI/2),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),K=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"peacock-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.startGridPos=k(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targets=[],this.isPulledBack=!1,this.noDmg=!1,this.tower=e,this.startPos={x:e.x,y:e.y};var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(s-Math.PI/2),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){if(this.lifespan-=t*_.speed,this.isPulledBack){var s=g.a.Math.Angle.Between(this.x,this.y,this.startPos.x,this.startPos.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*this.tower.stats.speed*1.5*_.tileSize*_.speed,this.body.velocity),this.setRotation(s-Math.PI/2)}this.lifespan<=0&&(this.isPulledBack?(this.setActive(!1),this.setVisible(!1)):(this.body.setVelocity(0),this.noDmg=!0))},pullBack:function(){this.isPulledBack=!0;var e=g.a.Math.Distance.Between(this.x,this.y,this.startPos.x,this.startPos.y);this.lifespan=e/(7*this.tower.stats.speed*1.5*_.tileSize)*1e3,this.noDmg=!1,this.targets=[]}}),$=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"syrup-1"),this.setDepth(1)},fire:function(e,t){this.setScale(0),this.setAlpha(1),this.setActive(!0),this.setVisible(!0),this.setPosition(t.x,t.y),this.targets=[],this.bottle=e,this.dmg=e.tower.stats.dmg,this.maxTargets=e.tower.stats.maxTargets,this.ghostDetect=e.tower.getGhostDetect(),this.targetRefresh=e.tower.stats.targetRefresh,this.lifespan=e.tower.stats.lifespan,this.tower=e.tower,_.scene.addTween({targets:this,scaleX:N(this,e.tower.stats.puddleWidth),scaleY:N(this,e.tower.stats.puddleWidth),ease:"linear",duration:250/_.speed}),_.scene.addTween({targets:this,alpha:0,ease:"linear",duration:250/_.speed,delay:(e.tower.stats.lifespan-250)/_.speed})},update:function(e,t){this.lifespan-=t*_.speed,this.targetRefresh-=t*_.speed,this.targetRefresh<=0&&(this.targets=[],this.targetRefresh=this.bottle.tower.stats.targetRefresh),this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),ee=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"syrupBottle-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(t.x,t.y-_.tileSize*_.map.numRows-50),this.tower=e,this.targetPos={x:t.x,y:t.y},this.lifespan=375/_.speed,this.body.setVelocityY(1e3*g.a.Math.GetSpeed(_.tileSize*_.map.numRows+50,this.lifespan/1e3)),this.body.setAngularVelocity(Object(W.o)([1,-1])*Object(W.p)(300,400)),this.setActive(!0),this.setVisible(!0)},update:function(e,t){if(this.lifespan-=t,this.lifespan<=0){this.setActive(!1),this.setVisible(!1);var s=_.projectiles.syrup.get();s&&s.fire(this,this.targetPos)}}}),te=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"fish-1"),this.setDepth(3)},fire:function(e,t,s,a){this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.stats=JSON.parse(JSON.stringify(e.stats)),this.targets=[],this.tower=e,this.index=a,this.pathProg=0,this.pathPos=new g.a.Math.Vector2,_.backPaths[Object(x.b)(_.map.id,_.wave,this.index)].getPoint(this.pathProg,this.pathPos),this.setPosition(this.pathPos.x,this.pathPos.y),this.lastPos={x:this.pathPos.x,y:this.pathPos.y},this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.pathProg+=this.stats.speed*t*_.speed*(40/_.map.pathLengths[Object(x.b)(_.map.id,_.wave,this.index)]),this.pathPos=new g.a.Math.Vector2,_.backPaths[Object(x.b)(_.map.id,_.wave,this.index)].getPoint(this.pathProg,this.pathPos),this.setPosition(this.pathPos.x,this.pathPos.y),this.pathPos.x<this.lastPos.x?this.scaleX=-Math.abs(this.scaleX):this.scaleX=Math.abs(this.scaleX),this.pathPos.y>this.lastPos.y?this.setRotation(Math.PI/2):this.pathPos.y<this.lastPos.y?this.setRotation(-Math.PI/2):this.setRotation(0),this.lastPos={x:this.pathPos.x,y:this.pathPos.y},this.pathProg>=1&&(this.setActive(!1),this.setVisible(!1))},kill:function(){this.setActive(!1),this.setVisible(!1)}}),se=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"blizzard-1"),this.setDepth(1)},fire:function(e){this.setTexture(e.stats.projectileTexture),this.setScale(N(this,2*e.getRange())),this.setAlpha(.8),this.setPosition(e.x,e.y),this.body.setCircle(this.width/2),this.targets=[],this.slowTargets=[],this.stats=JSON.parse(JSON.stringify(e.stats)),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targetRefresh=e.stats.targetRefresh,this.slowTargetRefresh=e.stats.slowTargetRefresh,this.slowRate=e.stats.slowRate,this.slowTime=e.stats.slowTime,this.tower=e,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.targetRefresh-=t*_.speed,this.slowTargetRefresh-=t*_.speed,this.targetRefresh<=0&&(this.targets=[],this.targetRefresh=this.stats.targetRefresh),this.slowTargetRefresh<=0&&(this.slowTargets=[])},destroy:function(){this.setActive(!1),this.setVisible(!1)}}),ae=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"bird-1"),this.setDepth(5)},fire:function(e,t,s){var a=this,i="bird-".concat(s).concat(2===e.level||3===e.level?"_2":4===e.level?"_3":"");if(_.scene.textures.exists(i))this.setTexture(i),this.setScale(N(this,e.stats.projectileWidth));else{var o=b[i];_.scene.load.image(i,o.url,{width:_.tileSize*o.width,height:_.tileSize*o.height}),_.scene.load.once(g.a.Loader.Events.COMPLETE,(function(){a.setTexture(i),a.setScale(N(a,e.stats.projectileWidth))})),_.scene.load.start()}this.targets=[],this.targetMode=e.targetMode,this.stats=JSON.parse(JSON.stringify(e.stats)),this.stats.projectile="birdFeather",this.stats.projectileTexture="birdFeather-".concat(s),this.stats.projectileWidth=.3,this.nextProjectile=0,this.posAngle=120*s,this.centerPos={x:e.x,y:e.y},this.lastTarget=null,this.tower=e,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.nextProjectile-=t*_.speed;var s=g.a.Math.GetSpeed(_.tileSize,1)/(2*Math.PI*_.tileSize*this.tower.getRange())*360;if(this.posAngle+=s*t*_.speed,this.setPosition(this.centerPos.x,this.centerPos.y),g.a.Math.RotateAroundDistance(this,this.centerPos.x,this.centerPos.y,g.a.Math.DegToRad(this.posAngle),_.tileSize*this.tower.getRange()),this.setRotation(g.a.Math.Angle.Between(this.centerPos.x,this.centerPos.y,this.x,this.y)-Math.PI),this.nextProjectile<=0){var a=B(this.x,this.y,this.stats.birdRange,this.targetMode,this.tower.getGhostDetect());if(a){this.nextProjectile=this.stats.fireRate*(1-(this.tower.buffs.fireRate||0));var i=a.getTargetPos();P(this,i)}}},destroy:function(){this.setActive(!1),this.setVisible(!1)}}),ie=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"birdFeather-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectile2Width)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.tower.getGhostDetect(),this.tower=e.tower,this.targets=[];var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(s+Math.PI/4),this.lifespan=(e.stats.birdRange+.5)/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),oe=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"owl-1"),this.setAlpha(0),this.setDepth(3)},fire:function(e){this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targets=[],this.instant=!0,this.tower=e;var t=B(this.x,this.y,e.getRange(),e.targetMode,this.ghostDetect);M(t,this),this.setActive(!1),this.setVisible(!1)}}),re=new g.a.Class({Extends:g.a.GameObjects.Sprite,initialize:function(){g.a.GameObjects.Sprite.call(this,_.scene,0,0,"flames-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.getRange()-.5)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targets=[],this.tower=e;var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);this.setRotation(s+Math.PI/2),g.a.Math.RotateAroundDistance(this,e.x,e.y,s,e.getRange()/2*_.tileSize),this.lifespan=1e3*e.stats.speed/_.speed,this.setActive(!0),this.setVisible(!0),this.setFrame(2),this.anims.create({key:"flames-1",duration:this.lifespan,frames:"flames-1"}),this.play("flames-1")},update:function(e,t){this.lifespan-=t,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),ne=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"missile-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.tower=e,this.lastTarget=t;var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(s+Math.PI/2),this.lifespan=(e.getRange()+.5)/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed;var s=B(this.x,this.y,this.tower.getRange(),this.tower.targetMode,this.tower.getGhostDetect());!this.lastTarget.active&&s&&(this.lastTarget=s);var a=g.a.Math.Angle.Between(this.x,this.y,this.lastTarget.x,this.lastTarget.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(a),7*this.tower.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(a+Math.PI/2),this.lastTarget.active||this.explode(this.x,this.y),this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))},explode:function(e,t){var s=this;E(e,t,this.tower.stats.explosionRadius,this.tower.getGhostDetect()).slice(0,this.tower.stats.maxTargets).forEach((function(e){_.dmgCounts[s.tower.getGridPosText()]+=Math.min(e.hp,s.tower.stats.dmg),e.receiveDamage(Math.min(e.hp,s.tower.stats.dmg),0)}));var a=_.projectiles.explosion.get();a&&a.fire(this,{x:e,y:t}),this.setActive(!1),this.setVisible(!1)}}),le=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"pig-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.tower=e,this.targets=[];var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(s+Math.PI/2),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))},explode:function(e,t){var s=this;E(e,t,this.tower.stats.explosionRadius,this.tower.getGhostDetect()).slice(0,this.tower.stats.maxTargets).forEach((function(e){_.dmgCounts[s.tower.getGridPosText()]+=Math.min(e.hp,s.tower.stats.dmg),e.receiveDamage(Math.min(e.hp,s.tower.stats.dmg),0)}));var a=_.projectiles.explosion.get();a&&a.fire(this,{x:e,y:t}),this.setActive(!1),this.setVisible(!1)}}),ce=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"laser-1"),this.setDepth(3)},fire:function(e,t,s){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targets=[],this.tower=e,4===e.level&&(this.body.setCircle(this.width/3),this.body.setOffset(this.width/5));var a=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(a),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(a),2!==e.level&&3!==e.level||g.a.Math.RotateAroundDistance(this,this.x,this.y,a+Math.PI/2,.12*_.tileSize*(1===s?1:-1)),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),de=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"boomerang-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.targets=[],this.tower=e,this.hasChangedDir=!1;var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.dir={x:this.body.velocity.x>0?1:-1,y:this.body.velocity.y>0?1:-1},this.body.setAcceleration(-1.27*this.body.velocity.x*(e.stats.range/e.getRange())*_.speed,-1.27*this.body.velocity.y*(e.stats.range/e.getRange())*_.speed),this.body.setAngularVelocity(1e3*(s>0?1:-1)*_.speed),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3*3.5,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.hasChangedDir||(this.dir.x>0&&this.body.velocity.x<0||this.dir.x<0&&this.body.velocity.x>0||this.dir.y>0&&this.body.velocity.y<0||this.dir.y<0&&this.body.velocity.y>0)&&(this.hasChangedDir=!0,this.targets=[]),this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),he=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"banana-1"),this.setDepth(3)},fire:function(e,t,s){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.tower=e,this.targets=[];var a=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y),i=g.a.Math.DegToRad((e.stats.numProjectiles-s-1)/e.stats.numProjectiles*360)+a;_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(i),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(i-Math.PI/2),this.body.setAngularVelocity(1e3*_.speed),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),ue={easy:[[{wait:0,cd:3500,types:[1],ghostTypes:[!1],count:3}],[{wait:0,cd:700,types:[1,2],ghostTypes:[!1,!1],count:3}],[{wait:0,cd:700,types:[1,2],ghostTypes:[!1,!1],count:5}],[{wait:0,cd:700,types:[1,1,2,2,3],ghostTypes:[!1,!1,!1,!1,!1],count:3}],[{wait:0,cd:1e3,types:[10],ghostTypes:[!1],count:5}],[{wait:0,cd:50,types:[1],ghostTypes:[!1],count:50}],[{wait:0,cd:500,types:[5,7],ghostTypes:[!1,!1],count:7}],[{wait:0,cd:500,types:[7,10],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:500,types:[7,7,10,10,13],ghostTypes:[!1,!1,!1,!1,!1],count:5}],[{wait:0,cd:500,types:[13],ghostTypes:[!1],count:10},{wait:2e3,cd:500,types:[55],ghostTypes:[!1],count:1}],[{wait:0,cd:300,types:[15],ghostTypes:[!1],count:20}],[{wait:0,cd:300,types:[15,15,15,15,20],ghostTypes:[!1,!1,!1,!1,!1],count:5}],[{wait:0,cd:300,types:[15,20,25],ghostTypes:[!1,!1,!1],count:10}],[{wait:0,cd:300,types:[20,20,30],ghostTypes:[!1,!1,!1],count:10}],[{wait:0,cd:300,types:[10,20,30,35],ghostTypes:[!1,!1,!1,!1],count:10}],[{wait:0,cd:300,types:[30,30,40],ghostTypes:[!1,!1,!1,!1],count:10}],[{wait:0,cd:700,types:[45],ghostTypes:[!1],count:20}],[{wait:0,cd:300,types:[15],ghostTypes:[!1],count:80}],[{wait:0,cd:500,types:[40,40,50],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:1e3,types:[50],ghostTypes:[!1],count:10},{wait:2e3,cd:300,types:[200],ghostTypes:[!1],count:1}],[{wait:0,cd:500,types:[50,50,60],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:500,types:[60],ghostTypes:[!1],count:30}],[{wait:0,cd:500,types:[40,50,60],ghostTypes:[!1,!1,!1],count:14}],[{wait:0,cd:500,types:[60,60,60,60,60,70,70],ghostTypes:[!1,!1,!1],count:5}],[{wait:0,cd:500,types:[70,80],ghostTypes:[!1,!1,!1],count:17}],[{wait:0,cd:500,types:[30],ghostTypes:[!1],count:90}],[{wait:0,cd:1e3,types:[100],ghostTypes:[!1],count:20}],[{wait:0,cd:500,types:[70],ghostTypes:[!1],count:30},{wait:2e3,cd:500,types:[300],ghostTypes:[!1],count:1}],[{wait:2e3,cd:500,types:[80],ghostTypes:[!1],count:25},{wait:0,cd:500,types:[450],ghostTypes:[!1],count:1}],[{wait:0,cd:500,types:[90],ghostTypes:[!1],count:20},{wait:2e3,cd:500,types:[600],ghostTypes:[!1],count:1}]],normal:[[{wait:0,cd:2e3,types:[1],ghostTypes:[!1],count:5}],[{wait:0,cd:700,types:[1,2],ghostTypes:[!1,!1],count:5}],[{wait:0,cd:700,types:[1,2],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:700,types:[1,1,2,2,5],ghostTypes:[!1,!1,!1,!1,!1],count:5}],[{wait:0,cd:1e3,types:[12],ghostTypes:[!1],count:5}],[{wait:0,cd:50,types:[1],ghostTypes:[!1],count:100}],[{wait:0,cd:500,types:[10,10,15],ghostTypes:[!1,!1,!1],count:5}],[{wait:0,cd:500,types:[10,15],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:500,types:[10,15,20],ghostTypes:[!1,!1,!1],count:5}],[{wait:0,cd:500,types:[20],ghostTypes:[!1],count:15},{wait:2e3,cd:500,types:[120],ghostTypes:[!1],count:1}],[{wait:0,cd:300,types:[25],ghostTypes:[!1],count:20}],[{wait:0,cd:700,types:[5],ghostTypes:[!0],count:5}],[{wait:0,cd:300,types:[30,5,40],ghostTypes:[!1,!0,!1],count:10}],[{wait:0,cd:300,types:[30,30,45],ghostTypes:[!1,!1,!1],count:10}],[{wait:0,cd:300,types:[20,30,10,40,50],ghostTypes:[!1,!1,!0,!1,!1],count:10}],[{wait:0,cd:300,types:[40,40,40,50],ghostTypes:[!1,!1,!1,!1],count:10}],[{wait:0,cd:700,types:[60],ghostTypes:[!1],count:25}],[{wait:0,cd:300,types:[30],ghostTypes:[!1],count:80}],[{wait:0,cd:500,types:[50,70,15],ghostTypes:[!1,!1,!0],count:20}],[{wait:0,cd:700,types:[70],ghostTypes:[!1],count:30},{wait:2e3,cd:300,types:[500],ghostTypes:[!1],count:1}],[{wait:0,cd:500,types:[70,80],ghostTypes:[!1,!1],count:20}],[{wait:0,cd:500,types:[80],ghostTypes:[!1],count:40}],[{wait:0,cd:500,types:[70,75,80,20],ghostTypes:[!1,!1,!1,!0],count:17}],[{wait:0,cd:500,types:[90,90,100,30],ghostTypes:[!1,!1,!1,!0],count:15}],[{wait:0,cd:500,types:[40,100,115],ghostTypes:[!0,!1,!1],count:20}],[{wait:0,cd:500,types:[150],ghostTypes:[!1],count:35}],[{wait:0,cd:1e3,types:[200],ghostTypes:[!1],count:25}],[{wait:0,cd:500,types:[20,115,115],ghostTypes:[!0,!1,!1],count:15},{wait:2e3,cd:500,types:[750],ghostTypes:[!1],count:1}],[{wait:2e3,cd:500,types:[30,130,130],ghostTypes:[!0,!1,!1],count:15},{wait:0,cd:500,types:[1e3],ghostTypes:[!1],count:1}],[{wait:0,cd:500,types:[40,150,150],ghostTypes:[!0,!1,!1],count:15},{wait:2e3,cd:500,types:[1250],ghostTypes:[!1],count:1}]],hard:[[{wait:0,cd:500,types:[1],ghostTypes:[!1],count:7}],[{wait:0,cd:500,types:[2],ghostTypes:[!1],count:12}],[{wait:0,cd:500,types:[2,4],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:500,types:[2,2,4,4,7],ghostTypes:[!1,!1,!1,!1,!1],count:5}],[{wait:0,cd:1e3,types:[15],ghostTypes:[!1],count:5}],[{wait:0,cd:50,types:[3],ghostTypes:[!1],count:80}],[{wait:0,cd:500,types:[15,15,20],ghostTypes:[!1,!1,!1],count:5}],[{wait:0,cd:500,types:[15,20],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:500,types:[15,20,25],ghostTypes:[!1,!1,!1],count:8}],[{wait:0,cd:500,types:[25],ghostTypes:[!1],count:15},{wait:2e3,cd:500,types:[300],ghostTypes:[!1],count:1}],[{wait:0,cd:300,types:[35],ghostTypes:[!1],count:25}],[{wait:0,cd:300,types:[10],ghostTypes:[!0],count:10}],[{wait:0,cd:300,types:[45,15,50],ghostTypes:[!1,!0,!1],count:10}],[{wait:0,cd:300,types:[45,45,55],ghostTypes:[!1,!1,!1],count:10}],[{wait:0,cd:300,types:[40,50,20,60,70],ghostTypes:[!1,!1,!0,!1,!1],count:10}],[{wait:0,cd:300,types:[55,55,55,65],ghostTypes:[!1,!1,!1,!1],count:10}],[{wait:0,cd:700,types:[90],ghostTypes:[!1],count:25}],[{wait:0,cd:300,types:[40],ghostTypes:[!1],count:80}],[{wait:0,cd:500,types:[80,90,40],ghostTypes:[!1,!1,!0],count:20}],[{wait:0,cd:500,types:[90],ghostTypes:[!1],count:40},{wait:2e3,cd:300,types:[1e3],ghostTypes:[!1],count:1}],[{wait:0,cd:700,types:[120],ghostTypes:[!1],count:45}],[{wait:0,cd:500,types:[140],ghostTypes:[!1],count:45}],[{wait:0,cd:500,types:[140,150,160,50],ghostTypes:[!1,!1,!1,!0],count:15}],[{wait:0,cd:500,types:[160,160,180,50],ghostTypes:[!1,!1,!1,!0],count:15}],[{wait:0,cd:500,types:[170,190,60],ghostTypes:[!1,!1,!0],count:25}],[{wait:0,cd:700,types:[260],ghostTypes:[!1],count:45}],[{wait:0,cd:700,types:[310],ghostTypes:[!1],count:45}],[{wait:0,cd:500,types:[70,330,330],ghostTypes:[!0,!1,!1],count:20},{wait:2e3,cd:500,types:[1500],ghostTypes:[!1],count:1}],[{wait:2e3,cd:500,types:[80,380,380],ghostTypes:[!0,!1,!1],count:20},{wait:0,cd:500,types:[2e3],ghostTypes:[!1],count:1}],[{wait:0,cd:500,types:[110,430,430],ghostTypes:[!0,!1,!1],count:20},{wait:2e3,cd:500,types:[2500],ghostTypes:[!1],count:1}]],nightmare:[[{wait:0,cd:500,types:[1],ghostTypes:[!1],count:10}],[{wait:0,cd:500,types:[2],ghostTypes:[!1],count:15}],[{wait:0,cd:500,types:[2,4],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:500,types:[2,2,4,4,7],ghostTypes:[!1,!1,!1,!1,!1],count:5}],[{wait:0,cd:1e3,types:[15],ghostTypes:[!1],count:5}],[{wait:0,cd:50,types:[3],ghostTypes:[!1],count:100}],[{wait:0,cd:500,types:[15,15,20],ghostTypes:[!1,!1,!1],count:5}],[{wait:0,cd:500,types:[15,25],ghostTypes:[!1,!1],count:10}],[{wait:0,cd:500,types:[15,20,25],ghostTypes:[!1,!1,!1],count:10}],[{wait:0,cd:500,types:[25],ghostTypes:[!1],count:15},{wait:2e3,cd:500,types:[300],ghostTypes:[!1],count:1}],[{wait:0,cd:300,types:[40],ghostTypes:[!1],count:25}],[{wait:0,cd:300,types:[10],ghostTypes:[!0],count:10}],[{wait:0,cd:300,types:[50,15,50],ghostTypes:[!1,!0,!1],count:10}],[{wait:0,cd:300,types:[50,50,60],ghostTypes:[!1,!1,!1],count:10}],[{wait:0,cd:300,types:[40,50,20,60,70],ghostTypes:[!1,!1,!0,!1,!1],count:10}],[{wait:0,cd:300,types:[60,60,60,70],ghostTypes:[!1,!1,!1,!1],count:10}],[{wait:0,cd:700,types:[100],ghostTypes:[!1],count:25}],[{wait:0,cd:300,types:[40],ghostTypes:[!1],count:100}],[{wait:0,cd:500,types:[80,90,40],ghostTypes:[!1,!1,!0],count:20}],[{wait:0,cd:500,types:[100],ghostTypes:[!1],count:40},{wait:2e3,cd:300,types:[1e3],ghostTypes:[!1],count:1}],[{wait:0,cd:700,types:[130],ghostTypes:[!1],count:45}],[{wait:0,cd:500,types:[150],ghostTypes:[!1],count:45}],[{wait:0,cd:500,types:[140,150,160,50],ghostTypes:[!1,!1,!1,!0],count:17}],[{wait:0,cd:500,types:[170,170,190,60],ghostTypes:[!1,!1,!1,!0],count:15}],[{wait:0,cd:500,types:[180,200,70],ghostTypes:[!1,!1,!0],count:25}],[{wait:0,cd:700,types:[275],ghostTypes:[!1],count:45}],[{wait:0,cd:700,types:[325],ghostTypes:[!1],count:45}],[{wait:0,cd:500,types:[80,350,350],ghostTypes:[!0,!1,!1],count:20},{wait:2e3,cd:500,types:[1700],ghostTypes:[!1],count:1}],[{wait:2e3,cd:500,types:[90,400,400],ghostTypes:[!0,!1,!1],count:20},{wait:0,cd:500,types:[2200],ghostTypes:[!1],count:1}],[{wait:0,cd:500,types:[120,450,450],ghostTypes:[!0,!1,!1],count:20},{wait:2e3,cd:500,types:[2700],ghostTypes:[!1],count:1}]]},me=new g.a.Class({Extends:g.a.GameObjects.Image,initialize:function(){g.a.GameObjects.Image.call(this,_.scene,0,0,"tornado-1"),this.setDepth(3)},fire:function(e,t){if(!t)return this.setActive(!1),void this.setVisible(!1);this.setTexture(e.stats.projectileTexture),this.setScale(N(this,e.stats.projectileWidth)),this.setPosition(e.x,e.y),this.dmg=e.stats.dmg,this.maxTargets=e.stats.maxTargets,this.ghostDetect=e.getGhostDetect(),this.pushBackTime=e.stats.pushBackTime,this.targets=[],this.tower=e;var s=g.a.Math.Angle.Between(e.x,e.y,t.x,t.y);_.scene.physics.velocityFromAngle(g.a.Math.RadToDeg(s),7*e.stats.speed*_.tileSize*_.speed,this.body.velocity),this.setRotation(s-Math.PI/2),this.body.setAngularVelocity(700*(s>0?-1:1)),this.lifespan=e.getRange()/(7*e.stats.speed)*1e3,this.setActive(!0),this.setVisible(!0)},update:function(e,t){this.lifespan-=t*_.speed,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),pe=new g.a.Class({Extends:g.a.GameObjects.Sprite,initialize:function(){g.a.GameObjects.Sprite.call(this,_.scene,0,0,"explosion-1"),this.setDepth(3)},fire:function(e,t){this.setTexture(e.tower.stats.explosionTexture),this.setScale(N(this,e.tower.stats.explosionRadius)),this.setPosition(t.x,t.y),this.setRotation(Object(W.p)(-Math.PI,Math.PI)),this.lifespan=500/_.speed,this.setActive(!0),this.setVisible(!0),this.setFrame(2),this.anims.create({key:e.tower.stats.explosionTexture,duration:this.lifespan,frames:e.tower.stats.explosionTexture}),this.play(e.tower.stats.explosionTexture)},update:function(e,t){this.lifespan-=t,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}),ge={easy:function(e){for(var t=[],s=90,a=30;a<e;a++)s=Math.round(1.1*s);t.push({wait:0,cd:300,types:[s],ghostTypes:[!1],count:20+Math.ceil(e/5)});for(var i=600,o=30;o<e;o++)i=Math.round(1.1*i);return t.push({wait:2e3,cd:500,types:[i],ghostTypes:[!1],count:1}),t},normal:function(e){for(var t=[],s=40,a=30;a<e;a++)s=Math.round(1.1*s);for(var i=150,o=30;o<e;o++)i=Math.round(1.1*i);t.push({wait:0,cd:300,types:[s,i,i],ghostTypes:[!0,!1,!1],count:15+Math.ceil(e/5)});for(var r=1250,n=30;n<e;n++)r=Math.round(1.1*r);return t.push({wait:2e3,cd:500,types:[r],ghostTypes:[!1],count:1}),t},hard:function(e){for(var t=[],s=110,a=30;a<e;a++)s=Math.round(1.1*s);for(var i=430,o=30;o<e;o++)i=Math.round(1.1*i);t.push({wait:0,cd:300,types:[s,i,i],ghostTypes:[!0,!1,!1],count:20+Math.ceil(e/5)});for(var r=2500,n=30;n<e;n++)r=Math.round(1.1*r);return t.push({wait:2e3,cd:500,types:[r],ghostTypes:[!1],count:1}),t},nightmare:function(e){for(var t=[],s=120,a=30;a<e;a++)s=Math.round(1.1*s);for(var i=450,o=30;o<e;o++)i=Math.round(1.1*i);t.push({wait:0,cd:300,types:[s,i,i],ghostTypes:[!0,!1,!1],count:20+Math.ceil(e/5)});for(var r=2700,n=30;n<e;n++)r=Math.round(1.1*r);return t.push({wait:2e3,cd:500,types:[r],ghostTypes:[!1],count:1}),t}};function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,i,o,r,n=[],l=!0,c=!1;try{if(o=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;l=!1}else for(;!(l=(a=o.call(s)).done)&&(n.push(a.value),n.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=s.return&&(r=s.return(),Object(r)!==r))return}finally{if(c)throw i}}return n}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function _e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(i=a.key,o=void 0,o=function(e,t){if("object"!==fe(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!==fe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===fe(o)?o:String(o)),a)}var i,o}function ve(e,t){return(ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,a=Te(e);if(t){var i=Te(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return xe(this,s)}}function xe(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(o,e);var t,s,a,i=be(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this),_.map=JSON.parse(JSON.stringify(x.a[e])),t}return t=o,(s=[{key:"preload",value:function(){var e=this;this.load.setCORS("anonymous"),_.canvasWidth=document.getElementById("phaser-td").offsetWidth,_.canvasHeight=document.getElementById("phaser-td").offsetHeight;var t=_.canvasWidth<900,s=t?1.5:_.canvasWidth>1250&&_.canvasHeight>750?2.5:1.5,a=t?1.5:_.canvasWidth>1250&&_.canvasHeight>750?2.5:1.5,i=t?0:480,o=t?100:0;_.tileSize=Math.min((_.canvasWidth-i)*((_.map.numColumns-s)/_.map.numColumns)/_.map.numColumns,(_.canvasHeight-o)*((_.map.numRows-a)/_.map.numRows)/_.map.numRows);var r=_.canvasWidth<700;this.load.image("map",r?_.map.mediumImg:_.map.bigImg,r?1e3:1540),_.map.caves.forEach((function(t,s){e.load.svg("cave-".concat(s),t.img,{width:1.2*_.tileSize,height:_.tileSize*(88/60*1.2)})})),Object.entries(b).forEach((function(t){var s=we(t,2),a=s[0],i=s[1];!l.isMobile&&a.includes("_")||(i.nonVector?e.load.image(a,i.url,i.width):i.isSpritesheet?e.load.spritesheet(a,i.url,{frameWidth:i.width,frameHeight:i.height}):e.load.svg(a,i.url,{width:_.tileSize*i.width,height:_.tileSize*i.height}))}))}},{key:"create",value:function(){var e=this;_.scene=this,_.waveGoing=!1,this.cameras.main.setBounds(0,0,_.canvasWidth,_.canvasHeight),this.physics.world.setBounds(0,0,_.canvasWidth,_.canvasHeight);var t=this.add.image(_.canvasWidth/2,_.canvasHeight/2,"map").setOrigin(.5,.5),s=_.canvasWidth<1e3,a=s?750:1540,i=s?50/1540*750:50;t.setScale(N(t,a/i)),_.map.caves.forEach((function(t,s){var a=R(t.pos.x,t.pos.y);e.add.image(a.x,a.y,"cave-".concat(s)).setDepth(3).setRotation(g.a.Math.DegToRad(t.rotation))})),this.rangeGraphics=this.add.graphics(),_.enemyPaths=[],_.backPaths=[],_.map.paths.forEach((function(t){for(var s=R(t[0][0],t[0][1]),a=e.add.path(s.x,s.y),i=1;i<t.length;i++){var o=R(t[i][0],t[i][1]);a.lineTo(o.x,o.y)}_.enemyPaths.push(a);for(var r=JSON.parse(JSON.stringify(t)).reverse(),n=R(r[0][0],r[0][1]),l=e.add.path(n.x,n.y),c=1;c<r.length;c++){var d=R(r[c][0],r[c][1]);l.lineTo(d.x,d.y)}_.backPaths.push(l)})),_.enemies=this.physics.add.group({classType:L,runChildUpdate:!0}),this.nextEnemy=0,this.enemyQueue=[],this.extraRounds=[],_.texts=this.add.group({classType:q}),_.towerBases=this.add.group({classType:Y}),_.towers=this.add.group({classType:X,runChildUpdate:!0}),_.projectiles.egg=this.physics.add.group({classType:J,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.egg,M),_.projectiles.nut=this.physics.add.group({classType:Z,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.nut,M),_.projectiles.peacock=this.physics.add.group({classType:K,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.peacock,M),_.projectiles.syrupBottle=this.physics.add.group({classType:ee,runChildUpdate:!0}),_.projectiles.syrup=this.physics.add.group({classType:$,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.syrup,M),_.projectiles.fish=this.physics.add.group({classType:te,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.fish,M),_.projectiles.blizzard=this.physics.add.group({classType:se,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.blizzard,M),this.physics.add.overlap(_.enemies,_.projectiles.blizzard,O),_.projectiles.bird=this.physics.add.group({classType:ae,runChildUpdate:!0}),_.projectiles.birdFeather=this.physics.add.group({classType:ie,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.birdFeather,M),_.projectiles.owl=this.physics.add.group({classType:oe,runChildUpdate:!0}),_.projectiles.flames=this.physics.add.group({classType:re,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.flames,M),_.projectiles.missile=this.physics.add.group({classType:ne,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.missile,D),_.projectiles.pig=this.physics.add.group({classType:le,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.pig,D),_.projectiles.laser=this.physics.add.group({classType:ce,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.laser,M),_.projectiles.boomerang=this.physics.add.group({classType:de,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.boomerang,M),_.projectiles.banana=this.physics.add.group({classType:he,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.banana,M),_.projectiles.tornado=this.physics.add.group({classType:me,runChildUpdate:!0}),this.physics.add.overlap(_.enemies,_.projectiles.tornado,M),_.projectiles.explosion=this.physics.add.group({classType:pe,runChildUpdate:!0});var o=function(){e.noBuyX&&e.noBuyX.destroy(),e.tempTower&&e.tempTower.destroy(),e.rangeGraphics.clear()},r=function(t){if(_.buyingTower&&(o(),S(t.x,t.y))){if(_.map.tiles[t.y][t.x]){if(3===_.map.tiles[t.y][t.x])return;var s=R(t.x,t.y);return e.noBuyX=e.add.image(s.x,s.y,"x"),e.noBuyX.setScale(N(e.noBuyX,.8)),void e.noBuyX.setAlpha(.7)}var a=Q(_.buyingTower,0),i=R(t.x,t.y);e.tempTower=e.add.image(i.x,i.y,a.texture),e.tempTower.setScale(N(e.tempTower,a.width)),e.tempTower.setAlpha(.7),j(e.rangeGraphics,t.x,t.y,a.range)}},n=function(t){if(!S(t.x,t.y))return _.buyingTower="",e.input.setDefaultCursor("default"),o(),e.game.events.emit("select-tower",null),void e.game.events.emit("stop-preview");if(_.map.tiles[t.y][t.x])if(_.buyingTower="",e.input.setDefaultCursor("default"),e.game.events.emit("stop-preview"),o(),3===_.map.tiles[t.y][t.x]){var s=_.towers.getChildren(),a=null;s.forEach((function(e){e.gridPos.x===t.x&&e.gridPos.y===t.y&&(a=e)})),a&&(e.game.events.emit("select-tower",a),j(e.rangeGraphics,t.x,t.y,a.getRange()))}else e.game.events.emit("select-tower",null);else{if(!_.buyingTower)return e.game.events.emit("select-tower",null),void e.rangeGraphics.clear();_.map.tiles[t.y][t.x]=3;var i=_.towers.get();i&&(i.spawn(_.buyingTower,0,t.x,t.y),_.buyingTower="",e.input.setDefaultCursor("default"),o(),j(e.rangeGraphics,t.x,t.y,i.getRange()),G(),_.dmgCounts[i.getGridPosText()]=0,e.game.events.emit("select-tower",i),e.game.events.emit("change-coins",-i.stats.price),e.game.events.emit("stop-preview"))}};this.input.on("pointermove",(function(t){var s=k(t.x,t.y);S(s.x,s.y)&&3===_.map.tiles[s.y][s.x]?e.input.setDefaultCursor("pointer"):_.buyingTower||e.input.setDefaultCursor("default"),r(s)})),this.input.on("pointerdown",(function(e){var t=k(e.x,e.y);_.isPlacing?r(t):n(t)})),this.game.events.on("hidden",(function(){e.scene.pause()})),this.game.events.on("visible",(function(){_.isPaused?e.scene.pause():e.scene.resume()})),this.game.events.on("preview-tower",(function(t){if(_.buyingTower===t)return _.buyingTower="",e.input.setDefaultCursor("default"),o(),e.game.events.emit("select-tower",null),void e.game.events.emit("stop-preview");_.buyingTower=t,e.input.setDefaultCursor("pointer")})),this.game.events.on("deselect-tower",(function(){_.isPlacing=!1,_.buyingTower="",e.input.setDefaultCursor("default"),o(),e.game.events.emit("select-tower",null),e.game.events.emit("stop-preview")})),this.game.events.on("start-placing",(function(){_.isPlacing=!0})),this.game.events.on("buy-tower",(function(){_.isPlacing=!1,n(e.tempTower?k(e.tempTower.x,e.tempTower.y):{x:-1,y:-1})})),this.game.events.on("upgrade-tower",(function(t){var s=z(t.gridPos.x,t.gridPos.y);s&&(s.upgrade(t.level+1),j(e.rangeGraphics,s.gridPos.x,s.gridPos.y,s.getRange())),G(),e.game.events.emit("select-tower",s)})),this.game.events.on("sell-tower",(function(t){var s=z(t.gridPos.x,t.gridPos.y);s&&s.delete(),G(),e.rangeGraphics.clear(),e.game.events.emit("select-tower",null)})),this.game.events.on("set-target-mode",(function(t,s){var a=z(t.gridPos.x,t.gridPos.y);a&&(a.targetMode=s),e.game.events.emit("select-tower",a)})),this.game.events.on("start-wave",(function(){_.wave+=1;var t=[],s=(t=_.wave<=30?JSON.parse(JSON.stringify(ue[_.difficulty][_.wave-1])):ge[_.difficulty](_.wave)).shift();e.extraRounds=t,e.enemyCounter=0,e.enemyQueue=[];for(var a=0;a<s.count;a++)s.types.forEach((function(t,a){e.enemyQueue.push([t,s.ghostTypes[a]])}));e.nextEnemy=s.wait,e.roundCd=s.cd,_.waveGoing=!0})),this.game.events.on("set-speed",(function(e){_.speed=2===e?2.5:1.25})),this.game.events.on("build-saved-tower",(function(e){if(S(e.x,e.y)&&!_.map.tiles[e.y][e.x]){_.map.tiles[e.y][e.x]=3;var t=_.towers.get();t&&(t.spawn(e.type,e.level,e.x,e.y),t.targetMode=e.target,G(),_.dmgCounts[t.getGridPosText()]=e.dmg)}}))}},{key:"update",value:function(e,t){var s=this;if(this.nextEnemy-=t*_.speed,_.waveGoing&&this.nextEnemy<=0&&0===this.enemyQueue.length&&0===_.enemies.getChildren().filter((function(e){return e.active})).length&&(_.waveGoing=!1,this.game.events.emit("wave-over"),_.towers.getChildren().forEach((function(e){e.stats.coinsPerWave&&A(e.x,e.y,e.stats.coinsPerWave)})),_.projectiles.fish.getChildren().forEach((function(e){e.active&&e.kill()}))),this.nextEnemy<=0&&0!==this.enemyQueue.length&&_.waveGoing){var a=this.enemyQueue.shift(),i=_.enemies.get();if(a&&i)if(this.enemyCounter+=1,i.start(a[0],a[1],this.enemyCounter),0===this.enemyQueue.length){var o=this.extraRounds.shift();if(o){this.enemyQueue=[];for(var r=0;r<o.count;r++)o.types.forEach((function(e,t){s.enemyQueue.push([e,o.ghostTypes[t]])}));this.nextEnemy=o.wait,this.roundCd=o.cd}}else this.nextEnemy=this.roundCd}}},{key:"addTween",value:function(e){this.tweens.add(e)}}])&&_e(t.prototype,s),a&&_e(t,a),Object.defineProperty(t,"prototype",{writable:!1}),o}(g.a.Scene),ke=function(e){return{type:g.a.WEBGL,parent:"phaser-td",width:"100%",height:"100%",backgroundColor:x.a[e].bgColor,scale:{mode:g.a.Scale.FIT,autoCenter:g.a.Scale.CENTER_BOTH},physics:{default:"arcade"},scene:new Ce(e)}},Re=s("vTRD"),Se=s("GC+6"),Ie=s("ZrUs"),Ee=s("XTAU"),Be=s("ca/f"),Ne=s("LJMA"),Pe=s.n(Ne),je=s("Xst1"),Me=s.n(je),Oe=s("Rnav"),De=s("5BnW"),Ge=s("FVRk"),ze=s("4Zpe"),Ae=s("9TPi"),We=s("5XbW"),Ve=s.n(We),Le=[{text:"In Tower Defense, your goal is to defend against waves of Evil Blooks!",nextButtonText:"Next",className:Ve.a.centered},{text:"But, before each round of enemies, you'll have to answer 3 questions correctly. Do that now!",nextButtonText:"Got it!",className:Ve.a.centered},{},{elementId:"tdCoinsText",text:"Good job! You can now see you've earned 50 coins!",nextButtonText:"Next",backgroundColor:"#9a49aa",className:Ve.a.topRight},{text:"Evil Blooks will spawn at the arrow on the map and follow the path towards the 'X'! Towers will attack them to prevent this.",nextButtonText:"Next",className:Ve.a.centered},{elementId:"right",text:"Now try buying a Tower! Just click a Blook to the right and then place it on the map. The price of each Tower is shown in the blue box.",nextButtonText:"Got It!",className:Ve.a.shop},{},{elementId:"left",text:"Great work! You can now click on the tower to see its stats and buy upgrades.",nextButtonText:"Next",className:Ve.a.stats},{elementId:"left",text:"Once you have enough coins you can also upgrade the tower with the blue button! There are 5 levels for each tower, each getting more powerful!",nextButtonText:"Next",className:Ve.a.upgradeButton},{elementId:"nextRound",text:"Make sure you upgrade your Towers and buy new ones. Now you're on your own! Click the 'Start' button to begin!",elementClick:!0,className:Ve.a.nextRound}],qe=[{text:"In Tower Defense, your goal is to defend against waves of Evil Blooks!",nextButtonText:"Next",className:Ve.a.centered},{text:"But, before each round of enemies, you'll have to answer 3 questions correctly. Do that now!",nextButtonText:"Got it!",className:Ve.a.centered},{},{elementId:"tdCoinsText",text:"Good job! You can now see you've earned 50 coins!",nextButtonText:"Next",backgroundColor:"#9a49aa",className:Ve.a.topRight},{text:"Evil Blooks will spawn at the arrow on the map and follow the path towards the 'X'! Towers will attack them to prevent this.",nextButtonText:"Next",className:Ve.a.centered},{elementId:"right",text:"Now try buying a Tower! Just tap the 'Open Shop' button, choose a Blook, tap to place it on the map, and then tap 'Buy Now' up top! The price of each Tower is shown in the blue box.",nextButtonText:"Got It!",className:Ve.a.shop},{},{text:"Great work! You can now click on the tower to see its stats and buy upgrades.",nextButtonText:"Next",className:Ve.a.stats},{text:"Once you have enough coins you can also upgrade the tower with the blue button! There are 5 levels for each tower, each getting more powerful!",nextButtonText:"Next",className:Ve.a.stats,functionIndex:0},{elementId:"mNextRound",text:"Make sure you upgrade your Towers and buy new ones. Now you're on your own! Click the 'Start' button to begin!",elementClick:!0,className:Ve.a.nextRound}],Fe=s("28sW"),Ue=s("E8Bj"),He=s("t3SV");function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,i,o,r,n=[],l=!0,c=!1;try{if(o=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;l=!1}else for(;!(l=(a=o.call(s)).done)&&(n.push(a.value),n.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=s.return&&(r=s.return(),Object(r)!==r))return}finally{if(c)throw i}}return n}}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"==typeof e)return Ze(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function Ke(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ke=function(){return e};var e={},t=Object.prototype,s=t.hasOwnProperty,a=Object.defineProperty||function(e,t,s){e[t]=s.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",n=i.toStringTag||"@@toStringTag";function l(e,t,s){return Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,s){return e[t]=s}}function c(e,t,s,i){var o=t&&t.prototype instanceof u?t:u,r=Object.create(o.prototype),n=new k(i||[]);return a(r,"_invoke",{value:b(e,s,n)}),r}function d(e,t,s){try{return{type:"normal",arg:e.call(t,s)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function u(){}function m(){}function p(){}var g={};l(g,o,(function(){return this}));var f=Object.getPrototypeOf,w=f&&f(f(R([])));w&&w!==t&&s.call(w,o)&&(g=w);var y=p.prototype=u.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var i;a(this,"_invoke",{value:function(a,o){function r(){return new t((function(i,r){!function a(i,o,r,n){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Qe(h)&&s.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,r,n)}),(function(e){a("throw",e,r,n)})):t.resolve(h).then((function(e){c.value=e,r(c)}),(function(e){return a("throw",e,r,n)}))}n(l.arg)}(a,o,i,r)}))}return i=i?i.then(r,r):r()}})}function b(e,t,s){var a="suspendedStart";return function(i,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===i)throw o;return S()}for(s.method=i,s.arg=o;;){var r=s.delegate;if(r){var n=x(r,s);if(n){if(n===h)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===a)throw a="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a="executing";var l=d(e,t,s);if("normal"===l.type){if(a=s.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:s.done}}"throw"===l.type&&(a="completed",s.method="throw",s.arg=l.arg)}}}function x(e,t){var s=t.method,a=e.iterator[s];if(void 0===a)return t.delegate=null,"throw"===s&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==s&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+s+"' method")),h;var i=d(a,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(s.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=p,a(y,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,n,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,n,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(v.prototype),l(v.prototype,r,(function(){return this})),e.AsyncIterator=v,e.async=function(t,s,a,i,o){void 0===o&&(o=Promise);var r=new v(c(t,s,a,i),o);return e.isGeneratorFunction(s)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},_(y),l(y,n,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),s=[];for(var a in t)s.push(a);return s.reverse(),function e(){for(;s.length;){var a=s.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=R,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(s,a){return r.type="throw",r.arg=e,t.next=s,a&&(t.method="next",t.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],r=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var n=s.call(o,"catchLoc"),l=s.call(o,"finallyLoc");if(n&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(n){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.finallyLoc===e)return this.complete(s.completion,s.afterLoc),C(s),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.tryLoc===e){var a=s.completion;if("throw"===a.type){var i=a.arg;C(s)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,s){return this.delegate={iterator:R(e),resultName:t,nextLoc:s},"next"===this.method&&(this.arg=void 0),h}},e}function $e(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function et(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(s),!0).forEach((function(t){tt(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$e(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function tt(e,t,s){return(t=ot(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function st(e,t,s,a,i,o,r){try{var n=e[o](r),l=n.value}catch(e){return void s(e)}n.done?t(l):Promise.resolve(l).then(a,i)}function at(e){return function(){var t=this,s=arguments;return new Promise((function(a,i){var o=e.apply(t,s);function r(e){st(o,a,i,r,n,"next",e)}function n(e){st(o,a,i,r,n,"throw",e)}r(void 0)}))}}function it(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ot(a.key),a)}}function ot(e){var t=function(e,t){if("object"!==Qe(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!==Qe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qe(t)?t:String(t)}function rt(e,t){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,a=dt(e);if(t){var i=dt(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return lt(this,s)}}function lt(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht={dmg:"https://media.blooket.com/image/upload/v1669320494/Media/defense/damageIcon.svg",fireRate:"https://media.blooket.com/image/upload/v1669320494/Media/defense/attackTimeIcon.svg",range:"https://media.blooket.com/image/upload/v1669320494/Media/defense/rangeIcon.svg",ghost:"https://media.blooket.com/image/upload/v1669320496/Media/defense/ghostDetectIcon.svg",maxTargets:"https://media.blooket.com/image/upload/v1670964043/Media/defense/maxTargetIcon2.svg",target:"https://media.blooket.com/image/upload/v1670964043/Media/defense/maxTargetIcon.svg",totalDmg:"https://media.blooket.com/image/upload/v1669320496/Media/defense/liveDamageIcon.svg",coin:"https://media.blooket.com/image/upload/v1673468297/Media/defense/sellIcon2.svg"},ut=["First","Last","Strongest","Weakest","Farthest","Closest"],mt=["king","queen","toucan"],pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(c,e);var t,s,a,o,r,n=nt(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=n.call(this,e)).state={game:ke(e.defense2?e.defense2.map:"meadow"),selectedTower:null,previewTower:null,towers:[],waveGoing:!1,speed:1,coins:50,health:100,round:1,dmgCounts:{},unlockedTowers:[],unlockableTowers:[],showGhostWarning:!1,victoryPopUp:!1,mShopOpen:!1,mIsPlacing:!1,question:{},correct:!1,stage:"",readId:"",askTour:!1,showTour:!1,isSmall:!1,notLoggedIn:!1,gameOver:!1,hwGoal:0,oldHwGoal:0,goalCompleted:!1},t.here=!0,t.hasWarnedGhosts=!1,t.questions=[],t.freeQuestions=[],t.corrects=e.defense2?JSON.parse(JSON.stringify(e.defense2.corrects)):{},t.incorrects=e.defense2?JSON.parse(JSON.stringify(e.defense2.incorrects)):{},t.waiting=!1,t.nextReady=!1,t.msg={},t.isReading=!1,t.questionsToAnswer=3,t.redirect=!1,t.newRound=!1,t.dbRefStage={},t.tourRef=i.a.createRef(),t.onAnswer=t.onAnswer.bind(ct(t)),t.setTargetMode=t.setTargetMode.bind(ct(t)),t.previewTower=t.previewTower.bind(ct(t)),t.stopPreview=t.stopPreview.bind(ct(t)),t.startPlacing=t.startPlacing.bind(ct(t)),t.buyTower=t.buyTower.bind(ct(t)),t.upgradeTower=t.upgradeTower.bind(ct(t)),t.sellTower=t.sellTower.bind(ct(t)),t.unlockTower=t.unlockTower.bind(ct(t)),t.showUnlockableTowers=t.showUnlockableTowers.bind(ct(t)),t.nextWave=t.nextWave.bind(ct(t)),t.changeSpeed=t.changeSpeed.bind(ct(t)),t.randomQ=t.randomQ.bind(ct(t)),t.answerNext=t.answerNext.bind(ct(t)),t.checkResize=t.checkResize.bind(ct(t)),t.endNow=t.endNow.bind(ct(t)),t.readQuestion=t.readQuestion.bind(ct(t)),t}return t=c,(s=[{key:"componentDidMount",value:(r=at(Ke().mark((function e(){var t=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if(e.sent||this.setState({notLoggedIn:!0}),this.props.defense2&&"defense"===this.props.defense2.stage&&this.props.defense2.questions&&this.props.defense2.questions[0]){e.next=7;break}return window.location.href="".concat(Fe.a.play,"/play"),e.abrupt("return");case 7:_.difficulty=this.props.defense2.difficulty,this.setState({coins:this.props.defense2.coins||0,health:this.props.defense2.health||1,round:this.props.defense2.round||1,askTour:1===this.props.defense2.round,unlockedTowers:this.props.defense2.unlockedTowers||[],hwGoal:this.props.defense2.hwGoal&&(this.props.defense2.round||1)<this.props.defense2.hwGoal?this.props.defense2.hwGoal:0},(function(){"nightmare"===_.difficulty&&[1,5,10,15,20,25].includes(t.props.defense2.round||1)&&t.showUnlockableTowers()})),_.wave=this.props.defense2.round-1;case 10:if(this.state.game.instance){e.next=15;break}return e.next=13,new Promise((function(e){return setTimeout(e,500)}));case 13:e.next=10;break;case 15:if(this.loadTimeout=setTimeout((function(){t.props.defense2.towers.forEach((function(e){t.state.game.instance.events.emit("build-saved-tower",e)}))}),3e3),!this.props.defense2.isLive){e.next=21;break}return e.next=19,this.props.liveGameController.getDatabaseRef("stg");case 19:this.dbRefStage=e.sent,this.dbRefStage.on("value",(function(e){switch(e.val()){case"fin":t.props.liveGameController.getDatabaseVal("st",(function(e){var s=e?e.map((function(e){return{name:e.n,blook:e.b,dmg:e.d,place:e.p}})).filter((function(e){return e.dmg||0===e.dmg})):[];t.props.setDefense2(et(et({},t.props.defense2),{},{corrects:t.corrects,incorrects:t.incorrects,dmg:t.dmg,round:t.state.round,stage:"final"})),t.props.setStanding(s),t.props.history.push("/play/defense2/final")}));break;case null:t.props.liveGameController.getDatabaseVal("stg",(function(e){e||(t.props.deleteClient(),t.props.setDefense2(null),window.location.href="".concat(Fe.a.play,"/play"))}))}}));case 21:this.state.game.instance.events.on("change-coins",(function(e){t.setState({coins:t.state.coins+e})})),this.state.game.instance.events.on("select-tower",(function(e){t.setState({selectedTower:e||null,mShopOpen:!1})})),this.state.game.instance.events.on("update-buffs",(function(e){t.setState({towers:e}),t.state.showTour&&t.tourRef.current.setStep(7)})),this.state.game.instance.events.on("wave-over",(function(){if(!t.state.gameOver){t.newRound=!0;var e=t.state.round+1,s=t.state.coins+50+t.state.round;if(_.towers.getChildren().forEach((function(e){e.stats.coinsPerWave&&(s+=e.stats.coinsPerWave)})),"nightmare"===_.difficulty&&[5,10,15,20,25].includes(e)&&t.showUnlockableTowers(),!t.hasWarnedGhosts&&e<15&&ue[_.difficulty][e-1].filter((function(e){return e.ghostTypes.includes(!0)})).length>0&&(t.setState({showGhostWarning:!0}),t.hasWarnedGhosts=!0),e-1===t.state.oldHwGoal?t.setState({goalCompleted:!0}):31!==e||t.props.defense2.isLive||t.setState({victoryPopUp:!0}),t.props.defense2.defenseId){var a=Object(W.d)();He.a.put("/api/defenses2/save",{t:a,id:t.props.defense2.defenseId,corrects:t.corrects,incorrects:t.incorrects,round:e,health:t.state.health,coins:s,unlockedTowers:t.state.unlockedTowers,towers:t.state.towers.map((function(e){return{type:e.type,target:e.targetMode,level:e.level,dmg:t.state.dmgCounts[e.getGridPosText()],x:e.gridPos.x,y:e.gridPos.y}}))}).catch((function(e){console.error(e)}))}if(t.props.defense2.resultId){var i=Object(W.d)();He.a.put("/api/results",{t:i,data:{corrects:t.corrects,incorrects:t.incorrects,round:e,alive:!0}}).catch((function(e){console.error(e)}))}t.questionsToAnswer=3,t.setState({waveGoing:!1,coins:s,round:e,stage:"round-over"})}})),this.state.game.instance.events.on("take-dmg",(function(e){t.props.defense2.isLive||t.setState({health:Math.max(t.state.health-e,0)},(function(){t.state.health<=0&&!t.state.gameOver&&t.setState({gameOver:!0},(function(){t.gameOverTimeout=setTimeout(t.endNow,5e3)}))}))})),this.state.game.instance.events.on("stop-preview",(function(){t.setState({previewTower:null})})),this.dmgCountsInterval=setInterval((function(){var e=0;if(Object.values(_.dmgCounts).forEach((function(t){e+=t})),t.setState({dmgCounts:_.dmgCounts,totalDmg:e}),t.props.defense2.isLive){var s={b:t.props.client.blook,d:e};t.newRound&&(t.newRound=!1,s.r=t.state.round-1),t.props.liveGameController.setVal({path:"c/".concat(t.props.client.name),val:s})}}),5e3),this.questions=this.props.defense2.questions,this.freeQuestions=JSON.parse(JSON.stringify(this.props.defense2.questions)),this.randomQ(),this.checkResize(),window.addEventListener("resize",this.checkResize);case 33:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1,clearInterval(this.dmgCountsInterval),clearTimeout(this.waitTimeout),clearTimeout(this.loadTimeout),clearTimeout(this.gameOverTimeout),Object.keys(this.dbRefStage).length&&this.dbRefStage.off("value"),window.removeEventListener("resize",this.checkResize)}},{key:"onAnswer",value:function(e){if(!this.waiting&&this.here){this.waiting=!0,this.isReading=!1,this.msg.onend=function(){},window.speechSynthesis.cancel();var t=this.state.question.number;e?this.corrects[t]?this.corrects[t]+=1:this.corrects[t]=1:this.incorrects[t]?this.incorrects[t]+=1:this.incorrects[t]=1,this.nextReady=!0,this.setState({correct:e,stage:"feedback",readId:""})}}},{key:"setTargetMode",value:function(e){this.state.game.instance.events.emit("set-target-mode",this.state.selectedTower,e)}},{key:"previewTower",value:function(e){this.state.game.instance.events.emit("preview-tower",e),this.setState({previewTower:e,selectedTower:null,mShopOpen:!1}),this.state.showTour&&this.tourRef.current.setStep(6)}},{key:"stopPreview",value:function(){this.state.game.instance.events.emit("deselect-tower"),this.setState({mIsPlacing:!1})}},{key:"startPlacing",value:function(){this.state.game.instance.events.emit("start-placing"),this.setState({mIsPlacing:!0})}},{key:"buyTower",value:function(){this.state.game.instance.events.emit("buy-tower"),this.setState({mIsPlacing:!1})}},{key:"upgradeTower",value:function(){this.setState({coins:this.state.coins-this.state.selectedTower.getUpgradePrice()}),this.state.game.instance.events.emit("upgrade-tower",this.state.selectedTower),this.state.showTour&&this.tourRef.current.setStep(9)}},{key:"sellTower",value:function(){this.setState({coins:this.state.coins+this.state.selectedTower.getSellPrice()}),this.state.game.instance.events.emit("sell-tower",this.state.selectedTower)}},{key:"unlockTower",value:function(e){var t=JSON.parse(JSON.stringify(this.state.unlockedTowers));t.push(e),this.setState({unlockedTowers:t,unlockableTowers:[]})}},{key:"showUnlockableTowers",value:function(){for(var e=[];e.length<3;){var t=Object(W.o)(Object.keys(H));e.includes(t)||[].concat(Je(this.state.unlockedTowers),mt).includes(t)||e.push(t)}this.setState({unlockableTowers:e})}},{key:"nextWave",value:function(){this.setState({waveGoing:!0}),this.state.game.instance.events.emit("start-wave")}},{key:"changeSpeed",value:function(e){this.setState({speed:e}),this.state.game.instance.events.emit("set-speed",e)}},{key:"randomQ",value:function(){var e=this;if(this.here){clearTimeout(this.claimTimeout),0===this.freeQuestions.length&&(this.freeQuestions=JSON.parse(JSON.stringify(this.questions)));var t=Object(W.o)(this.freeQuestions);this.freeQuestions.splice(this.freeQuestions.indexOf(t),1),t.random&&(t.answers=Object(W.v)(t.answers)),this.setState({question:t,stage:"question"},(function(){e.waiting=!0,e.waitTimeout=setTimeout((function(){e.waiting=!1}),400)}))}}},{key:"answerNext",value:function(){this.nextReady&&this.here&&(this.nextReady=!1,this.state.correct&&(this.questionsToAnswer-=1),this.questionsToAnswer<=0?(this.setState({stage:""}),this.state.showTour&&this.tourRef.current.setStep(3)):this.randomQ())}},{key:"checkResize",value:function(){var e=window.innerWidth<=900,t=e===this.state.isSmall&&this.state.showTour;this.state.showTour&&!t&&this.tourRef.current.endTour(),this.setState({isSmall:e})}},{key:"endNow",value:function(){var e=this;this.here&&(this.props.setDefense2(et(et({},this.props.defense2),{},{corrects:this.corrects,incorrects:this.incorrects,towers:this.state.towers.map((function(t){return{type:t.type,target:t.targetMode,level:t.level,dmg:e.state.dmgCounts[t.getGridPosText()],x:t.gridPos.x,y:t.gridPos.y}})),health:0,round:this.state.round,coins:this.state.coins,stage:"final"})),this.props.history.push("/play/defense2/final"))}},{key:"readQuestion",value:(o=at(Ke().mark((function e(){var t,s=this;return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isReading&&window.speechSynthesis){e.next=2;break}return e.abrupt("return");case 2:return this.isReading=!0,t=function(e,t,a){var i=e;if("`*`"===e.slice(0,3)||e.includes("`~`"))return a();e.includes("`*`")&&(i=e.slice(0,e.indexOf("`*`"))),s.msg=new SpeechSynthesisUtterance(i),s.setState({readId:t}),window.speechSynthesis.speak(s.msg),s.msg.onend=function(){s.setState({readId:""}),a()}},e.next=6,new Promise((function(e){return t(s.state.question.question,"qText",e)}));case 6:return e.next=8,new Promise((function(e){return t(s.state.question.answers[0],"q1",e)}));case 8:return e.next=10,new Promise((function(e){return t(s.state.question.answers[1],"q2",e)}));case 10:if(!this.state.question.answers[2]){e.next=13;break}return e.next=13,new Promise((function(e){return t(s.state.question.answers[2],"q3",e)}));case 13:if(!this.state.question.answers[3]){e.next=16;break}return e.next=16,new Promise((function(e){return t(s.state.question.answers[3],"q4",e)}));case 16:this.isReading=!1;case 17:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(this.props.defense2&&(this.props.defense2.hwId||this.props.defense2&&this.props.defense2.isLive)?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.defense2&&this.props.defense2.questions&&this.props.defense2.questions[0])return i.a.createElement("div",{className:l.isMobile?Me.a.mBody:Me.a.body,id:"body",style:{backgroundColor:x.a[this.props.defense2?this.props.defense2.map:"meadow"].bgColor}},i.a.createElement(Ee.a,{title:"Play Tower Defense 2 | Blooket",desc:"Answer questions to build and upgrade towers that will defend against oncoming waves of Evil Blooks."}),i.a.createElement(Oe.a,{name:this.props.client&&this.props.client.name?this.props.client.name:"",tdCoins:this.state.coins,showRead:"question"===this.state.stage,readQuestion:this.readQuestion}),i.a.createElement("div",{className:Me.a.regularBody,style:{overflow:"hidden"},id:"regularBody"},this.state.showTour?i.a.createElement(Ae.a,{steps:this.state.isSmall?qe:Le,onExit:function(){return e.setState({showTour:!1})},functions:[this.stopPreview],ref:this.tourRef}):null,i.a.createElement(h.a,{game:this.state.game}),i.a.createElement("div",{className:Pe.a.phaserHolder,id:"phaser-td"}),this.state.towers.length>0?i.a.createElement("div",{className:Pe.a.mapHolder},_.map.tiles.map((function(e,t){return i.a.createElement("div",{className:Pe.a.mapRow,key:t},e.map((function(e,s){return i.a.createElement("div",{className:Pe.a.tile,key:s,style:{width:_.tileSize,height:_.tileSize}},z(s,t)?i.a.createElement("div",{className:Pe.a.buffsRow},Object.entries(z(s,t).buffs).filter((function(e){return Xe(e,2)[1]>0})).map((function(e){var t=Xe(e,1)[0];return i.a.createElement("img",{src:"ghostDetect"===t?ht.ghost:"discount"===t?ht.coin:ht[t],alt:t,key:t,className:m()(Pe.a.buffIcon,tt({},Pe.a.buffRangeIcon,"range"===t)),draggable:!1})}))):null)})))}))):null,i.a.createElement("div",{className:Pe.a.mTopRow},i.a.createElement("div",{className:Pe.a.mRound},"Round ".concat(this.state.round)),this.state.mIsPlacing?i.a.createElement("div",{className:Pe.a.mStartButton,role:"button",tabIndex:0,onClick:this.buyTower},"Buy Now"):this.state.waveGoing?i.a.createElement("div",{className:Pe.a.mStartButton,role:"button",tabIndex:0,onClick:function(){return e.changeSpeed(1===e.state.speed?2:1)}},i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669333771/Media/defense/nextIcon.svg",alt:"Play",className:Pe.a.mPlayIcon,draggable:!1}),"x".concat(1===this.state.speed?2:1)):i.a.createElement("div",{className:Pe.a.mStartButton,id:"mNextRound",role:"button",tabIndex:0,onClick:this.state.showTour&&this.tourRef.current&&9!==this.tourRef.current.getStep()?function(){}:this.nextWave},i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669333771/Media/defense/nextIcon.svg",alt:"Play",className:Pe.a.mPlayIcon,draggable:!1}),"Start"),this.state.mIsPlacing?i.a.createElement("div",{className:Pe.a.mStopBuildingButton,role:"button",tabIndex:0,onClick:this.stopPreview},i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1672856075/Media/defense/closeButton.svg",alt:"Close",className:Pe.a.mCenterCloseImg,draggable:!1})):null),i.a.createElement("div",{className:m()(Pe.a.right,tt({},Pe.a.mRightIn,this.state.mShopOpen)),id:"right"},i.a.createElement("div",{className:Pe.a.borderRight}),i.a.createElement("div",{className:Pe.a.texture}),i.a.createElement("div",{className:Pe.a.texture2}),i.a.createElement("div",{className:Pe.a.rightInside},this.props.defense2.isLive?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Pe.a.healthRow},i.a.createElement("div",{className:Pe.a.dmgText},Object(W.n)(this.state.totalDmg)),i.a.createElement("img",{src:ht.totalDmg,alt:"Total Damage",className:Pe.a.healthIcon,draggable:!1})),i.a.createElement("div",{className:Pe.a.roundContainer},"Round ".concat(this.state.round)),i.a.createElement("div",{className:Pe.a.mHealthRow,role:"button",tabIndex:0,onClick:this.state.mIsPlacing?function(){}:function(){return e.setState({mShopOpen:!e.state.mShopOpen})}},i.a.createElement("i",{className:m()(this.state.mShopOpen?"fas fa-chevron-down":"fas fa-chevron-up",Pe.a.mShopArrow)}),i.a.createElement("div",{className:Pe.a.mShopText},this.state.mIsPlacing?"Place Tower":"".concat(this.state.mShopOpen?"Close":"Open"," Shop")),i.a.createElement("div",{className:Pe.a.dmgText},Object(W.n)(this.state.totalDmg)),i.a.createElement("img",{src:ht.totalDmg,alt:"Total Damage",className:Pe.a.healthIcon,draggable:!1}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Pe.a.healthRow},i.a.createElement("div",{className:Pe.a.healthBar},i.a.createElement("div",{className:Pe.a.healthBarInside,style:{transform:"scaleX(".concat(this.state.health/100,")")}},i.a.createElement("div",{className:Pe.a.healthBarInsideShadow}))),i.a.createElement("div",{className:Pe.a.healthText},this.state.health),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669320494/Media/defense/healthIcon.svg",alt:"Health",className:Pe.a.healthIcon,draggable:!1})),i.a.createElement("div",{className:Pe.a.roundContainer},"Round ".concat(this.state.round)),i.a.createElement("div",{className:Pe.a.mHealthRow,role:"button",tabIndex:0,onClick:this.state.mIsPlacing?function(){}:function(){return e.setState({mShopOpen:!e.state.mShopOpen})}},i.a.createElement("i",{className:m()(this.state.mShopOpen?"fas fa-chevron-down":"fas fa-chevron-up",Pe.a.mShopArrow)}),i.a.createElement("div",{className:Pe.a.mShopText},this.state.mIsPlacing?"Place Tower":"".concat(this.state.mShopOpen?"Close":"Open"," Shop")),i.a.createElement("div",{className:Pe.a.healthText},this.state.health),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669320494/Media/defense/healthIcon.svg",alt:"Health",className:Pe.a.healthIcon,draggable:!1}))),i.a.createElement("div",{className:Pe.a.towersHolder},Object.entries(H).filter((function(t){var s=Xe(t,2),a=s[0],i=s[1];return("nightmare"!==_.difficulty||[].concat(Je(e.state.unlockedTowers),mt).includes(a))&&i.active})).map((function(t){var s=Xe(t,2),a=s[0],o=s[1];return i.a.createElement("div",{className:m()(Pe.a.towerContainer,tt({},Pe.a.isButton,e.state.coins>=o.baseStats.price)),key:a,role:"button",tabIndex:0,onClick:e.state.coins>=o.baseStats.price?function(){return e.previewTower(a)}:function(){}},i.a.createElement("div",{className:Pe.a.towerContainerTexture}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackTop.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackRight.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackBottom.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackLeft.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:b[o.baseStats.texture].url,alt:a,className:Pe.a.towerBlook,draggable:!1}),i.a.createElement("div",{className:Pe.a.towerPrice},i.a.createElement("div",{className:Pe.a.towerPriceInside},o.baseStats.price)))}))),this.state.waveGoing?i.a.createElement("div",{className:Pe.a.startButton,role:"button",tabIndex:0,onClick:function(){return e.changeSpeed(1===e.state.speed?2:1)}},i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669333771/Media/defense/nextIcon.svg",alt:"Play",className:Pe.a.playIcon,draggable:!1}),"x".concat(1===this.state.speed?2:1)):i.a.createElement("div",{className:Pe.a.startButton,role:"button",tabIndex:0,onClick:this.state.showTour&&this.tourRef.current&&9!==this.tourRef.current.getStep()?function(){}:this.nextWave,id:"nextRound"},i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669333771/Media/defense/nextIcon.svg",alt:"Play",className:Pe.a.playIcon,draggable:!1}),"Start"))),i.a.createElement("div",{className:m()(Me.a.modal,Pe.a.mModal,tt({},Pe.a.mModalIn,(this.state.selectedTower||this.state.previewTower)&&!this.state.mIsPlacing))},i.a.createElement("div",{className:Pe.a.mCenter,style:{height:this.state.selectedTower?4===this.state.selectedTower.level?220:360:null}},i.a.createElement("div",{className:Pe.a.mCenterBorderLeft}),i.a.createElement("div",{className:Pe.a.mCenterBorderRight}),i.a.createElement("div",{className:Pe.a.mCenterTopBottom}),i.a.createElement("div",{className:Pe.a.mCenterTexture}),i.a.createElement("div",{className:Pe.a.mCenterTexture2}),this.state.selectedTower?i.a.createElement("div",{className:Pe.a.leftInside},i.a.createElement("div",{className:Pe.a.mCenterTop},i.a.createElement("img",{src:b[this.state.selectedTower.stats.texture].url,alt:this.state.selectedTower.type,className:Pe.a.mLeftBlook}),i.a.createElement("div",null,i.a.createElement("div",{className:Pe.a.mCenterName},H[this.state.selectedTower.type].title),i.a.createElement("div",{className:Pe.a.mLevel},4===this.state.selectedTower.level?"Max Level":"Level ".concat(this.state.selectedTower.level+1)))),i.a.createElement("div",{className:Pe.a.mCenterStats},this.state.selectedTower.stats.coinsPerWave?i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.mStatIcon,draggable:!1}),"Coins Per Wave: ".concat(this.state.selectedTower.stats.coinsPerWave)):this.state.selectedTower.stats.auraBuffs&&void 0!==this.state.selectedTower.stats.auraBuffs.discount?i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.mStatIcon,draggable:!1}),"Discount: ".concat(100*this.state.selectedTower.stats.auraBuffs.discount,"% Buff")):i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.mStatIcon,draggable:!1}),this.state.selectedTower.stats.slowRate?"Slow: ".concat(100*this.state.selectedTower.stats.slowRate,"%"):"Damage: ".concat(this.state.selectedTower.stats.dmg)),i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.mStatIcon,draggable:!1}),this.state.selectedTower.stats.auraBuffs&&this.state.selectedTower.stats.auraBuffs.fireRate?"Reload: ".concat(100*this.state.selectedTower.stats.auraBuffs.fireRate,"% Buff"):this.state.selectedTower.stats.auraBuffs?"Reload: None":"Reload: ".concat(Number((this.state.selectedTower.getFireRate()/1e3).toFixed(3)),"s")),i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.mStatIcon,draggable:!1}),this.state.selectedTower.stats.auraBuffs&&this.state.selectedTower.stats.auraBuffs.range?"Range: ".concat(100*this.state.selectedTower.stats.auraBuffs.range,"% Buff"):"Range: ".concat(Number(this.state.selectedTower.getRange().toFixed(3)))),i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.maxTargets,alt:"Max Targets",className:Pe.a.mStatIcon,draggable:!1}),this.state.selectedTower.stats.auraBuffs?"Max Targets: None":"Max Targets: ".concat(Object(W.n)(this.state.selectedTower.stats.maxTargets))),this.state.selectedTower.stats.auraBuffs&&void 0!==this.state.selectedTower.stats.auraBuffs.ghostDetect?i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.mStatIcon,draggable:!1}),"Provides Detection"):i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.mStatIcon,draggable:!1}),this.state.selectedTower.getGhostDetect()?"Can Damage":"Cannot Damage"),this.state.selectedTower.stats.auraBuffs?null:i.a.createElement("div",{className:Pe.a.mStatRow},i.a.createElement("img",{src:ht.totalDmg,alt:"Total Damage",className:Pe.a.mStatIcon,draggable:!1}),Object(W.n)(this.state.dmgCounts[this.state.selectedTower.getGridPosText()]||0))),i.a.createElement("div",{className:Pe.a.mCenterRow},this.state.selectedTower.stats.auraBuffs?null:i.a.createElement("div",{className:Pe.a.targetButton,role:"button",tabIndex:0},i.a.createElement("img",{src:ht.target,alt:"Target",className:Pe.a.totalDmgIcon,draggable:!1}),this.state.selectedTower.targetMode,i.a.createElement("i",{className:m()("fas fa-chevron-down",Pe.a.dropdownIcon)}),i.a.createElement("div",{className:Pe.a.targetDropdown},ut.map((function(t){return i.a.createElement("div",{className:Pe.a.targetOption,role:"button",tabIndex:0,key:t,onClick:function(){return e.setTargetMode(t)}},t)})))),i.a.createElement("div",{className:Pe.a.sellButton,role:"button",tabIndex:0,onClick:this.state.showTour?function(){}:this.sellTower},i.a.createElement("img",{src:ht.coin,alt:"Coins",className:Pe.a.sellIcon,draggable:!1}),"Sell",i.a.createElement("div",{className:Pe.a.sellPrice},"(".concat(this.state.selectedTower.getSellPrice(),")")))),this.state.selectedTower.level<4?i.a.createElement("div",{className:m()(Pe.a.upgradeContainer,tt({},Pe.a.isButton,this.state.coins>=this.state.selectedTower.getUpgradePrice())),role:"button",tabIndex:0,onClick:this.state.coins>=this.state.selectedTower.getUpgradePrice()?this.upgradeTower:function(){}},i.a.createElement("div",{className:Pe.a.upgradeHeader},"Buy Upgrade",i.a.createElement("div",{className:Pe.a.upgradePrice},"(",this.state.selectedTower.getUpgradePrice(),i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.upgradeCoin}),")")),H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].coinsPerWave?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.upgradeIcon,draggable:!1}),"Coins: ".concat(this.state.selectedTower.stats.coinsPerWave," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].coinsPerWave)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].dmg?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.upgradeIcon,draggable:!1}),"Damage: ".concat(this.state.selectedTower.stats.dmg," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].dmg)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].slowRate?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.upgradeIcon,draggable:!1}),"Slow: ".concat(100*this.state.selectedTower.stats.slowRate,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].slowRate,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numBirds?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.upgradeIcon,draggable:!1}),"Birds: ".concat(this.state.selectedTower.stats.numBirds," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numBirds)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].fireRate?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.upgradeIcon,draggable:!1}),"Reload: ".concat(Number((this.state.selectedTower.getFireRate()/1e3).toFixed(3)),"s -> ").concat(Number((this.state.selectedTower.getFireRate(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].fireRate)/1e3).toFixed(3)),"s")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].range?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.upgradeIcon,draggable:!1}),"Range: ".concat(Number(this.state.selectedTower.getRange().toFixed(3))," -> ").concat(Number(this.state.selectedTower.getRange(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].range).toFixed(3)))):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].maxTargets?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.maxTargets,alt:"Max Targets",className:Pe.a.upgradeIcon,draggable:!1}),"Max Targets: ".concat(this.state.selectedTower.stats.maxTargets," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].maxTargets)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numProjectiles?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.target,alt:"Number of Projectiles",className:Pe.a.upgradeIcon,draggable:!1}),"Projectiles: ".concat(this.state.selectedTower.stats.numProjectiles," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numProjectiles)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].ghostDetect&&!this.state.selectedTower.getGhostDetect()?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.upgradeIcon,draggable:!1}),"Can Now Damage"):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs?i.a.createElement(i.a.Fragment,null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.fireRate?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.upgradeIcon,draggable:!1}),"Buff: ".concat(100*this.state.selectedTower.stats.auraBuffs.fireRate,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.fireRate,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.range?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.upgradeIcon,draggable:!1}),"Buff: ".concat(100*this.state.selectedTower.stats.auraBuffs.range,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.range,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.discount?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.upgradeIcon,draggable:!1}),"Discount: ".concat(100*this.state.selectedTower.stats.auraBuffs.discount,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.discount,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.ghostDetect?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.upgradeIcon,draggable:!1}),"Provides Detection"):null):null):null):this.state.previewTower?i.a.createElement("div",{className:Pe.a.leftInside},i.a.createElement("div",{className:Pe.a.leftInfo},i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:b[H[this.state.previewTower].baseStats.texture].url,alt:this.state.previewTower.type,className:Pe.a.leftBlook,draggable:!1}),i.a.createElement("div",{className:Pe.a.leftName},H[this.state.previewTower].title)),H[this.state.previewTower].baseStats.coinsPerWave?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.leftInfoIcon,draggable:!1}),"Coins Per Wave: ".concat(H[this.state.previewTower].baseStats.coinsPerWave)):H[this.state.previewTower].baseStats.auraBuffs&&void 0!==H[this.state.previewTower].baseStats.auraBuffs.discount?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.leftInfoIcon,draggable:!1}),"Discount: ".concat(100*H[this.state.previewTower].baseStats.auraBuffs.discount,"% Buff")):i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.slowRate?"Slow: ".concat(100*H[this.state.previewTower].baseStats.slowRate,"%"):"Damage: ".concat(H[this.state.previewTower].baseStats.dmg)),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.auraBuffs&&H[this.state.previewTower].baseStats.auraBuffs.fireRate?"Reload: ".concat(100*H[this.state.previewTower].baseStats.auraBuffs.fireRate,"% Buff"):H[this.state.previewTower].baseStats.auraBuffs?"Reload: None":"Reload: ".concat(Number((H[this.state.previewTower].baseStats.fireRate/1e3).toFixed(3)),"s")),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.auraBuffs&&H[this.state.previewTower].baseStats.auraBuffs.range?"Range: ".concat(100*H[this.state.previewTower].baseStats.auraBuffs.range,"% Buff"):"Range: ".concat(Number(H[this.state.previewTower].baseStats.range.toFixed(3)))),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.maxTargets,alt:"Max Targets",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.auraBuffs?"Max Targets: None":"Max Targets: ".concat(H[this.state.previewTower].baseStats.maxTargets)),H[this.state.previewTower].baseStats.auraBuffs&&void 0!==H[this.state.previewTower].baseStats.auraBuffs.ghostDetect?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.leftInfoIcon,draggable:!1}),"Provides Detection"):i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.ghostDetect?"Can Damage":"Cannot Damage")),i.a.createElement("div",{className:Pe.a.descContainer},H[this.state.previewTower].desc),i.a.createElement("div",{className:Pe.a.mBuyButton,role:"button",tabIndex:0,onClick:this.startPlacing},"Buy")):null,i.a.createElement("div",{className:Pe.a.mCenterCloseButton,role:"button",tabIndex:0,onClick:this.stopPreview},i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1672856075/Media/defense/closeButton.svg",alt:"Close",className:Pe.a.mCenterCloseImg,draggable:!1})))),i.a.createElement("div",{className:m()(Pe.a.left,tt({},Pe.a.leftIn,this.state.selectedTower||this.state.previewTower)),id:"left"},i.a.createElement("div",{className:Pe.a.borderLeft}),i.a.createElement("div",{className:Pe.a.texture}),i.a.createElement("div",{className:Pe.a.texture2}),this.state.selectedTower?i.a.createElement("div",{className:Pe.a.leftInside},i.a.createElement("div",{className:Pe.a.leftInfo},i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:b[this.state.selectedTower.stats.texture].url,alt:this.state.selectedTower.type,className:Pe.a.leftBlook}),i.a.createElement("div",{className:Pe.a.leftName},H[this.state.selectedTower.type].title)),this.state.selectedTower.stats.coinsPerWave?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.leftInfoIcon,draggable:!1}),"Coins Per Wave: ".concat(this.state.selectedTower.stats.coinsPerWave)):this.state.selectedTower.stats.auraBuffs&&void 0!==this.state.selectedTower.stats.auraBuffs.discount?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.leftInfoIcon,draggable:!1}),"Discount: ".concat(100*this.state.selectedTower.stats.auraBuffs.discount,"% Buff")):i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.leftInfoIcon,draggable:!1}),this.state.selectedTower.stats.slowRate?"Slow: ".concat(100*this.state.selectedTower.stats.slowRate,"%"):"Damage: ".concat(this.state.selectedTower.stats.dmg)),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.leftInfoIcon,draggable:!1}),this.state.selectedTower.stats.auraBuffs&&this.state.selectedTower.stats.auraBuffs.fireRate?"Reload: ".concat(100*this.state.selectedTower.stats.auraBuffs.fireRate,"% Buff"):this.state.selectedTower.stats.auraBuffs?"Reload: None":"Reload: ".concat(Number((this.state.selectedTower.getFireRate()/1e3).toFixed(3)),"s")),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.leftInfoIcon,draggable:!1}),this.state.selectedTower.stats.auraBuffs&&this.state.selectedTower.stats.auraBuffs.range?"Range: ".concat(100*this.state.selectedTower.stats.auraBuffs.range,"% Buff"):"Range: ".concat(Number(this.state.selectedTower.getRange().toFixed(3)))),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.maxTargets,alt:"Max Targets",className:Pe.a.leftInfoIcon,draggable:!1}),this.state.selectedTower.stats.auraBuffs?"Max Targets: None":"Max Targets: ".concat(Object(W.n)(this.state.selectedTower.stats.maxTargets))),this.state.selectedTower.stats.auraBuffs&&void 0!==this.state.selectedTower.stats.auraBuffs.ghostDetect?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.leftInfoIcon,draggable:!1}),"Provides Detection"):i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.leftInfoIcon,draggable:!1}),this.state.selectedTower.getGhostDetect()?"Can Damage":"Cannot Damage")),this.state.selectedTower.stats.auraBuffs?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Pe.a.dmgCounter},i.a.createElement("img",{src:ht.totalDmg,alt:"Total Damage",className:Pe.a.totalDmgIcon,draggable:!1}),Object(W.n)(this.state.dmgCounts[this.state.selectedTower.getGridPosText()]||0)),i.a.createElement("div",{className:Pe.a.targetButton,role:"button",tabIndex:0},i.a.createElement("img",{src:ht.target,alt:"Target",className:Pe.a.totalDmgIcon,draggable:!1}),this.state.selectedTower.targetMode,i.a.createElement("i",{className:m()("fas fa-chevron-down",Pe.a.dropdownIcon)}),i.a.createElement("div",{className:Pe.a.targetDropdown},ut.map((function(t){return i.a.createElement("div",{className:Pe.a.targetOption,role:"button",tabIndex:0,key:t,onClick:function(){return e.setTargetMode(t)}},t)}))))),i.a.createElement("div",{className:Pe.a.sellButton,role:"button",tabIndex:0,onClick:this.state.showTour?function(){}:this.sellTower},i.a.createElement("img",{src:ht.coin,alt:"Coins",className:Pe.a.sellIcon,draggable:!1}),"Sell",i.a.createElement("div",{className:Pe.a.sellPrice},"(".concat(this.state.selectedTower.getSellPrice(),")"))),i.a.createElement("div",{className:Pe.a.levelContainer},4===this.state.selectedTower.level?"Max Level":"Level ".concat(this.state.selectedTower.level+1)),this.state.selectedTower.level<4?i.a.createElement("div",{className:m()(Pe.a.upgradeContainer,tt({},Pe.a.isButton,this.state.coins>=this.state.selectedTower.getUpgradePrice())),role:"button",tabIndex:0,onClick:this.state.coins>=this.state.selectedTower.getUpgradePrice()?this.upgradeTower:function(){}},i.a.createElement("div",{className:Pe.a.upgradeHeader},"Buy Upgrade",i.a.createElement("div",{className:Pe.a.upgradePrice},"(",this.state.selectedTower.getUpgradePrice(),i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.upgradeCoin}),")")),H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].coinsPerWave?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.upgradeIcon,draggable:!1}),"Coins: ".concat(this.state.selectedTower.stats.coinsPerWave," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].coinsPerWave)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].dmg?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.upgradeIcon,draggable:!1}),"Damage: ".concat(this.state.selectedTower.stats.dmg," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].dmg)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].slowRate?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.upgradeIcon,draggable:!1}),"Slow: ".concat(100*this.state.selectedTower.stats.slowRate,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].slowRate,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numBirds?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.upgradeIcon,draggable:!1}),"Birds: ".concat(this.state.selectedTower.stats.numBirds," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numBirds)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].fireRate?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.upgradeIcon,draggable:!1}),"Reload: ".concat(Number((this.state.selectedTower.getFireRate()/1e3).toFixed(3)),"s -> ").concat(Number((this.state.selectedTower.getFireRate(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].fireRate)/1e3).toFixed(3)),"s")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].range?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.upgradeIcon,draggable:!1}),"Range: ".concat(Number(this.state.selectedTower.getRange().toFixed(3))," -> ").concat(Number(this.state.selectedTower.getRange(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].range).toFixed(3)))):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].maxTargets?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.maxTargets,alt:"Max Targets",className:Pe.a.upgradeIcon,draggable:!1}),"Max Targets: ".concat(this.state.selectedTower.stats.maxTargets," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].maxTargets)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numProjectiles?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.target,alt:"Number of Projectiles",className:Pe.a.upgradeIcon,draggable:!1}),"Projectiles: ".concat(this.state.selectedTower.stats.numProjectiles," -> ").concat(H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].numProjectiles)):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].ghostDetect&&!this.state.selectedTower.getGhostDetect()?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.upgradeIcon,draggable:!1}),"Can Now Damage"):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs?i.a.createElement(i.a.Fragment,null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.fireRate?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.upgradeIcon,draggable:!1}),"Buff: ".concat(100*this.state.selectedTower.stats.auraBuffs.fireRate,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.fireRate,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.range?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.upgradeIcon,draggable:!1}),"Buff: ".concat(100*this.state.selectedTower.stats.auraBuffs.range,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.range,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.discount?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.upgradeIcon,draggable:!1}),"Discount: ".concat(100*this.state.selectedTower.stats.auraBuffs.discount,"% -> ").concat(100*H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.discount,"%")):null,H[this.state.selectedTower.type].upgrades[this.state.selectedTower.level].auraBuffs.ghostDetect?i.a.createElement("div",{className:Pe.a.upgradeRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.upgradeIcon,draggable:!1}),"Provides Detection"):null):null):null):this.state.previewTower?i.a.createElement("div",{className:Pe.a.leftInside},i.a.createElement("div",{className:Pe.a.leftInfo},i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:b[H[this.state.previewTower].baseStats.texture].url,alt:this.state.previewTower.type,className:Pe.a.leftBlook,draggable:!1}),i.a.createElement("div",{className:Pe.a.leftName},H[this.state.previewTower].title)),H[this.state.previewTower].baseStats.coinsPerWave?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.leftInfoIcon,draggable:!1}),"Coins Per Wave: ".concat(H[this.state.previewTower].baseStats.coinsPerWave)):H[this.state.previewTower].baseStats.auraBuffs&&void 0!==H[this.state.previewTower].baseStats.auraBuffs.discount?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.coin,alt:"Coin",className:Pe.a.leftInfoIcon,draggable:!1}),"Discount: ".concat(100*H[this.state.previewTower].baseStats.auraBuffs.discount,"% Buff")):i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.dmg,alt:"Damage",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.slowRate?"Slow: ".concat(100*H[this.state.previewTower].baseStats.slowRate,"%"):"Damage: ".concat(H[this.state.previewTower].baseStats.dmg)),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.fireRate,alt:"Reload Time",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.auraBuffs&&H[this.state.previewTower].baseStats.auraBuffs.fireRate?"Reload: ".concat(100*H[this.state.previewTower].baseStats.auraBuffs.fireRate,"% Buff"):H[this.state.previewTower].baseStats.auraBuffs?"Reload: None":"Reload: ".concat(Number((H[this.state.previewTower].baseStats.fireRate/1e3).toFixed(3)),"s")),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.range,alt:"Range",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.auraBuffs&&H[this.state.previewTower].baseStats.auraBuffs.range?"Range: ".concat(100*H[this.state.previewTower].baseStats.auraBuffs.range,"% Buff"):"Range: ".concat(Number(H[this.state.previewTower].baseStats.range.toFixed(3)))),i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.maxTargets,alt:"Max Targets",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.auraBuffs?"Max Targets: None":"Max Targets: ".concat(H[this.state.previewTower].baseStats.maxTargets)),H[this.state.previewTower].baseStats.auraBuffs&&void 0!==H[this.state.previewTower].baseStats.auraBuffs.ghostDetect?i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.leftInfoIcon,draggable:!1}),"Provides Detection"):i.a.createElement("div",{className:Pe.a.leftInfoRow},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.leftInfoIcon,draggable:!1}),H[this.state.previewTower].baseStats.ghostDetect?"Can Damage":"Cannot Damage")),i.a.createElement("div",{className:Pe.a.descContainer},H[this.state.previewTower].desc)):null)),this.state.gameOver?i.a.createElement("div",{className:m()(Me.a.modal,Pe.a.modalFadeIn)},i.a.createElement("div",{className:Pe.a.gameOverContainer},i.a.createElement("div",{className:Pe.a.gameOverText},"Game Over"),i.a.createElement("div",{className:Pe.a.gameOverTextSmall},"You ran out of health"))):this.state.askTour?i.a.createElement(Be.a,{text:"Would you like a quick tutorial?",buttonOne:{text:"Yes",click:function(){return e.setState({showTour:!0,askTour:!1})},color:"blue"},buttonTwo:{text:"No",click:function(){return e.setState({showTour:!1,askTour:!1})},color:"blue"}}):this.state.victoryPopUp?i.a.createElement(Be.a,{text:"You've beaten all 30 rounds! Would you like to stop now or keep going?",buttonOne:{text:"Stop Now",click:this.endNow,color:"blue"},buttonTwo:{text:"Keep Going",click:function(){return e.setState({victoryPopUp:!1})},color:"blue"}}):this.state.hwGoal&&!this.state.showTour?i.a.createElement(Be.a,{text:"Your goal for this homework is to survive for ".concat(this.state.hwGoal," ").concat(1===this.state.hwGoal?"Round":"Rounds","!"),buttonOne:{text:"Cool",click:function(){return e.setState({hwGoal:0,oldHwGoal:e.state.hwGoal})},color:"blue"}}):this.state.goalCompleted?i.a.createElement(Be.a,{text:"You completed the goal for this homework! You can now end the game or keep playing (your teacher will see the extra effort)!",buttonOne:{text:"Keep Playing",click:function(){return e.setState({goalCompleted:!1})},color:"blue"},buttonTwo:{text:"End Now",click:this.endNow,color:"blue"}}):"question"===this.state.stage?i.a.createElement(Ge.a,{onAnswer:this.onAnswer,question:this.state.question,readId:this.state.readId}):"feedback"===this.state.stage?i.a.createElement("div",{className:Pe.a.feedbackContainer},i.a.createElement(ze.a,{incorrectTime:3,question:this.state.question,correct:this.state.correct,onNext:this.answerNext})):"round-over"===this.state.stage?i.a.createElement("div",{className:Me.a.modal},i.a.createElement("div",{className:Pe.a.unlockableTowerCenter},i.a.createElement("div",{className:Pe.a.mCenterBorderLeft}),i.a.createElement("div",{className:Pe.a.mCenterBorderRight}),i.a.createElement("div",{className:Pe.a.mCenterTopBottom}),i.a.createElement("div",{className:Pe.a.mCenterTexture}),i.a.createElement("div",{className:Pe.a.mCenterTexture2}),i.a.createElement("div",{className:Pe.a.unlockableTowerContent},i.a.createElement("div",{className:Pe.a.nextRoundText},"Round ".concat(this.state.round-1," Complete!")),i.a.createElement("div",{className:Pe.a.nextRoundButton,role:"button",tabIndex:0,onClick:this.randomQ},"Next Round")))):this.state.unlockableTowers.length>0?i.a.createElement("div",{className:Me.a.modal},i.a.createElement("div",{className:Pe.a.unlockableTowerCenter},i.a.createElement("div",{className:Pe.a.mCenterBorderLeft}),i.a.createElement("div",{className:Pe.a.mCenterBorderRight}),i.a.createElement("div",{className:Pe.a.mCenterTopBottom}),i.a.createElement("div",{className:Pe.a.mCenterTexture}),i.a.createElement("div",{className:Pe.a.mCenterTexture2}),i.a.createElement("div",{className:Pe.a.unlockableTowerContent},i.a.createElement("div",{className:Pe.a.unlockText},"Choose a Tower",i.a.createElement("br",null),"to Unlock:"),i.a.createElement("div",{className:Pe.a.unlockableTowersRow},this.state.unlockableTowers.map((function(t){return i.a.createElement("div",{className:m()(Pe.a.towerContainer,Pe.a.isButton),key:t,role:"button",tabIndex:0,onClick:function(){return e.unlockTower(t)}},i.a.createElement("div",{className:Pe.a.towerContainerTexture}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackTop.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackRight.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackBottom.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1670461093/Media/defense/blookBoxCrackLeft.svg",alt:"Crack",className:Pe.a.towerContainerCrack,draggable:!1}),i.a.createElement("img",{src:b[H[t].baseStats.texture].url,alt:t,className:Pe.a.towerBlook,draggable:!1}),i.a.createElement("div",{className:Pe.a.towerPrice},i.a.createElement("div",{className:Pe.a.towerPriceInside},H[t].baseStats.price)))})))))):this.state.showGhostWarning?i.a.createElement(Be.a,{content:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Pe.a.ghostWarningText},"WARNING: The next wave will have Ghost enemies. Make sure you have a tower that can damage them:"),i.a.createElement("div",{className:Pe.a.ghostWarningContainer},i.a.createElement("img",{src:ht.ghost,alt:"Ghost Detection",className:Pe.a.ghostWarningIcon,draggable:!1}),"Can Damage")),buttonOne:{text:"Cool",click:function(){return e.setState({showGhostWarning:!1})},color:"blue"}}):null);window.location.href="".concat(Fe.a.id,"/login")}}])&&it(t.prototype,s),a&&it(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.a.Component);pt.propTypes={client:d.a.object,defense2:d.a.object,history:d.a.object.isRequired,liveGameController:d.a.object,deleteClient:d.a.func.isRequired,setStanding:d.a.func.isRequired,setDefense2:d.a.func.isRequired,user:d.a.object};t.a=Object(Ue.c)(Object(n.f)(Object(r.b)((function(e){return{client:e.clients.client,defense2:e.clients.client?e.clients.client.defense2:null}}),(function(e){return Object(o.b)({deleteClient:Ie.a,setStanding:Se.b,setDefense2:Re.a},e)}))(Object(De.d)(pt))))}}]);