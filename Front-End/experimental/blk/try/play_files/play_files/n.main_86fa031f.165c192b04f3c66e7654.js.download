(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/+s7":function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".tourSteps__centered___3uhxe-camelCase{top:50%;left:50%;transform:translate(-50%,-50%)}.tourSteps__card1___3KwCn-camelCase{left:calc(50% - 15vw)}.tourSteps__card1___3KwCn-camelCase,.tourSteps__card2___11s6f-camelCase{top:60%;transform:translateY(-50%)}.tourSteps__card2___11s6f-camelCase{left:calc(50% + 15vw)}@media only screen and (max-width:800px){.tourSteps__card1___3KwCn-camelCase,.tourSteps__card2___11s6f-camelCase{left:50%;top:calc(50% + 23vw);transform:translateX(-50%)}}",""]),t.locals={centered:"tourSteps__centered___3uhxe-camelCase",card1:"tourSteps__card1___3KwCn-camelCase",card2:"tourSteps__card2___11s6f-camelCase"}},"/DjJ":function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".styles__welcomeText___1i2Bw-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:7vw;position:absolute;width:80%;top:50%;left:10%;transform:translateY(-50%);text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;animation:styles__fadeIn___3oVMI-camelCase .3s}.styles__lifeContainer___fTvKq-camelCase{position:absolute;top:0;left:0;height:15vw;width:15vw;transform:scale(.6)}.styles__deckButton___ESWlf-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;top:1vw;right:1vw;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__deckButton___ESWlf-camelCase:hover{transform:scale(1.05)}.styles__deckIcon___E5ZTN-camelCase{font-size:27px;margin-right:10px}.styles__deckIcon___E5ZTN-camelCase,.styles__deckText___21WeM-camelCase{text-shadow:2px 2px 8px grey}.styles__deckText___21WeM-camelCase{font-family:Nunito,sans-serif;font-weight:700;font-size:30px}.styles__deckContainer___SF9Tx-camelCase{position:absolute;top:0;left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;background-color:rgba(0,0,0,.8);z-index:3;display:flex;flex-flow:row wrap}.styles__cardContainer___2kcZn-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw}.styles__closeIcon___1-CoQ-camelCase{font-size:30px;text-shadow:2px 2px 8px grey;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;top:1vw;right:1vw;color:#fff;transition:.3s}.styles__closeIcon___1-CoQ-camelCase:focus,.styles__closeIcon___1-CoQ-camelCase:hover{transform:scale(1.05)}.styles__chooseText___2V1Yo-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:6vw;bottom:70%;text-align:center;animation:styles__fadeIn___3oVMI-camelCase .3s}.styles__chooseText___2V1Yo-camelCase,.styles__restButtonContainer___29dDc-camelCase{position:absolute;width:80%;left:10%}.styles__restButtonContainer___29dDc-camelCase{flex-flow:row wrap;top:40%;opacity:0;animation:styles__fadeIn___3oVMI-camelCase .3s linear .2s forwards}.styles__restButton___2YVaS-camelCase,.styles__restButtonContainer___29dDc-camelCase{display:flex;align-items:center;justify-content:center}.styles__restButton___2YVaS-camelCase{width:17.5vw;height:17.5vw;margin:2vw 4vw;border-radius:6px;box-shadow:0 0 8px 3px rgba(0,0,0,.2);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;flex-direction:column;font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;font-weight:700;font-size:3vw;transition:.2s}.styles__restButton___2YVaS-camelCase:hover{transform:scale(1.03)}.styles__buttonIcon___20ndZ-camelCase{font-size:6vw;margin-bottom:.75vw}.styles__upgradeDeckContainer___3PU7i-camelCase{position:absolute;top:calc(10% + 3vw);left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;z-index:3;display:flex;flex-flow:row wrap}.styles__upgradeCardContainer___17M8S-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;transition:.2s}.styles__upgradeCardContainer___17M8S-camelCase:hover{transform:scale(.75)}.styles__upgradeText___1a8br-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:5vw;position:absolute;width:80%;top:5%;left:10%;text-align:center;animation:styles__fadeIn___3oVMI-camelCase .3s}.styles__lifeHealContainer___i6qZ2-camelCase{position:absolute;top:0;left:0;height:15vw;width:15vw;transform:scale(1.5);top:calc(60% - 7.5vw);left:calc(50% - 7.5vw)}.styles__cardReveal___136vo-camelCase{width:25vw;height:32.5vw;position:absolute;top:calc(50% - 12vw);left:calc(50% - 12.5vw);animation:styles__spinReveal___2N2Cc-camelCase 4s ease-in-out .5s}@keyframes styles__spinReveal___2N2Cc-camelCase{0%{transform:rotateY(0deg)}to{transform:rotateY(10turn)}}@keyframes styles__fadeIn___3oVMI-camelCase{0%{opacity:0}to{opacity:1}}@media only screen and (max-width:600px){.styles__welcomeText___1i2Bw-camelCase{font-size:12vw}.styles__lifeContainer___fTvKq-camelCase{top:3vw;left:3vw;transform:scale(1.1)}.styles__deckButton___ESWlf-camelCase{right:0}.styles__deckButton___ESWlf-camelCase,.styles__deckButton___ESWlf-camelCase:hover{transform:scale(.8)}.styles__cardContainer___2kcZn-camelCase{transform:scale(1.1);margin:2.5vw 2vw}.styles__closeIcon___1-CoQ-camelCase{top:2vw;right:2vw}.styles__chooseText___2V1Yo-camelCase{font-size:54px;bottom:60%}.styles__restButton___2YVaS-camelCase{margin:auto}.styles__restButton___2YVaS-camelCase,.styles__restButton___2YVaS-camelCase:hover{transform:scale(1.5)}.styles__restButtonContainer___29dDc-camelCase{top:55%;left:5%;width:90%}.styles__upgradeText___1a8br-camelCase{font-size:9.25vw;top:6.5%}.styles__upgradeDeckContainer___3PU7i-camelCase{top:17.5%;align-content:flex-start;min-height:75%;width:95%;padding:5% 2.5%}.styles__upgradeCardContainer___17M8S-camelCase{width:25vw;height:32.5vw;transform:scale(.95);margin:2vw 3vw}.styles__upgradeCardContainer___17M8S-camelCase:hover{transform:scale(.95)}.styles__lifeHealContainer___i6qZ2-camelCase{transform:scale(2.5)}.styles__cardReveal___136vo-camelCase{transform:scale(1.5);animation:styles__spinReveal___2N2Cc-camelCase 4s ease-in-out .5s}@keyframes styles__spinReveal___2N2Cc-camelCase{0%{transform:scale(1.5) rotateY(0deg)}to{transform:scale(1.5) rotateY(10turn)}}}",""]),t.locals={welcomeText:"styles__welcomeText___1i2Bw-camelCase",fadeIn:"styles__fadeIn___3oVMI-camelCase",lifeContainer:"styles__lifeContainer___fTvKq-camelCase",deckButton:"styles__deckButton___ESWlf-camelCase",deckIcon:"styles__deckIcon___E5ZTN-camelCase",deckText:"styles__deckText___21WeM-camelCase",deckContainer:"styles__deckContainer___SF9Tx-camelCase",cardContainer:"styles__cardContainer___2kcZn-camelCase",closeIcon:"styles__closeIcon___1-CoQ-camelCase",chooseText:"styles__chooseText___2V1Yo-camelCase",restButtonContainer:"styles__restButtonContainer___29dDc-camelCase",restButton:"styles__restButton___2YVaS-camelCase",buttonIcon:"styles__buttonIcon___20ndZ-camelCase",upgradeDeckContainer:"styles__upgradeDeckContainer___3PU7i-camelCase",upgradeCardContainer:"styles__upgradeCardContainer___17M8S-camelCase",upgradeText:"styles__upgradeText___1a8br-camelCase",lifeHealContainer:"styles__lifeHealContainer___i6qZ2-camelCase",cardReveal:"styles__cardReveal___136vo-camelCase",spinReveal:"styles__spinReveal___2N2Cc-camelCase"}},Ad39:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("ANjH"),i=r("/MKj"),s=r("17x9"),c=r.n(s),u=r("55Ip"),l=r("H1WH"),f=r("TSYQ"),h=r.n(f),p=r("oPOS"),d=r("ZTK6"),m=r("qIdB"),y=r.n(m),v=r("Xst1"),_=r.n(v),w=r("Rnav"),g=r("XTAU"),b=r("E8Bj"),x=r("gvfT"),C=r("74sb"),k=r("pMTK"),T={Common:[10,26],Uncommon:[30,56],Rare:[50,76],Epic:[75,101],Legendary:[100,126]},E=function(){var e=Object(x.d)("boss",6),t=[];return e.forEach((function(e){var r=e.blook?T[Object(k.a)(e.blook)]:T[x.a[e].rarity];t.push({card:e,price:Object(C.q)(r[0],r[1])})})),t},S=r("Truy"),O=r("lWrb"),j=r("ca/f"),N=r("t3SV"),L=r("28sW");function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),s=new T(o||[]);return n(i,"_invoke",{value:b(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(E([])));v&&v!==t&&r.call(v,a)&&(m=v);var _=d.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==I(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=x(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function R(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===I(a)?a:String(a)),n)}var o,a}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Q(e);if(t){var o=Q(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return M(this,r)}}function M(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(c,e);var t,r,n,a,i,s=G(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={cards:[],artifacts:[],shopItems:[],coins:0,noBuy:!1,showDeck:!1,phase:"",buyCard:{},buyPrice:0,shopMultiplier:1},t.ready=!1,t.removeReady=!1,t.onBuy=t.onBuy.bind(z(t)),t.leave=t.leave.bind(z(t)),t.selectCard=t.selectCard.bind(z(t)),t}return t=c,(r=[{key:"componentDidMount",value:(a=P().mark((function e(){var t,r=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"shop"===this.props.tower.stage){e.next=3;break}return window.location.href="".concat(L.a.id,"/login"),e.abrupt("return");case 3:return e.next=5,this.props.user.getData();case 5:e.sent||this.setState({notLoggedIn:!0}),t=1,this.props.tower.artifacts.forEach((function(e){"Coupon"===e&&(t-=.1)})),this.setState({shopItems:E(),cards:JSON.parse(JSON.stringify(this.props.tower.cards)),artifacts:R(this.props.tower.artifacts),coins:this.props.tower.coins,shopMultiplier:t,phase:"shop"},(function(){r.waitTimeout=setTimeout((function(){r.ready=!0}),1e3)}));case 10:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=a.apply(e,t);function i(e){q(o,r,n,i,s,"next",e)}function s(e){q(o,r,n,i,s,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.waitTimeout),clearTimeout(this.removeTimeout)}},{key:"onBuy",value:function(e,t,r){var n=this;if(this.ready){if(this.ready=!1,t>this.state.coins)return this.setState({noBuy:!0}),void(this.ready=!0);if("card"===e){var o=R(this.state.shopItems),a=o.map((function(e){return e.card})).indexOf(r);if(-1===a)return void(this.ready=!0);o.splice(a,1);var i=R(this.state.cards),s=R(this.state.artifacts);r.blook?(i.push(r),this.props.setTowerCards(i)):(s.push(r),this.props.setTowerArtifacts(s));var c=1;s.forEach((function(e){"Coupon"===e&&(c-=.1)}));var u=this.state.coins-t;"Elder Coins"!==r||this.state.artifacts.includes("Anubis' Obelisk")||(u+=100),this.props.setTowerCoins(u),this.setState({shopItems:o,cards:i,artifacts:s,coins:u,buyCard:{},buyPrice:0,shopMultiplier:c},(function(){n.ready=!0}))}else this.ready=!0,this.removeReady=!1,this.setState({phase:"removeSelect"},(function(){n.removeTimeout=setTimeout((function(){n.removeReady=!0}),1e3)}))}}},{key:"leave",value:function(){var e=this,t=this.props.tower.life;if(this.state.artifacts.forEach((function(e){"Cheese"===e&&(t=Math.min(100,t+5))})),t!==this.props.tower.life&&this.props.setTowerLife(t),this.props.tower.towerId){var r=Object(C.d)();N.a.put("/api/towers/save",{t:r,id:this.props.tower.towerId,stage:"map",cards:this.state.cards,artifacts:this.state.artifacts,coins:this.state.coins,life:t}).then((function(){e.props.setTowerStage("map"),e.props.history.push("/tower/map")})).catch((function(e){p.b.logError(e)}))}else this.props.setTowerStage("map"),this.props.history.push("/tower/map")}},{key:"selectCard",value:function(e){var t=this;if(this.removeReady){var r=R(this.state.cards),n=R(this.state.artifacts);r.includes(e)?(r.splice(r.indexOf(e),1),this.props.setTowerCards(r)):n.includes(e)&&(n.splice(n.indexOf(e),1),this.props.setTowerArtifacts(n));var o=Math.round(50*this.state.shopMultiplier);this.props.setTowerCoins(this.props.tower.coins-o);var a=1;n.forEach((function(e){"Coupon"===e&&(a-=.1)})),this.setState({phase:"removeReveal",card:e},(function(){t.removeTimeout=setTimeout((function(){t.setState({phase:"shop",cards:r,artifacts:n,coins:t.state.coins-o,shopMultiplier:a},(function(){t.waitTimeout=setTimeout((function(){t.ready=!0}),1e3)}))}),5e3)}))}}},{key:"render",value:function(){var e=this;if(this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.tower)return o.a.createElement("div",{className:l.isMobile?_.a.mBody:_.a.body,style:{backgroundColor:"#292929"}},o.a.createElement(g.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),o.a.createElement(w.a,{coins:this.state.coins}),"shop"===this.state.phase?o.a.createElement("div",{className:_.a.regularBody,style:{display:"flex",flexDirection:"column"}},o.a.createElement("div",{className:y.a.lifeContainer},o.a.createElement(S.a,{currentLife:this.props.tower.life,maxLife:100})),o.a.createElement("div",{className:y.a.deckButton,role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!0})}},o.a.createElement("i",{className:h()("fas fa-layer-group",y.a.deckIcon)}),o.a.createElement("div",{className:y.a.deckText},"View Deck")),o.a.createElement("div",{className:y.a.leaveButton,role:"button",tabIndex:0,onClick:this.leave},o.a.createElement("i",{className:h()("fas fa-door-open",y.a.deckIcon)}),o.a.createElement("div",{className:y.a.deckText},"Leave Shop")),o.a.createElement("div",{className:y.a.shopContainer},this.state.cards.length>1?o.a.createElement("div",{className:y.a.removeButton,role:"button",tabIndex:0,onClick:function(){return e.onBuy("remove",Math.round(50*e.state.shopMultiplier))}},o.a.createElement("div",{className:y.a.removeButtonText},"Remove",o.a.createElement("br",null),"a Card"),o.a.createElement("i",{className:h()("fas fa-trash-alt",y.a.removeIcon)}),o.a.createElement("div",{className:y.a.removeCost},Math.round(50*this.state.shopMultiplier),o.a.createElement("i",{className:h()("fas fa-coins",y.a.removeCostIcon)}))):null,o.a.createElement("div",{className:y.a.cardsHolder},this.state.shopItems.map((function(t,r){return o.a.createElement("div",{className:y.a.shopCardContainer,key:r,role:"button",tabIndex:0,onClick:function(){return Math.round(t.price*e.state.shopMultiplier)>e.state.coins?e.setState({noBuy:!0}):e.setState({buyCard:t.card,buyPrice:Math.round(t.price*e.state.shopMultiplier)})}},o.a.createElement(O.a,{card:t.card,flipped:!1,isArtifact:!t.card.blook}),o.a.createElement("div",{className:y.a.priceText},Math.round(t.price*e.state.shopMultiplier),o.a.createElement("i",{className:h()("fas fa-coins",y.a.priceIcon)})))})))),this.state.showDeck?o.a.createElement("div",{className:y.a.deckContainer},[].concat(R(this.state.artifacts),R(this.state.cards)).map((function(e,t){return o.a.createElement("div",{className:y.a.cardContainer,key:t},o.a.createElement(O.a,{card:e,flipped:!1,isArtifact:!e.blook}))})),o.a.createElement("i",{className:h()("fas fa-times",y.a.closeIcon),role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!1})}})):null):"removeSelect"===this.state.phase?o.a.createElement("div",{className:_.a.regularBody},o.a.createElement("div",{className:y.a.removeText},"Choose a Card to Remove"),o.a.createElement("div",{className:y.a.backButton,role:"button",tabIndex:0,onClick:function(){return e.setState({phase:"shop"})}},"Back"),o.a.createElement("div",{className:y.a.removeDeckContainer},[].concat(R(this.state.artifacts),R(this.state.cards)).map((function(t,r){return o.a.createElement("div",{className:y.a.removeCardContainer,key:r,role:"button",tabIndex:0,onClick:function(){return e.selectCard(t)}},o.a.createElement(O.a,{card:t,flipped:!1,isArtifact:!t.blook}))})))):"removeReveal"===this.state.phase?o.a.createElement("div",{className:_.a.regularBody,style:{overflow:"hidden"}},o.a.createElement("div",{className:y.a.removeText},"Removing Card from Deck"),o.a.createElement("div",{className:y.a.cardRemove},o.a.createElement(O.a,{card:this.state.card,flipped:!1,isArtifact:!this.state.card.blook}))):null,this.state.noBuy?o.a.createElement(j.a,{text:"You don't have enough coins to buy this item!",isDark:!0,buttonOne:{text:"Ok",click:function(){return e.setState({noBuy:!1})},color:"black"}}):this.state.buyPrice?o.a.createElement(j.a,{text:"Buy the ".concat(this.state.buyCard.blook||this.state.buyCard," card for ").concat(this.state.buyPrice," coins?"),isDark:!0,buttonOne:{text:"Yes",click:function(){return e.onBuy("card",e.state.buyPrice,e.state.buyCard)},color:"black"},buttonTwo:{text:"No",click:function(){return e.setState({buyCard:{},buyPrice:0})},color:"black"}}):null);window.location.href="".concat(L.a.id,"/login")}}])&&A(t.prototype,r),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);F.propTypes={history:c.a.object.isRequired,tower:c.a.object,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerCoins:c.a.func.isRequired,setTowerArtifacts:c.a.func.isRequired,setTowerLife:c.a.func.isRequired,user:c.a.object};t.a=Object(b.c)(Object(u.f)(Object(i.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(a.b)({setTowerCards:d.c,setTowerStage:d.g,setTowerCoins:d.d,setTowerArtifacts:d.b,setTowerLife:d.f},e)}))(F)))},EDTP:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("ANjH"),i=r("/MKj"),s=r("17x9"),c=r.n(s),u=r("55Ip"),l=r("H1WH"),f=r("TSYQ"),h=r.n(f),p=r("oPOS"),d=r("ZTK6"),m=r("Xst1"),y=r.n(m),v=r("uUIW"),_=r.n(v),w=r("Rnav"),g=r("XTAU"),b=r("FVRk"),x=r("4Zpe"),C=r("lWrb"),k=r("Truy"),T=r("74sb"),E=r("E8Bj"),S=r("t3SV"),O=r("28sW");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */B=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),s=new T(o||[]);return n(i,"_invoke",{value:b(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(E([])));v&&v!==t&&r.call(v,a)&&(m=v);var _=d.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==j(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=x(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function q(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){q(a,n,o,i,s,"next",e)}function s(e){q(a,n,o,i,s,"throw",e)}i(void 0)}))}}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function G(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Y(e);if(t){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Q(this,r)}}function Q(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(c,e);var t,r,n,a,i,s=z(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={question:{},phase:"",correct:!1,showDeck:!1,card:{},life:100,healAmount:20,bonusStats:2,readId:""},t.freeQuestions=[],t.waiting=!1,t.qRemaining=3,t.msg={},t.isReading=!1,t.onAnswer=t.onAnswer.bind(F(t)),t.onHeal=t.onHeal.bind(F(t)),t.getQuestion=t.getQuestion.bind(F(t)),t.answerNext=t.answerNext.bind(F(t)),t.selectCard=t.selectCard.bind(F(t)),t.readQuestion=t.readQuestion.bind(F(t)),t}return t=c,(r=[{key:"componentDidMount",value:(i=A(B().mark((function e(){var t,r,n,o=this;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"rest"===this.props.tower.stage&&this.props.tower.questions&&this.props.tower.questions.length){e.next=3;break}return window.location.href="".concat(O.a.id,"/login"),e.abrupt("return");case 3:return e.next=5,this.props.user.getData();case 5:if(e.sent||this.setState({notLoggedIn:!0}),!this.props.tower.artifacts.includes("Anorak's Wizard Cap")){e.next=10;break}return this.props.tower.towerId?(t=Object(T.d)(),S.a.put("/api/towers/save",{t:t,id:this.props.tower.towerId,stage:"map"}).then((function(){o.props.setTowerStage("map"),o.props.history.push("/tower/map")})).catch((function(e){p.b.logError(e)}))):(this.props.setTowerStage("map"),this.props.history.push("/tower/map")),e.abrupt("return");case 10:r=20,n=2,this.props.tower.artifacts.forEach((function(e){"Tasty Egg"===e?r+=7:"Training Weights"===e&&(n+=2)})),r=Math.min(r,100-this.props.tower.life),this.setState({healAmount:r,bonusStats:n,phase:"welcome"}),this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.freeQuestions)),this.welcomeTimeout=setTimeout((function(){o.getQuestion()}),3e3);case 17:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.msg.onend=function(){},window.speechSynthesis.cancel(),clearTimeout(this.welcomeTimeout),clearTimeout(this.waitTimeout),clearTimeout(this.cardTimeout),clearTimeout(this.healTimeout),clearInterval(this.healInterval)}},{key:"onAnswer",value:function(e){if(!this.waiting){this.waiting=!0,this.isReading=!1,this.msg.onend=function(){},window.speechSynthesis.cancel();var t=JSON.parse(JSON.stringify(this.props.tower.corrects)),r=JSON.parse(JSON.stringify(this.props.tower.incorrects)),n=this.state.question.number;e?t[n]?t[n]+=1:t[n]=1:r[n]?r[n]+=1:r[n]=1,this.props.answerTower(t,r,JSON.parse(JSON.stringify(this.freeQuestions))),this.setState({correct:e,phase:"feedback",readId:""})}}},{key:"onHeal",value:function(){var e=this;this.setState({life:this.props.tower.life,phase:"healing"},(function(){e.healTimeout=setTimeout((function(){var t=e.state.healAmount;e.healInterval=setInterval((function(){t<=0?(clearInterval(e.healInterval),e.healTimeout=setTimeout((function(){var t=Math.min(e.props.tower.life+e.state.healAmount,100);if(e.props.tower.towerId){var r=Object(T.d)();S.a.put("/api/towers/save",{t:r,id:e.props.tower.towerId,stage:"map",life:t,corrects:e.props.tower.corrects,incorrects:e.props.tower.incorrects}).then((function(){e.props.setTowerLife(t),e.props.setTowerStage("map"),e.props.history.push("/tower/map")})).catch((function(e){p.b.logError(e)}))}else e.props.setTowerLife(t),e.props.setTowerStage("map"),e.props.history.push("/tower/map")}),1500)):(t-=1,e.setState({life:e.state.life+1}))}),100)}),1500)}))}},{key:"getQuestion",value:function(){var e=this;0===this.freeQuestions.length&&(this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.questions)));var t=Object(T.o)(this.freeQuestions);this.freeQuestions.splice(this.freeQuestions.indexOf(t),1),t.random&&(t.answers=Object(T.v)(t.answers)),this.setState({question:t,phase:"question"},(function(){e.waiting=!0,e.waitTimeout=setTimeout((function(){e.waiting=!1}),400)}))}},{key:"answerNext",value:function(){this.state.correct?this.qRemaining-=1:(this.props.setTowerStage("map"),this.props.history.push("/tower/map")),this.qRemaining>0?this.getQuestion():this.setState({phase:"rest"})}},{key:"selectCard",value:function(e){var t=this,r=P(this.props.tower.cards),n=L({},r[e]);r[e]=L(L({},n),{},{strength:Math.min(n.strength+this.state.bonusStats,20),charisma:Math.min(n.charisma+this.state.bonusStats,20),wisdom:Math.min(n.wisdom+this.state.bonusStats,20)}),this.setState({card:n,phase:"upgradeReveal"},(function(){t.cardTimeout=setTimeout((function(){t.setState({card:r[e]},(function(){t.cardTimeout=setTimeout((function(){if(t.props.tower.towerId){var e=Object(T.d)();S.a.put("/api/towers/save",{t:e,id:t.props.tower.towerId,stage:"map",cards:r,corrects:t.props.tower.corrects,incorrects:t.props.tower.incorrects}).then((function(){t.props.setTowerStage("map"),t.props.setTowerCards(r),t.props.history.push("/tower/map")})).catch((function(e){p.b.logError(e)}))}else t.props.setTowerStage("map"),t.props.setTowerCards(r),t.props.history.push("/tower/map")}),3500)}))}),2500)}))}},{key:"readQuestion",value:(a=A(B().mark((function e(){var t,r=this;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isReading&&window.speechSynthesis){e.next=2;break}return e.abrupt("return");case 2:return this.isReading=!0,t=function(e,t,n){var o=e;if("`*`"===e.slice(0,3)||e.includes("`~`"))return n();e.includes("`*`")&&(o=e.slice(0,e.indexOf("`*`"))),r.msg=new SpeechSynthesisUtterance(o),r.setState({readId:t}),window.speechSynthesis.speak(r.msg),r.msg.onend=function(){r.setState({readId:""}),n()}},e.next=6,new Promise((function(e){return t(r.state.question.question,"qText",e)}));case 6:return e.next=8,new Promise((function(e){return t(r.state.question.answers[0],"q1",e)}));case 8:return e.next=10,new Promise((function(e){return t(r.state.question.answers[1],"q2",e)}));case 10:if(!this.state.question.answers[2]){e.next=13;break}return e.next=13,new Promise((function(e){return t(r.state.question.answers[2],"q3",e)}));case 13:if(!this.state.question.answers[3]){e.next=16;break}return e.next=16,new Promise((function(e){return t(r.state.question.answers[3],"q4",e)}));case 16:this.isReading=!1;case 17:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.tower&&this.props.tower.questions&&this.props.tower.questions.length)return o.a.createElement("div",{className:l.isMobile?y.a.mBody:y.a.body,style:{backgroundColor:"#292929"}},o.a.createElement(g.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),o.a.createElement(w.a,{coins:this.props.tower.coins,showRead:"question"===this.state.phase,readQuestion:this.readQuestion}),"question"===this.state.phase?o.a.createElement(b.a,{onAnswer:this.onAnswer,question:this.state.question,readId:this.state.readId,theme:"tower"}):"feedback"===this.state.phase?o.a.createElement(x.a,{incorrectTime:3,question:this.state.question,correct:this.state.correct,onNext:this.answerNext}):"welcome"===this.state.phase?o.a.createElement("div",{className:y.a.regularBody},o.a.createElement("div",{className:_.a.welcomeText},"Answer 3 Questions Correctly to Rest")):"rest"===this.state.phase?o.a.createElement("div",{className:y.a.regularBody},o.a.createElement("div",{className:_.a.lifeContainer},o.a.createElement(k.a,{currentLife:this.props.tower.life,maxLife:100})),o.a.createElement("div",{className:_.a.deckButton,role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!0})}},o.a.createElement("i",{className:h()("fas fa-layer-group",_.a.deckIcon)}),o.a.createElement("div",{className:_.a.deckText},"View Deck")),this.state.showDeck?o.a.createElement("div",{className:_.a.deckContainer},[].concat(P(this.props.tower.artifacts),P(this.props.tower.cards)).map((function(e,t){return o.a.createElement("div",{className:_.a.cardContainer,key:t},o.a.createElement(C.a,{card:e,flipped:!1,isArtifact:!e.blook}))})),o.a.createElement("i",{className:h()("fas fa-times",_.a.closeIcon),role:"button",tabIndex:0,onClick:function(){return e.setState({showDeck:!1})}})):null,o.a.createElement("div",{className:_.a.chooseText},"Choose an Option"),o.a.createElement("div",{className:_.a.restButtonContainer},o.a.createElement("div",{className:_.a.restButton,role:"button",tabIndex:0,style:{backgroundColor:"#ff9933"},onClick:function(){return e.setState({phase:"upgradeSelect"})}},o.a.createElement("i",{className:h()("fas fa-wrench",_.a.buttonIcon)}),"Upgrade",o.a.createElement("span",{style:{fontSize:"2vw"}},"+".concat(this.state.bonusStats," Attributes"))),o.a.createElement("div",{className:_.a.restButton,role:"button",tabIndex:0,style:{backgroundColor:"#33cc33"},onClick:function(){return e.onHeal()}},o.a.createElement("i",{className:h()("fas fa-medkit",_.a.buttonIcon)}),"Recover",o.a.createElement("span",{style:{fontSize:"2vw"}},"+".concat(this.state.healAmount," Health"))))):"upgradeSelect"===this.state.phase?o.a.createElement("div",{className:y.a.regularBody},o.a.createElement("div",{className:_.a.upgradeText},"Choose a Card to Upgrade"),o.a.createElement("div",{className:_.a.upgradeDeckContainer},this.props.tower.cards.map((function(t,r){return o.a.createElement("div",{className:_.a.upgradeCardContainer,key:r,role:"button",tabIndex:0,onClick:function(){return e.selectCard(r)}},o.a.createElement(C.a,{card:t,flipped:!1}))})))):"upgradeReveal"===this.state.phase?o.a.createElement("div",{className:y.a.regularBody},o.a.createElement("div",{className:_.a.upgradeText},"Adding +".concat(this.state.bonusStats," to All Attributes")),o.a.createElement("div",{className:_.a.cardReveal},o.a.createElement(C.a,{card:this.state.card,flipped:!1}))):"healing"===this.state.phase?o.a.createElement("div",{className:y.a.regularBody},o.a.createElement("div",{className:_.a.upgradeText},"Adding +".concat(this.state.healAmount," Health")),o.a.createElement("div",{className:_.a.lifeHealContainer},o.a.createElement(k.a,{currentLife:this.state.life,maxLife:100}))):null);window.location.href="".concat(O.a.id,"/login")}}])&&D(t.prototype,r),n&&D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);W.propTypes={history:c.a.object.isRequired,tower:c.a.object,answerTower:c.a.func.isRequired,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerLife:c.a.func.isRequired,user:c.a.object};t.a=Object(E.c)(Object(u.f)(Object(i.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(a.b)({answerTower:d.a,setTowerCards:d.c,setTowerStage:d.g,setTowerLife:d.f},e)}))(W)))},EbnR:function(e,t,r){var n=r("L2c0");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,o);n.locals&&(e.exports=n.locals)},FEl8:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("ANjH"),i=r("/MKj"),s=r("17x9"),c=r.n(s),u=r("55Ip"),l=r("H1WH"),f=r("oPOS"),h=r("ZTK6"),p=r("l7v6"),d=r.n(p),m=r("Xst1"),y=r.n(m),v=r("Rnav"),_=r("XTAU"),w=r("74sb"),g=r("E8Bj"),b=r("t3SV"),x=r("28sW");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */k=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),s=new S(o||[]);return n(i,"_invoke",{value:b(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,a)&&(m=v);var _=d.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==C(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=x(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function T(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===C(a)?a:String(a)),n)}var o,a}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=L(e);if(t){var o=L(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(c,e);var t,r,n,a,i,s=O(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={wins:0},t.endGame=t.endGame.bind(N(t)),t}return t=c,(r=[{key:"componentDidMount",value:(a=k().mark((function e(){var t,r=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"victory"===this.props.tower.stage){e.next=3;break}return window.location.href="".concat(x.a.id,"/login"),e.abrupt("return");case 3:t=Object(w.d)(),b.a.put("/api/towers/victory",{t:t}).then((function(e){r.setState({wins:e.data.wins})})).catch((function(e){f.b.logError(e),r.endGame()}));case 5:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=a.apply(e,t);function i(e){T(o,r,n,i,s,"next",e)}function s(e){T(o,r,n,i,s,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"endGame",value:function(){this.props.setTowerStage("final"),this.props.history.push("/tower/final")}},{key:"render",value:function(){if(this.props.tower&&this.props.tower.hwId&&(this.redirect=!1),!this.redirect&&this.props.tower)return o.a.createElement("div",{className:l.isMobile?y.a.mBody:y.a.body,style:{backgroundColor:"#292929",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(_.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),o.a.createElement(v.a,{coins:this.props.tower.coins}),this.state.wins>0?o.a.createElement("div",{className:d.a.container},o.a.createElement("div",{className:d.a.header},"Victory"),o.a.createElement("div",{className:d.a.winText},"You are the ".concat(Object(w.n)(this.state.wins)).concat(Object(w.h)(this.state.wins)," adventurer to ascend the Tower of Doom!")),o.a.createElement("div",{className:d.a.endButton,role:"button",tabIndex:0,onClick:this.endGame},"End Game")):null);window.location.href="".concat(x.a.id,"/login")}}])&&E(t.prototype,r),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);I.propTypes={history:c.a.object.isRequired,tower:c.a.object,setTowerStage:c.a.func.isRequired};t.a=Object(g.c)(Object(u.f)(Object(i.b)((function(e){return{tower:e.towers.tower,client:e.clients.client}}),(function(e){return Object(a.b)({setTowerStage:h.g},e)}))(I)))},GgYP:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"d",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return u}));var n="ANSWER_TOWER",o="SET_TOWER_CARDS",a="SET_TOWER_STAGE",i="SET_TOWER_COINS",s="SET_TOWER_LIFE",c="SET_TOWER_ARTIFACTS",u="SET_TOWER_INSTRUCT"},L2c0:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".styles__blook___a5BeJ-camelCase{width:30vw;position:absolute;top:55%;left:15vw;transform:rotate(-10deg) translateY(-50%)}.styles__textContainer___2aVBU-camelCase{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:45%;height:90%;left:50%;top:5%}.styles__riskText___3qtBy-camelCase{text-shadow:2px 2px 8px grey;color:#fff;font-family:Nunito,sans-serif;font-weight:700;text-align:center;width:100%;font-size:3.5vw}.styles__buttonContainer___D4GM9-camelCase{flex-direction:row;justify-content:space-evenly;width:100%;margin-top:3.5vw}.styles__button___3GIx--camelCase,.styles__buttonContainer___D4GM9-camelCase{display:flex;align-items:center}.styles__button___3GIx--camelCase{justify-content:center;color:#fff;font-family:Nunito,sans-serif;font-weight:700;text-align:center;font-size:3vw;padding:.5vw 2vw;margin:0 auto;border:3px solid #fff;border-radius:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;transition:.2s}.styles__button___3GIx--camelCase:hover{transform:scale(1.05)}.styles__lifeContainer___1tlVx-camelCase{position:absolute;top:0;left:0;height:15vw;width:15vw;transform:scale(.6)}@media only screen and (max-width:600px){.styles__lifeContainer___1tlVx-camelCase{top:3vw;left:3vw;transform:scale(1.1)}.styles__blook___a5BeJ-camelCase{width:50vw;top:7.5%;left:50%;transform:rotate(-10deg) translateX(-50%)}.styles__textContainer___2aVBU-camelCase{width:90%;height:50%;left:5%;top:55%}.styles__riskText___3qtBy-camelCase{font-size:6.75vw;line-height:6.95vw}.styles__buttonContainer___D4GM9-camelCase{margin-top:5vw}.styles__button___3GIx--camelCase{font-size:6vw;padding:1.5vw 3.5vw}.styles__button___3GIx--camelCase:hover{transform:scale(1)}}",""]),t.locals={blook:"styles__blook___a5BeJ-camelCase",textContainer:"styles__textContainer___2aVBU-camelCase",riskText:"styles__riskText___3qtBy-camelCase",buttonContainer:"styles__buttonContainer___D4GM9-camelCase",button:"styles__button___3GIx--camelCase",lifeContainer:"styles__lifeContainer___1tlVx-camelCase"}},ZTK6:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return l}));var n=r("GgYP");function o(e,t,r){return{type:n.a,corrects:e,incorrects:t,freeQuestions:r}}function a(e){return{type:n.c,cards:e}}function i(e){return{type:n.g,stage:e}}function s(e){return{type:n.d,coins:e}}function c(e){return{type:n.f,life:e}}function u(e){return{type:n.b,artifacts:e}}function l(e){return{type:n.e,instruct:e}}},fLLE:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,".styles__deckButton___3ggQR-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;top:1vw;right:1vw;color:#fff;text-shadow:2px 2px 8px grey;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__deckButton___3ggQR-camelCase:hover{transform:scale(1.05)}.styles__leaveButton___3WDUM-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;bottom:1vw;right:1vw;color:#ff5050;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__leaveButton___3WDUM-camelCase:hover{transform:scale(1.05)}.styles__deckIcon___2RNz9-camelCase{font-size:27px;margin-right:10px}.styles__deckText___3LMeb-camelCase{font-family:Nunito,sans-serif;font-weight:700;font-size:30px}.styles__deckContainer___1Xlyp-camelCase{position:absolute;top:0;left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;background-color:rgba(0,0,0,.8);z-index:3;display:flex;flex-flow:row wrap;align-content:flex-start}.styles__cardContainer___2E4v0-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw}.styles__closeIcon___gnqMR-camelCase{font-size:30px;text-shadow:2px 2px 8px grey;cursor:pointer;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;top:1vw;right:1vw;color:#fff;transition:.2s}.styles__closeIcon___gnqMR-camelCase:focus,.styles__closeIcon___gnqMR-camelCase:hover{transform:scale(1.05)}.styles__shopContainer___2Dw-A-camelCase{flex-direction:row;width:75vw;height:95%;margin:auto auto auto 14vw}.styles__cardsHolder___2Q3m4-camelCase,.styles__shopContainer___2Dw-A-camelCase{display:flex;align-items:center}.styles__cardsHolder___2Q3m4-camelCase{flex-flow:row wrap;justify-content:center;width:82.5%;height:100%}.styles__shopCardContainer___2Nxgl-camelCase{display:flex;flex-direction:column;width:25vw;transform:scale(.55);margin:-9vw -3.25vw;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__shopCardContainer___2Nxgl-camelCase:hover{transform:scale(.53)}.styles__priceText___fGWiF-camelCase{font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;font-weight:700;width:100%;text-align:center;margin-top:.5vw;font-size:3.5vw;display:flex;flex-direction:row;align-items:center;justify-content:center}.styles__priceIcon___121Hl-camelCase{margin-left:1vw;font-size:3vw}.styles__removeButton___2KSZb-camelCase{display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;font-weight:700;font-size:2.5vw;line-height:2.65vw;box-shadow:0 0 8px 3px rgba(0,0,0,.2);height:50%;width:17.5%;margin:auto;border-radius:6px;background-color:#ff5050;text-align:center;outline:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;transition:.2s}.styles__removeButton___2KSZb-camelCase:hover{transform:scale(.95)}.styles__removeButtonText___1ckw6-camelCase{margin:0 auto}.styles__removeIcon___25wZY-camelCase{font-size:6vw;margin:2vw auto}.styles__removeCost___1arir-camelCase{display:flex;flex-direction:row;align-items:center;font-size:2.5vw;margin:0 auto}.styles__removeCostIcon___29GDz-camelCase{margin-left:1vw;font-size:2.2vw}.styles__removeDeckContainer___3SXec-camelCase{position:absolute;top:calc(10% + 3vw);left:0;min-height:calc(100% - 10vh);width:calc(100% - 10vw);padding:5vh 5vw;z-index:3;display:flex;flex-flow:row wrap;animation:styles__fadeIn___3YkFX-camelCase .3s}.styles__removeCardContainer___2C43w-camelCase{width:25vw;height:32.5vw;transform:scale(.7);margin:-4vw -1.5vw;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;transition:.2s}.styles__removeCardContainer___2C43w-camelCase:hover{transform:scale(.75)}.styles__removeText___3kbQl-camelCase{font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;font-size:5vw;position:absolute;width:80%;top:5%;left:10%;text-align:center;animation:styles__fadeIn___3YkFX-camelCase .3s}.styles__backButton___1CFT9-camelCase{display:flex;flex-direction:row;align-items:center;position:absolute;top:1vw;left:1vw;color:#fff;font-family:Nunito,sans-serif;font-weight:700;font-size:30px;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__backButton___1CFT9-camelCase:hover{transform:scale(1.05)}.styles__lifeContainer___1i1BT-camelCase{position:absolute;top:0;left:0;transform:scale(.6);height:15vw;width:15vw}.styles__cardRemove___2IWhZ-camelCase{width:25vw;height:32.5vw;position:absolute;top:calc(50% - 12vw);left:calc(50% - 12.5vw);animation:styles__spinRemove___2R4Y6-camelCase 4s ease-in .5s forwards}@keyframes styles__spinRemove___2R4Y6-camelCase{0%{transform:rotate(0deg) scale(1)}to{transform:rotate(10turn) scale(0)}}@keyframes styles__fadeIn___3YkFX-camelCase{0%{opacity:0}to{opacity:1}}@media only screen and (max-width:800px){.styles__deckButton___3ggQR-camelCase{right:0}.styles__deckButton___3ggQR-camelCase,.styles__deckButton___3ggQR-camelCase:hover{transform:scale(.8)}.styles__deckContainer___1Xlyp-camelCase{transform:scale(1.1);margin:2.5vw 2vw}.styles__closeIcon___gnqMR-camelCase{top:5vw;right:8.5vw}.styles__lifeContainer___1i1BT-camelCase{top:3vw;left:3vw;transform:scale(1.1)}.styles__shopContainer___2Dw-A-camelCase{flex-direction:column;margin:20% auto 5%;align-items:center;width:95%;height:75%}.styles__removeButton___2KSZb-camelCase{flex-direction:row;justify-content:space-evenly;font-size:5vw;line-height:5.15vw;height:15%;width:75%;margin:auto}.styles__removeIcon___25wZY-camelCase{display:none}.styles__removeCost___1arir-camelCase{font-weight:700;font-size:5.5vw}.styles__removeCostIcon___29GDz-camelCase{margin-left:3vw;font-size:5.2vw}.styles__shopCardContainer___2Nxgl-camelCase{width:25vw;height:32.5vw;margin:-4vw 3vw}.styles__shopCardContainer___2Nxgl-camelCase,.styles__shopCardContainer___2Nxgl-camelCase:hover{transform:scale(.95)}.styles__priceText___fGWiF-camelCase{margin-top:2vw}.styles__cardsHolder___2Q3m4-camelCase{display:flex;flex-flow:row wrap;justify-content:center;align-items:center;width:100%}.styles__removeText___3kbQl-camelCase{font-size:9vw;top:7.5%}.styles__removeDeckContainer___3SXec-camelCase{top:17.5%;align-content:flex-start;min-height:75%;width:95%;padding:5% 2.5%}.styles__removeCardContainer___2C43w-camelCase{width:25vw;height:32.5vw;transform:scale(.95);margin:2vw 3vw}.styles__removeCardContainer___2C43w-camelCase:hover{transform:scale(.95)}.styles__cardRemove___2IWhZ-camelCase{transform:scale(1.5);animation:styles__spinRemove___2R4Y6-camelCase 4s ease-in .5s forwards}@keyframes styles__spinRemove___2R4Y6-camelCase{0%{transform:rotate(0deg) scale(1.5)}to{transform:rotate(10turn) scale(0)}}}",""]),t.locals={deckButton:"styles__deckButton___3ggQR-camelCase",leaveButton:"styles__leaveButton___3WDUM-camelCase",deckIcon:"styles__deckIcon___2RNz9-camelCase",deckText:"styles__deckText___3LMeb-camelCase",deckContainer:"styles__deckContainer___1Xlyp-camelCase",cardContainer:"styles__cardContainer___2E4v0-camelCase",closeIcon:"styles__closeIcon___gnqMR-camelCase",shopContainer:"styles__shopContainer___2Dw-A-camelCase",cardsHolder:"styles__cardsHolder___2Q3m4-camelCase",shopCardContainer:"styles__shopCardContainer___2Nxgl-camelCase",priceText:"styles__priceText___fGWiF-camelCase",priceIcon:"styles__priceIcon___121Hl-camelCase",removeButton:"styles__removeButton___2KSZb-camelCase",removeButtonText:"styles__removeButtonText___1ckw6-camelCase",removeIcon:"styles__removeIcon___25wZY-camelCase",removeCost:"styles__removeCost___1arir-camelCase",removeCostIcon:"styles__removeCostIcon___29GDz-camelCase",removeDeckContainer:"styles__removeDeckContainer___3SXec-camelCase",fadeIn:"styles__fadeIn___3YkFX-camelCase",removeCardContainer:"styles__removeCardContainer___2C43w-camelCase",removeText:"styles__removeText___3kbQl-camelCase",backButton:"styles__backButton___1CFT9-camelCase",lifeContainer:"styles__lifeContainer___1i1BT-camelCase",cardRemove:"styles__cardRemove___2IWhZ-camelCase",spinRemove:"styles__spinRemove___2R4Y6-camelCase"}},jT6b:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("ANjH"),i=r("/MKj"),s=r("17x9"),c=r.n(s),u=r("55Ip"),l=r("H1WH"),f=r("oPOS"),h=r("ZTK6"),p=r("EbnR"),d=r.n(p),m=r("Xst1"),y=r.n(m),v=r("Rnav"),_=r("XTAU"),w=r("E8Bj"),g=r("74sb"),b=r("gvfT"),x=function(e,t){var r={},n=0;if("+"===t){n=Math.round(.01*Object(g.q)(25,41)*(100-e))||10;var o=Object(g.o)(b.b[0===Object(g.q)(0,2)?"uncommon":"rare"]);r={blook:o,strength:Object(g.q)(16,19),charisma:Object(g.q)(16,19),wisdom:Object(g.q)(16,19),class:b.c[o].class}}else{n=-Math.round(.01*Object(g.q)(30,46)*e)||-10;var a=Object(g.o)(b.b.common);r={blook:a,strength:Object(g.q)(0,5),charisma:Object(g.q)(0,5),wisdom:Object(g.q)(0,5),class:b.c[a].class}}return{card:r,health:n}},C=r("Truy"),k=r("0oXL"),T=r("t3SV"),E=r("28sW");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */N=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),s=new T(o||[]);return n(i,"_invoke",{value:b(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(E([])));v&&v!==t&&r.call(v,a)&&(m=v);var _=d.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==S(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=x(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function L(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===S(a)?a:String(a)),n)}var o,a}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}function B(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(c,e);var t,r,n,a,i,s=R(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={card:{},health:0,riskText:""},t.ready=!1,t.onSelect=t.onSelect.bind(q(t)),t}return t=c,(r=[{key:"componentDidMount",value:(a=N().mark((function e(){var t,r,n=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"risk"===this.props.tower.stage){e.next=3;break}return window.location.href="".concat(E.a.id,"/login"),e.abrupt("return");case 3:return e.next=5,this.props.user.getData();case 5:e.sent||this.setState({notLoggedIn:!0}),t=x(this.props.tower.life,this.props.tower.enemy),r="".concat(t.card.strength,"/").concat(t.card.charisma,"/").concat(t.card.wisdom," ").concat(t.card.blook," Card"),this.setState({card:t.card,health:t.health,riskText:"Gain a ".concat(r," or ").concat(t.health>0?"Heal for":"Sacrifice"," ").concat(Math.abs(t.health)," Health?")},(function(){n.waitTimeout=setTimeout((function(){n.ready=!0}),1e3)}));case 10:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=a.apply(e,t);function i(e){L(o,r,n,i,s,"next",e)}function s(e){L(o,r,n,i,s,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.waitTimeout)}},{key:"onSelect",value:function(e){var t=this;if(this.ready){var r=O(this.props.tower.cards),n=this.props.tower.life;if(e?(r=[].concat(O(this.props.tower.cards),[this.state.card]),this.props.setTowerCards(r)):(n+=this.state.health,this.props.setTowerLife(n)),this.props.tower.towerId){var o=Object(g.d)();T.a.put("/api/towers/save",{t:o,id:this.props.tower.towerId,stage:"map",cards:r,life:n}).then((function(){t.props.setTowerStage("map"),t.props.history.push("/tower/map")})).catch((function(e){f.b.logError(e)}))}else this.props.setTowerStage("map"),this.props.history.push("/tower/map")}}},{key:"render",value:function(){var e=this;if(this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.tower)return o.a.createElement("div",{className:l.isMobile?y.a.mBody:y.a.body,style:{backgroundColor:"#292929"}},o.a.createElement(_.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),o.a.createElement(v.a,{coins:this.props.tower.coins}),this.state.health?o.a.createElement("div",{className:y.a.regularBody,style:{overflow:"hidden"}},o.a.createElement("div",{className:d.a.lifeContainer},o.a.createElement(C.a,{currentLife:this.props.tower.life,maxLife:100})),o.a.createElement(k.a,{name:this.state.card.blook,className:d.a.blook}),o.a.createElement("div",{className:d.a.textContainer},o.a.createElement("div",{className:d.a.riskText},this.state.riskText),o.a.createElement("div",{className:d.a.buttonContainer},o.a.createElement("div",{className:d.a.button,role:"button",tabIndex:0,onClick:function(){return e.onSelect(!0)}},"Card"),o.a.createElement("div",{className:d.a.button,role:"button",tabIndex:0,onClick:function(){return e.onSelect(!1)}},"Health")))):null);window.location.href="".concat(E.a.id,"/login")}}])&&I(t.prototype,r),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);D.propTypes={history:c.a.object.isRequired,tower:c.a.object,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerLife:c.a.func.isRequired,user:c.a.object};t.a=Object(w.c)(Object(u.f)(Object(i.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(a.b)({setTowerCards:h.c,setTowerStage:h.g,setTowerLife:h.f},e)}))(D)))},l7v6:function(e,t,r){var n=r("xWMB");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,o);n.locals&&(e.exports=n.locals)},q2wa:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("ANjH"),i=r("/MKj"),s=r("17x9"),c=r.n(s),u=r("55Ip"),l=r("H1WH"),f=r("oPOS"),h=r("uyiU"),p=r.n(h),d=[{text:"Welcome to the Tower of Doom! Your goal is to ascend the Tower's 3 Haunted Floors.",nextButtonText:"Next",className:p.a.centered},{text:"Unfortunately, these floors are covered with enemies. You're going to need a deck to defend yourself.",nextButtonText:"Next",className:p.a.centered},{text:"Before you start climbing the Tower, you'll answer 5 questions to get your deck started! Answer 1 question now.",nextButtonText:"OK",className:p.a.centered},{},{text:"Great work! Now you get to choose a card to add to your deck.",nextButtonText:"Next",className:p.a.centered},{elementId:"card1",text:"You'll use Blook cards to battle. Each card has 3 attributes: Strength, Charisma, and Wisdom.",nextButtonText:"Next",elementClick:!0,className:p.a.card1},{elementId:"card1",text:"The greater the attribute, the better. Therefore, even though the Chick appears weak, its Charisma can be very powerful.",nextButtonText:"Next",elementClick:!0,className:p.a.card1},{elementId:"card2",text:"This card is an Artifact. They aren't used in battle, but they apply effects that can help you.",nextButtonText:"Next",elementClick:!0,className:p.a.card2},{elementId:"card2",text:"Coins are earned after battles and are used to purchase cards in Shops. The Piggy Bank would help you earn more of these coins.",nextButtonText:"Next",elementClick:!0,className:p.a.card2},{elementId:"card1",text:"For now, let's just stick with the Chick. Go ahead and click the card to add it to your Deck!",elementClick:!0,functionIndex:0,className:p.a.card1},{text:"Awesome, now answer 4 more questions and choose 4 more cards. Then you'll be ready to take on the Tower of Doom!",nextButtonText:"OK",className:p.a.centered}],m=r("ZTK6"),y=r("Xst1"),v=r.n(y),_=r("Rnav"),w=r("XTAU"),g=r("ca/f"),b=r("9TPi"),x=r("E8Bj"),C=r("FVRk"),k=r("4Zpe"),T=r("2qfb"),E=r("gvfT"),S=r("74sb"),O=r("t3SV"),j=r("28sW");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),s=new T(o||[]);return n(i,"_invoke",{value:b(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(E([])));v&&v!==t&&r.call(v,a)&&(m=v);var _=d.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==N(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=x(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function R(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){R(a,n,o,i,s,"next",e)}function s(e){R(a,n,o,i,s,"throw",e)}i(void 0)}))}}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===N(a)?a:String(a)),n)}var o,a}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=z(e);if(t){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return G(this,r)}}function G(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(c,e);var t,r,n,a,i,s=D(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={question:{},phase:"question",correct:!1,cards:[],artifacts:[],coins:0,askTour:!0,showTour:!1,readId:""},t.freeQuestions=[],t.waiting=!1,t.done=!1,t.qRemaining=5,t.msg={},t.isReading=!1,t.tourRef=o.a.createRef(),t.onAnswer=t.onAnswer.bind(M(t)),t.getQuestion=t.getQuestion.bind(M(t)),t.answerNext=t.answerNext.bind(M(t)),t.selectCard=t.selectCard.bind(M(t)),t.endTour=t.endTour.bind(M(t)),t.readQuestion=t.readQuestion.bind(M(t)),t}return t=c,(r=[{key:"componentDidMount",value:(i=B(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.tower&&"start"===this.props.tower.stage&&this.props.tower.questions&&this.props.tower.questions.length){e.next=3;break}return window.location.href="".concat(j.a.id,"/login"),e.abrupt("return");case 3:return e.next=5,this.props.user.getData();case 5:e.sent||this.setState({notLoggedIn:!0}),this.setState({coins:this.props.tower.coins}),this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.freeQuestions)),this.getQuestion();case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.msg.onend=function(){},window.speechSynthesis.cancel(),clearTimeout(this.waitTimeout)}},{key:"onAnswer",value:function(e){if(!this.waiting){this.waiting=!0,this.isReading=!1,this.msg.onend=function(){},window.speechSynthesis.cancel();var t=JSON.parse(JSON.stringify(this.props.tower.corrects)),r=JSON.parse(JSON.stringify(this.props.tower.incorrects)),n=this.state.question.number;e?t[n]?t[n]+=1:t[n]=1:r[n]?r[n]+=1:r[n]=1,this.props.answerTower(t,r,JSON.parse(JSON.stringify(this.freeQuestions))),this.setState({correct:e,phase:"feedback",readId:""})}}},{key:"getQuestion",value:function(){var e=this;0===this.freeQuestions.length&&(this.freeQuestions=JSON.parse(JSON.stringify(this.props.tower.questions)));var t=Object(S.o)(this.freeQuestions);this.freeQuestions.splice(this.freeQuestions.indexOf(t),1),t.random&&(t.answers=Object(S.v)(t.answers)),this.setState({question:t,phase:"question"},(function(){e.waiting=!0,e.waitTimeout=setTimeout((function(){e.waiting=!1}),400)}))}},{key:"answerNext",value:function(){var e=this;this.state.correct?(this.qRemaining-=1,this.setState({phase:"card"},(function(){e.state.showTour&&e.tourRef.current.setStep(4)}))):this.getQuestion()}},{key:"selectCard",value:function(e,t){var r=this;if(!(this.done||this.state.showTour&&!t)){var n=L(this.state.cards),o=L(this.state.artifacts),a=this.state.coins;if(e.blook?(n.push(JSON.parse(JSON.stringify(e))),this.setState({cards:n})):(o.push(e),"Elder Coins"!==e||o.includes("Anubis' Obelisk")||(a+=100),this.setState({artifacts:o,coins:a})),this.qRemaining<=0)if(this.done=!0,this.props.setTowerCards(n),this.props.setTowerArtifacts(o),this.props.setTowerCoins(a),this.props.tower.towerId){var i=Object(S.d)();O.a.put("/api/towers/save",{t:i,id:this.props.tower.towerId,cards:n,artifacts:o,corrects:this.props.tower.corrects,incorrects:this.props.tower.incorrects,stage:"map"}).then((function(){r.props.setTowerStage("map"),r.props.history.push("/tower/map")})).catch((function(e){f.b.logError(e)}))}else this.props.setTowerStage("map"),this.props.history.push("/tower/map");else this.getQuestion()}}},{key:"endTour",value:function(){this.setState({showTour:!1}),this.props.setTowerInstruct(!0)}},{key:"readQuestion",value:(a=B(P().mark((function e(){var t,r=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isReading&&window.speechSynthesis){e.next=2;break}return e.abrupt("return");case 2:return this.isReading=!0,t=function(e,t,n){var o=e;if("`*`"===e.slice(0,3)||e.includes("`~`"))return n();e.includes("`*`")&&(o=e.slice(0,e.indexOf("`*`"))),r.msg=new SpeechSynthesisUtterance(o),r.setState({readId:t}),window.speechSynthesis.speak(r.msg),r.msg.onend=function(){r.setState({readId:""}),n()}},e.next=6,new Promise((function(e){return t(r.state.question.question,"qText",e)}));case 6:return e.next=8,new Promise((function(e){return t(r.state.question.answers[0],"q1",e)}));case 8:return e.next=10,new Promise((function(e){return t(r.state.question.answers[1],"q2",e)}));case 10:if(!this.state.question.answers[2]){e.next=13;break}return e.next=13,new Promise((function(e){return t(r.state.question.answers[2],"q3",e)}));case 13:if(!this.state.question.answers[3]){e.next=16;break}return e.next=16,new Promise((function(e){return t(r.state.question.answers[3],"q4",e)}));case 16:this.isReading=!1;case 17:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(this.props.tower&&this.props.tower.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&this.props.tower&&this.props.tower.questions&&this.props.tower.questions.length)return o.a.createElement("div",{className:l.isMobile?v.a.mBody:v.a.body,id:"body",style:{backgroundColor:"#292929"}},o.a.createElement(w.a,{title:"Play Tower of Doom | Blooket",desc:"Ascend the feared Tower of Doom by answering questions and building a deck to defeat evil Blooks on your way to the top."}),o.a.createElement(_.a,{coins:this.state.coins||this.props.tower.coins,showRead:this.state.question.answers&&"question"===this.state.phase,readQuestion:this.readQuestion}),this.state.showTour?o.a.createElement(b.a,{steps:d,onExit:this.endTour,functions:[function(){return e.selectCard(E.e,!0)}],ref:this.tourRef}):null,this.state.question.answers?"question"===this.state.phase?o.a.createElement(C.a,{onAnswer:this.onAnswer,question:this.state.question,readId:this.state.readId,theme:"tower"}):"feedback"===this.state.phase?o.a.createElement(k.a,{incorrectTime:3,question:this.state.question,correct:this.state.correct,onNext:this.answerNext}):o.a.createElement("div",{className:v.a.regularBody},o.a.createElement(T.a,{type:"small",onClick:this.selectCard,cards:[].concat(L(this.state.artifacts),L(this.state.cards)),noArtifacts:0===this.state.cards.length,noThird:this.state.artifacts.includes("Pink Hippo"),isTutorial:this.state.showTour})):null,this.state.askTour?o.a.createElement(g.a,{text:"Would you like a quick tutorial?",buttonOne:{text:"Yes",click:function(){return e.setState({askTour:!1,showTour:!0})},color:"blue"},buttonTwo:{text:"No",click:function(){return e.setState({askTour:!1})},color:"blue"}}):null);window.location.href="".concat(j.a.id,"/login")}}])&&q(t.prototype,r),n&&q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);Q.propTypes={history:c.a.object.isRequired,tower:c.a.object,answerTower:c.a.func.isRequired,setTowerCards:c.a.func.isRequired,setTowerStage:c.a.func.isRequired,setTowerArtifacts:c.a.func.isRequired,setTowerCoins:c.a.func.isRequired,setTowerInstruct:c.a.func.isRequired,user:c.a.object};t.a=Object(x.c)(Object(u.f)(Object(i.b)((function(e){return{tower:e.towers.tower}}),(function(e){return Object(a.b)({answerTower:m.a,setTowerCards:m.c,setTowerStage:m.g,setTowerArtifacts:m.b,setTowerCoins:m.d,setTowerInstruct:m.e},e)}))(Q)))},qEAa:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("55Ip"),i=r("/MKj"),s=r("ANjH"),c=r("17x9"),u=r.n(c),l=r("oPOS"),f=r("5BnW"),h=r("E8Bj"),p=r("ZrUs"),d=r("74sb"),m=r("t3SV"),y=r("VgyX"),v=r("zUlG"),_=r("L1pz");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),s=new S(o||[]);return n(i,"_invoke",{value:C(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,a)&&(m=v);var _=d.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==w(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function C(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=k(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(x.prototype),c(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new x(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function b(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){b(a,n,o,i,s,"next",e)}function s(e){b(a,n,o,i,s,"throw",e)}i(void 0)}))}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===w(a)?a:String(a)),n)}var o,a}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(s,e);var t,r,n,o,a,i=E(s);function s(){return C(this,s),i.apply(this,arguments)}return t=s,(r=[{key:"componentDidMount",value:function(){var e=this,t=Object(d.j)("t");Object(d.y)(t);var r={t:t};m.a.post("/api/playersessions/landings",r).then(function(){var r=x(g().mark((function r(n){var o;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=n.data,r.t0=o.method,r.next="solo"===r.t0?4:"assign"===r.t0?7:10;break;case 4:return r.next=6,e.setupAndLaunchSolo(t,o);case 6:return r.abrupt("break",11);case 7:return r.next=9,e.setupAndLaunchHomework(t,o);case 9:return r.abrupt("break",11);case 10:l.b.logError("unknown game method ".concat(o.method));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(t){l.b.logError(t),e.props.history.goBack()}))}},{key:"setupAndLaunchSolo",value:(a=x(g().mark((function e(t,r){var n,o,a=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.addGameId(r.questionSetId),e.next=4,m.a.get("/api/playersessions/questions",{params:{t:t}});case 4:return n=e.sent,this.props.addQuestions(n.data.questions),e.next=8,this.props.user.getData();case 8:o=e.sent,this.props.login(o.name),setTimeout((function(){a.props.history.replace("/tower/load")}),500),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),l.b.logError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e,t){return a.apply(this,arguments)})},{key:"setupAndLaunchHomework",value:(o=x(g().mark((function e(t,r){var n,o,a,i=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.addClientName(r.inGameName),e.next=4,m.a.get("/api/playersessions/questions",{params:{t:t}});case 4:return n=e.sent,this.props.addQuestions(n.data.questions),e.next=8,m.a.get("/api/homeworks/byid",{params:{id:r.homeworkId}});case 8:o=e.sent,a=o.data,this.props.addHwClient(r.homeworkId,a.settings.type,a.plus,a.settings.allowAccounts),setTimeout((function(){i.props.history.replace("/play/register")}),500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),l.b.logError(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e,t){return o.apply(this,arguments)})},{key:"render",value:function(){return null}}])&&k(t.prototype,r),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);j.propTypes={login:u.a.func.isRequired,history:u.a.object.isRequired,addGameId:u.a.func.isRequired,addClientName:u.a.func.isRequired,addHwClient:u.a.func.isRequired,addQuestions:u.a.func.isRequired,user:u.a.object};t.a=Object(h.c)(Object(a.f)(Object(i.b)((function(){return{}}),(function(e){return Object(s.b)({setFactory:p.e,login:p.b,addGameId:y.a,addClientName:v.a,addHwClient:_.b,addQuestions:v.b},e)}))(Object(f.d)(j))))},qIdB:function(e,t,r){var n=r("fLLE");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,o);n.locals&&(e.exports=n.locals)},uUIW:function(e,t,r){var n=r("/DjJ");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,o);n.locals&&(e.exports=n.locals)},uyiU:function(e,t,r){var n=r("/+s7");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,o);n.locals&&(e.exports=n.locals)},xWMB:function(e,t,r){(t=e.exports=r("JPst")(!1)).push([e.i,'.styles__container___Fi8YC-camelCase{display:"flex";flex-direction:column;width:100%;animation:styles__fadeIn___L7JaM-camelCase 3s ease-in}@keyframes styles__fadeIn___L7JaM-camelCase{0%{opacity:0}to{opacity:1}}.styles__header___3dKzw-camelCase{font-size:16vw;margin:0 auto 20px;font-family:Creepster,sans-serif;color:#b3ffb3}.styles__header___3dKzw-camelCase,.styles__winText___ZENUl-camelCase{text-align:center;text-shadow:2px 2px 8px grey;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__winText___ZENUl-camelCase{font-size:2.7vw;width:95%;margin:0 auto;font-family:Nunito,sans-serif;color:#fff;font-weight:700}.styles__endButton___1FJT_-camelCase{font-size:5vw;width:25%;margin:20px auto 0;text-align:center;font-family:Creepster,sans-serif;text-shadow:2px 2px 8px grey;color:#b3ffb3;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;transition:.2s}.styles__endButton___1FJT_-camelCase:focus,.styles__endButton___1FJT_-camelCase:hover{transform:scale(1.05)}@media only screen and (max-width:700px){.styles__header___3dKzw-camelCase{font-size:100px}.styles__winText___ZENUl-camelCase{font-size:24px}.styles__endButton___1FJT_-camelCase{font-size:60px;width:250px}}',""]),t.locals={container:"styles__container___Fi8YC-camelCase",fadeIn:"styles__fadeIn___L7JaM-camelCase",header:"styles__header___3dKzw-camelCase",winText:"styles__winText___ZENUl-camelCase",endButton:"styles__endButton___1FJT_-camelCase"}}}]);