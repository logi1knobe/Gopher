(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+FJ6":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ANjH"),i=n("/MKj"),s=n("17x9"),c=n.n(s),l=n("55Ip"),u=n("4HzQ"),f=n("1F66"),d=n.n(f),p=n("+3eq"),m=n("TSYQ"),h=n.n(m),y=n("wd/R"),g=n.n(y),v=(n("RiPy"),n("HbJ1")),b=n("+xn+"),_=n("VgyX"),w=n("kQZX"),x=n("qFIf"),k=n("XTAU"),j=n("ca/f"),E=n("Xst1"),C=n.n(E),O=n("67XC"),S=n.n(O),T=n("0oXL"),I=n("IIec"),N=n("5BnW"),L=n("74sb"),P=n("28sW");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U(r.key),r)}}function U(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y="https://media.blooket.com/image/upload/v1669320496/Media/defense/liveDamageIcon.svg",V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(i,e);var t,n,r,o=F(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={timer:"00:00",players:[],alerts:[],totalDmg:0,muted:!!e.host&&e.host.muted,userToBlock:""},t.ok=!1,t.alertContainer=a.a.createRef(),t.getClients=t.getClients.bind(J(t)),t.goNext=t.goNext.bind(J(t)),t.addAlert=t.addAlert.bind(J(t)),t.scrollToBottom=t.scrollToBottom.bind(J(t)),t.changeMuted=t.changeMuted.bind(J(t)),t.blockUser=t.blockUser.bind(J(t)),t.audio=new Audio(I.a),t.audio.muted=t.state.muted,t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.props.host&&this.props.host.settings){if(this.audio.volume=.2,this.audio.play(),this.audio.addEventListener("ended",(function(){e.audio.currentTime=0,e.audio.play()}),!1),this.props.liveGameController.setStage({stage:"defense2"}),this.getClients(!1),"Time"===this.props.host.settings.mode){var t=60*this.props.host.settings.amount,n=4;this.setState({timer:g.a.duration(t,"seconds").format("mm:ss")}),this.timerInterval=setInterval((function(){t-=1,e.setState({timer:g.a.duration(t,"seconds").format("mm:ss")}),t<=0?(e.getClients(!0),clearInterval(e.timerInterval)):0===n?(e.getClients(!1),n=4):n-=1}),1e3)}else this.clientsInterval=setInterval((function(){e.getClients(!1)}),4e3);this.alertContainer=document.querySelector("#alerts")}}},{key:"componentWillUnmount",value:function(){var e=this;clearInterval(this.timerInterval),clearInterval(this.clientsInterval),!this.ok&&this.props.host&&this.props.host.id&&(this.props.liveGameController.removeHostAndDeleteGame(),this.props.deleteHost()),this.audio.currentTime=0,this.audio.pause(),this.audio.removeEventListener("ended",(function(){e.audio.currentTime=0,e.audio.play()}),!1)}},{key:"getClients",value:function(e){var t=this;this.props.liveGameController.getDatabaseVal("c",(function(n){var r=n||{};if(r&&0!==Object.keys(r).length){var a="Amount"===t.props.host.settings.mode,o=!1,i=Object.entries(r).map((function(e){var t=M(e,2),n=t[0],r=t[1];return{name:n,blook:r.b,dmg:r.d||0,round:r.r}}));i.sort((function(e,t){return t.dmg-e.dmg}));for(var s=0,c=0;c<i.length;c++)i[c].place=c+1,s+=Number(i[c].dmg),a&&i[c].dmg>=t.props.host.settings.amount&&(o=!0),i[c].round&&t.addAlert(i[c].name,i[c].blook,"just completed Round ".concat(i[c].round,"!"));o||e?t.goNext(D(i)):t.setState({players:i,totalDmg:s})}else e&&(window.location.href="".concat(P.a.dashboard,"/"))}))}},{key:"goNext",value:function(e){var t=this;this.props.updateStandings(e);var n=e.map((function(e){return{n:e.name,b:e.blook,d:e.dmg,p:e.place}}));this.props.liveGameController.setVal({path:"st",val:n},(function(){t.props.liveGameController.setStage({stage:"fin"},(function(){t.ok=!0,t.props.history.push("/host/defense2/final")}))}))}},{key:"addAlert",value:function(e,t,n,r){var a=this,o=[].concat(D(this.state.alerts),[{name:e,blook:t,msg:n,info:r}]),i=Array.from(new Set(o.map((function(e){return"".concat(e.name," ").concat(e.msg)})))).map((function(e){return o.find((function(t){return"".concat(t.name," ").concat(t.msg)===e}))}));i.length>15&&i.splice(0,1),this.setState({alerts:i},(function(){return a.scrollToBottom()}))}},{key:"scrollToBottom",value:function(){this.alertContainer.scrollTop=this.alertContainer.scrollHeight}},{key:"changeMuted",value:function(){var e=this;this.setState({muted:!this.state.muted},(function(){e.audio.muted=e.state.muted,e.props.setMuted(e.state.muted)}))}},{key:"blockUser",value:function(){var e=this.state.userToBlock,t=JSON.parse(JSON.stringify(this.state.players)),n=t.map((function(e){return e.name})).indexOf(e),r=t.length;-1!==n&&(r=t[n].place,t.splice(n,1)),t=t.map((function(e){return R(R({},e),{},{place:e.place>r?e.place-1:e.place})})),this.setState({players:t,userToBlock:""}),this.props.liveGameController.blockUser(e)}},{key:"render",value:function(){var e=this;if(this.props.host&&this.props.host.settings)return a.a.createElement("div",{className:h()(C.a.body,S.a.background),style:{overflow:"hidden"}},a.a.createElement(k.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),a.a.createElement(w.a,{left:"Blooket",center:"Time"===this.props.host.settings.mode?this.state.timer:"Goal: ".concat(Object(L.n)(this.props.host.settings.amount)),right:this.props.host.settings.lateJoin?"ID: ".concat(this.props.host.id):"",muted:this.state.muted,changeMuted:this.changeMuted,onRightClick:function(){return e.getClients(!0)}}),a.a.createElement("div",{className:C.a.hostRegularBody},a.a.createElement(d.a,{data:this.state.players,keyAccessor:function(e){return e.name},start:function(e){return{x:-60,y:12.5*(e.place-1)}},enter:function(e){return{x:[0],y:[12.5*(e.place-1)],timing:{duration:1e3,ease:p.a}}},update:function(e){return{x:[0],y:[12.5*(e.place-1)],timing:{duration:500,ease:p.a}}},leave:function(){return{x:[-60],timing:1e3}}},(function(t){return a.a.createElement("div",{className:h()(S.a.left,S.a.invisibleScrollbar)},t.map((function(t){var n=t.key,r=t.data,o=t.state,i=o.x,s=o.y;return a.a.createElement("div",{key:n,style:{opacity:e.state.userToBlock===r.name?.4:null,transform:"translate(".concat(i,"vw, ").concat(s,"vh)")},className:S.a.standingContainer,role:"button",tabIndex:0,onClick:function(){return e.setState({userToBlock:r.name})}},a.a.createElement("div",{className:S.a.standingBorderLeft}),a.a.createElement("div",{className:S.a.standingBorderRight}),a.a.createElement("div",{className:S.a.standingTopBottom}),a.a.createElement("div",{className:S.a.standingLongTexture}),a.a.createElement("div",{className:S.a.standingInside},a.a.createElement(u.Textfit,{className:S.a.placeText,mode:"single",forceSingleModeWidth:!1,min:1,max:Object(L.A)("5vw")},r.place),a.a.createElement("div",{className:S.a.superPlaceText},Object(L.h)(r.place)),a.a.createElement(T.a,{name:r.blook,className:S.a.blookBox}),a.a.createElement(u.Textfit,{className:S.a.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:Object(L.A)("4vw")},r.name),a.a.createElement("div",{className:S.a.dmgContainer},a.a.createElement(u.Textfit,{className:S.a.dmgText,mode:"single",forceSingleModeWidth:!1,min:1,max:Object(L.A)("5vw")},r.dmg<1e4?Object(L.n)(r.dmg):Object(L.u)(r.dmg)),a.a.createElement("img",{src:Y,alt:"Damage",className:S.a.dmgIcon,draggable:!1}))))})))})),a.a.createElement("div",{className:S.a.chatroom},a.a.createElement("div",{className:S.a.standingBorderLeft}),a.a.createElement("div",{className:S.a.standingBorderRight}),a.a.createElement("div",{className:S.a.standingTopBottom}),a.a.createElement("div",{className:S.a.standingLongTexture,style:{backgroundSize:"calc(55vw + 20px)"}}),a.a.createElement("div",{className:h()(S.a.chatroomInside,S.a.invisibleScrollbar),id:"alerts"},this.state.alerts[0]?this.state.alerts.map((function(t){return a.a.createElement(x.a,{key:e.state.alerts.indexOf(t),name:t.name,blook:t.blook,message:t.msg,glitchInfo:t.info,night:!0})})):a.a.createElement("div",{className:S.a.noAlerts},a.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669320494/Media/defense/attackTimeIcon.svg",alt:"Waiting",className:S.a.noAlertsIcon,draggable:!1}),a.a.createElement("div",{className:S.a.noAlertsText},"Waiting To Party...")))),a.a.createElement("div",{className:S.a.totalDmgContainer},a.a.createElement("div",{className:S.a.standingBorderLeft}),a.a.createElement("div",{className:S.a.standingBorderRight}),a.a.createElement("div",{className:S.a.standingTopBottom}),a.a.createElement("div",{className:S.a.standingLongTexture,style:{backgroundSize:"50vw"}}),a.a.createElement("div",{className:S.a.totalDmgInside},a.a.createElement("div",{className:S.a.totalDmgText},Object(L.n)(this.state.totalDmg)),a.a.createElement("img",{src:Y,alt:"Damage",className:S.a.totalDmgIcon,draggable:!1})))),this.state.userToBlock?a.a.createElement(j.a,{text:"Remove ".concat(this.state.userToBlock," from the game?"),buttonOne:{text:"Yes",click:this.blockUser,color:"red"},buttonTwo:{text:"No",click:function(){return e.setState({userToBlock:""})},color:"blue"}}):null);window.location.href="".concat(P.a.dashboard,"/")}}])&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.a.Component);V.propTypes={host:c.a.object,liveGameController:c.a.object,history:c.a.object,updateStandings:c.a.func.isRequired,deleteHost:c.a.func.isRequired,setMuted:c.a.func.isRequired};t.a=Object(l.f)(Object(i.b)((function(e){return{host:e.hosts.host}}),(function(e){return Object(o.b)({updateStandings:b.b,deleteHost:_.d,setMuted:v.a},e)}))(Object(N.d)(V)))},"+gXi":function(e,t,n){"use strict";n.d(t,"b",(function(){return W}));var r=n("q1tI"),a=n.n(r),o=n("ANjH"),i=n("/MKj"),s=n("17x9"),c=n.n(s),l=n("55Ip"),u=n("H1WH"),f=n("TSYQ"),d=n.n(f),p=n("oPOS"),m=n("vTRD"),h=n("L1pz"),y=n("zUlG"),g=n("Xst1"),v=n.n(g),b=n("yWkK"),_=n.n(b),w=n("Rnav"),x=n("XTAU"),k=n("E8Bj"),j=n("ca/f"),E=n("2ZNs"),C=n("dLfW"),O=n("sfIM"),S=n("74sb"),T=n("mte7"),I=n("t3SV"),N=n("28sW");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */A=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),s=new E(a||[]);return r(i,"_invoke",{value:w(e,n,s)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function d(){}function p(){}function m(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t((function(a,i){!function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==L(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return O()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(_.prototype),c(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,s,"next",e)}function s(e){M(o,r,a,i,s,"throw",e)}i(void 0)}))}}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function H(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}function U(e,t){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var a=J(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W={easy:{name:"Easy",img:"https://media.blooket.com/image/upload/v1676146040/Media/defense/difficulties/difficulty_1.svg",width:"65%"},normal:{name:"Normal",img:"https://media.blooket.com/image/upload/v1676146040/Media/defense/difficulties/difficulty_2b.svg",width:"75%"},hard:{name:"Hard",img:"https://media.blooket.com/image/upload/v1676146040/Media/defense/difficulties/difficulty_3.svg",width:"95%"},nightmare:{name:"Nightmare",img:"https://media.blooket.com/image/upload/v1676146040/Media/defense/difficulties/difficulty_4b.svg",width:"100%"}},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(f,e);var t,n,r,o,i,s,c,l=Q(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=l.call(this,e)).state={questions:[],ready:!1,warn:!1,loggedIn:!1,stage:"start",mapName:"",savesArray:[null,null,null],loading:!1,replaceIndex:0,name:"",nameUsed:"",numCorrect:0,numQuestions:0,round:0,message:"",showFinal:!1,standings:[],noId:!1,noIdPopUp:!1,noQuestions:!1,newIndex:-1},t.redirect=!1,t.name="",t.working=!0,t.here=!0,t.loadGame=t.loadGame.bind(X(t)),t.newGame=t.newGame.bind(X(t)),t.endGame=t.endGame.bind(X(t)),t}return t=f,(n=[{key:"componentDidMount",value:(c=q(A().mark((function e(){var t,n,r=this;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setDefense2(null),e.next=3,this.props.user.getData();case 3:(t=e.sent)?(this.name=t.name,this.setState({loggedIn:!0}),this.working=!1,n=Object(S.d)(),I.a.get("/api/defenses2/byuser",{params:{t:n}}).then((function(e){r.here&&r.setState({isSave:e.data.success&&!(r.props.client&&r.props.client.hwId&&r.props.client.questions),savesArray:e.data.success?e.data.savesArray:[null,null,null]},(function(){r.working=!1}))})).catch((function(e){p.b.logError(e)}))):this.setState({notLoggedIn:!0}),this.props.client&&this.props.client.hwId&&this.props.client.questions?(this.working=!1,this.setState({questions:this.props.client.questions||[],ready:!0})):this.props.id?I.a.get("/api/gamequestionsets",{params:{gameId:this.props.id}}).then((function(e){r.here&&r.setState({questions:e.data.questions.map((function(e){return G(G({},e),{},{image:e.image?e.image.url:null,audio:e.audio?e.audio.url:null})})),ready:!0})})).catch((function(e){p.b.logError(e)})):this.setState({noId:!0,ready:!0});case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.here=!1}},{key:"loadGame",value:(s=q(A().mark((function e(t){var n,r,a,o=this;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.ready&&!this.working){e.next=2;break}return e.abrupt("return");case 2:if(this.working=!0,n=this.state.savesArray[t],r=[],a=!1,!n.setId){e.next=15;break}if(!this.state.noId){e.next=12;break}return e.next=10,new Promise((function(e){I.a.get("/api/gamequestionsets",{params:{gameId:n.setId}}).then((function(t){t.data?r=t.data.questions.map((function(e){return G(G({},e),{},{image:e.image?e.image.url:null,audio:e.audio?e.audio.url:null})})):a=!0,e()})).catch((function(t){a=!0,p.b.logError(t),e()}))}));case 10:e.next=13;break;case 12:r=this.state.questions;case 13:e.next=17;break;case 15:return e.next=17,new Promise((function(e){I.a.get("/api/homeworks/byid",{params:{id:n.hwId}}).then((function(t){t.data?r=t.data.questions.map((function(e){return G(G({},e),{},{question:e.text})})):o.state.noId?a=!0:r=o.state.questions,e()})).catch((function(t){o.state.noId?a=!0:r=o.state.questions,p.b.logError(t),e()}))}));case 17:if(!a){e.next=21;break}return this.setState({noIdPopUp:!0,noQuestions:!0}),this.working=!1,e.abrupt("return");case 21:n.hwName&&this.props.addClientName(n.hwName),this.props.setDefense2(G(G({},this.props.defense),{},{defenseId:n._id,setId:n.setId,resultId:n.resultId,hwId:n.hwId,hwGoal:n.hwGoal,plus:n.hwPlus,questions:r,map:n.map,difficulty:n.difficulty,towers:n.towers,unlockedTowers:n.unlockedTowers,health:n.health,round:n.round,coins:n.coins,stage:"defense",corrects:n.corrects,incorrects:n.incorrects})),this.props.history.push("/play/defense2");case 24:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"newGame",value:(i=q(A().mark((function e(t){var n,r,a=this;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.ready&&!this.working){e.next=2;break}return e.abrupt("return");case 2:if(this.working=!0,n="",!this.props.client||!this.props.client.hwId){e.next=7;break}return e.next=7,new Promise((function(e,t){var r=Object(S.d)();I.a.post("/api/results",{t:r,data:{corrects:{},incorrects:{},round:1,alive:!0}}).then((function(t){n=t.data.id||t.data._id,e()})).catch((function(e){p.b.logError(e),t()}))}));case 7:if(r={},!this.name){e.next=12;break}return e.next=11,new Promise((function(e,r){var o=Object(S.d)();I.a.post("/api/defenses2",{t:o,setId:a.props.id,name:a.name,hwId:a.props.client&&a.props.client.hwId?a.props.client.hwId:null,hwName:a.props.client&&a.props.client.name?a.props.client.name:null,hwPlus:!(!a.props.client||!a.props.client.plus)&&a.props.client.plus,hwGoal:a.props.client&&a.props.client.amount?a.props.client.amount:0,saveIndex:a.state.newIndex,resultId:n,map:a.state.mapName,difficulty:t}).then((function(t){e(t.data)})).catch((function(e){p.b.logError(e),r()}))}));case 11:r=e.sent;case 12:if(this.props.setDefense2(G(G({},this.props.defense),{},{defenseId:r.newSaveId,setId:this.props.id,resultId:n,hwId:this.props.client&&this.props.client.hwId?this.props.client.hwId:null,hwGoal:this.props.client&&this.props.client.amount?this.props.client.amount:null,questions:this.state.questions,map:this.state.mapName,difficulty:t,unlockedTowers:[],towers:[],health:100,round:1,coins:50,stage:"defense",corrects:{},incorrects:{}})),!r.oldSave||!r.oldSave.map){e.next=18;break}return e.next=16,this.endGame(r.oldSave);case 16:e.next=19;break;case 18:this.props.history.push("/play/defense2");case 19:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"endGame",value:(o=q(A().mark((function e(t){var n,r,a,o,i,s,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if(n=e.sent,this.here){e.next=5;break}return e.abrupt("return");case 5:r=t.hwName||"You",a=0,o=0,Object.values(t.corrects).forEach((function(e){a+=e,o+=e})),Object.values(t.incorrects).forEach((function(e){o+=e})),i=Math.max(1,30-(t.round-1)),s=Object(S.o)(O.b),c=Object(S.d)(),I.a.put("/api/users/defense2stats/solo",{t:c,name:this.name,place:i,round:t.round,blookUsed:s,nameUsed:r,correctAnswers:a}).catch((function(e){p.b.logError(e)})),this.setState({warn:!1,name:this.name,nameUsed:r,numCorrect:a,numQuestions:o,message:Object(C.a)((i-1)/30),ready:!0,round:t.round-1,standings:[{name:r,blook:s,place:i,round:t.round-1}],showFinal:!0,plus:"Starter"!==n.plan});case 15:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(this.props.client&&this.props.client.hwId?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),!this.redirect&&(!this.state.ready||this.state.questions&&0!==this.state.questions.length||this.state.noId))return a.a.createElement("div",{className:d()(u.isMobile?v.a.mBody:v.a.body,_.a.background)},a.a.createElement(x.a,{title:"Load Tower Defense 2 | Blooket",desc:"Start a new game or load a saved game of Blooket's Tower Defense 2."}),a.a.createElement(w.a,{noRight:!0}),"saves"===this.state.stage?a.a.createElement("div",{className:v.a.regularBody},a.a.createElement("div",{className:_.a.backButton,role:"button",tabIndex:0,onClick:function(){return e.setState({stage:"start",loading:!1})}},"Back"),a.a.createElement("div",{className:_.a.header},a.a.createElement("div",{className:_.a.saveBorderLeft}),a.a.createElement("div",{className:_.a.saveBorderRight}),a.a.createElement("div",{className:_.a.saveTopBottom}),a.a.createElement("div",{className:_.a.longTexture}),a.a.createElement("div",{className:_.a.headerText},this.state.loading?"Choose a Save":"Choose a Save Slot")),a.a.createElement("div",{className:_.a.savesHolder},this.state.savesArray.map((function(t,n){return t?a.a.createElement("div",{className:_.a.saveContainer,key:t._id},a.a.createElement("div",{className:_.a.saveBorderLeft}),a.a.createElement("div",{className:_.a.saveBorderRight}),a.a.createElement("div",{className:_.a.saveTopBottom}),a.a.createElement("div",{className:_.a.saveTexture}),a.a.createElement("div",{className:_.a.saveTexture2}),a.a.createElement("div",{className:_.a.saveContainerInside},a.a.createElement("div",{className:_.a.saveTitle},"Round ".concat(t.round)),a.a.createElement("div",{className:_.a.saveRow},"".concat(Object(S.n)(t.coins)),a.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1673468297/Media/defense/sellIcon2.svg",alt:"Coins",className:_.a.saveIcon,draggable:!1})),a.a.createElement("div",{className:_.a.saveRow},T.a[t.map].name,a.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669320496/Media/defense/mapIcon.svg",alt:"Map",className:_.a.saveIcon,draggable:!1})),a.a.createElement("div",{className:_.a.saveRow},"".concat(t.difficulty.charAt(0).toUpperCase()).concat(t.difficulty.slice(1)),a.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669320496/Media/defense/liveDamageIcon.svg",alt:"HW",className:_.a.saveIcon,draggable:!1})),a.a.createElement("div",{className:_.a.saveRow},a.a.createElement("div",{className:_.a.healthBar},a.a.createElement("div",{className:_.a.healthBarInside,style:{transform:"scaleX(".concat(t.health/100,")")}},a.a.createElement("div",{className:_.a.healthBarInsideShadow}))),a.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669320494/Media/defense/healthIcon.svg",alt:"Health",className:_.a.saveIcon,draggable:!1})),a.a.createElement("div",{className:_.a.loadButton,role:"button",tabIndex:0,onClick:e.state.loading?function(){return e.loadGame(n)}:e.state.noId?function(){return e.setState({noIdPopUp:!0})}:function(){return e.setState({warn:!0,replaceIndex:n})}},e.state.loading?"Load Game":"Replace"))):a.a.createElement("div",{className:_.a.saveContainer,key:n},a.a.createElement("div",{className:_.a.saveBorderLeft}),a.a.createElement("div",{className:_.a.saveBorderRight}),a.a.createElement("div",{className:_.a.saveTopBottom}),a.a.createElement("div",{className:_.a.saveTexture}),a.a.createElement("div",{className:_.a.saveTexture2}),a.a.createElement("div",{className:_.a.saveContainerInside},a.a.createElement("div",{className:_.a.emptySave},"Empty"),e.state.loading?null:a.a.createElement("div",{className:_.a.loadButton,role:"button",tabIndex:0,onClick:e.state.noId?function(){return e.setState({noIdPopUp:!0})}:function(){return e.setState({newIndex:n,stage:"map"})}},"New Game")))})))):"start"===this.state.stage?a.a.createElement("div",{className:v.a.regularBody},a.a.createElement("div",{className:_.a.contentHolder},a.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1676079918/Media/logos/Tower_Defense_2_Logo_Resize.png",alt:"Tower Defense 2",className:_.a.logo,draggable:!1}),a.a.createElement("div",{className:_.a.buttonContainer},this.state.isSave?a.a.createElement("div",{className:_.a.button,role:"button",tabIndex:0,onClick:function(){return e.setState({stage:"saves",loading:!0})}},"Load Game"):null,a.a.createElement("div",{className:_.a.button,role:"button",tabIndex:0,onClick:this.state.loggedIn?function(){return e.setState({stage:"saves",loading:!1})}:function(){return e.setState({stage:"map"})}},"New Game"))),this.state.loggedIn?a.a.createElement("div",{className:_.a.loginText},"Your progress will automatically be saved"):a.a.createElement("div",{className:_.a.loginText},a.a.createElement("a",{href:"".concat(N.a.id,"/login"),target:"_blank",rel:"noopener noreferrer",style:{color:"#fff"}},"Login")," to save your progress")):"map"===this.state.stage?a.a.createElement("div",{className:v.a.regularBody},a.a.createElement("div",{className:_.a.header},a.a.createElement("div",{className:_.a.saveBorderLeft}),a.a.createElement("div",{className:_.a.saveBorderRight}),a.a.createElement("div",{className:_.a.saveTopBottom}),a.a.createElement("div",{className:_.a.longTexture}),a.a.createElement("div",{className:_.a.headerText},"Choose a Map")),a.a.createElement("div",{className:_.a.mapsHolder},Object.entries(T.a).map((function(t){var n=P(t,2),r=n[0],o=n[1];return a.a.createElement("div",{className:_.a.mapContainer,key:r,role:"button",tabIndex:0,onClick:function(){return e.setState({mapName:r,stage:"difficulty"})}},a.a.createElement("div",{className:_.a.saveBorderLeft}),a.a.createElement("div",{className:_.a.saveBorderRight}),a.a.createElement("div",{className:_.a.saveTopBottom}),a.a.createElement("div",{className:_.a.saveTexture}),a.a.createElement("div",{className:_.a.saveTexture2}),a.a.createElement("div",{className:_.a.mapContainerInside},a.a.createElement("img",{src:o.smallImg,alt:"Map",className:_.a.mapImg,draggable:!1}),a.a.createElement("div",{className:_.a.mapName},o.name),a.a.createElement("div",{className:_.a.mapDifficulty},o.difficulty)))}))),a.a.createElement("div",{style:{height:30}})):"difficulty"===this.state.stage?a.a.createElement("div",{className:v.a.regularBody},a.a.createElement("div",{className:_.a.backButton,role:"button",tabIndex:0,onClick:function(){return e.setState({stage:"map",mapName:""})}},"Back"),a.a.createElement("div",{className:_.a.header},a.a.createElement("div",{className:_.a.saveBorderLeft}),a.a.createElement("div",{className:_.a.saveBorderRight}),a.a.createElement("div",{className:_.a.saveTopBottom}),a.a.createElement("div",{className:_.a.longTexture}),a.a.createElement("div",{className:_.a.headerText},"Choose a Difficulty")),a.a.createElement("div",{className:_.a.mapsHolder},Object.entries(W).map((function(t){var n=P(t,2),r=n[0],o=n[1];return a.a.createElement("div",{className:_.a.difficultyContainer,key:r,role:"button",tabIndex:0,onClick:function(){return e.newGame(r)}},a.a.createElement("div",{className:_.a.saveBorderLeft}),a.a.createElement("div",{className:_.a.saveBorderRight}),a.a.createElement("div",{className:_.a.saveTopBottom}),a.a.createElement("div",{className:_.a.difficultyTexture}),a.a.createElement("div",{className:_.a.difficultyTexture2}),a.a.createElement("div",{className:_.a.mapContainerInside},a.a.createElement("div",{className:_.a.difficultyImgContainer},a.a.createElement("img",{src:o.img,alt:"Difficulty",className:_.a.difficultyImg,draggable:!1,style:{width:o.width}})),a.a.createElement("div",{className:_.a.difficultyName},o.name)))})))):null,this.state.warn?a.a.createElement(j.a,{text:"Starting a new game will delete this save! Don't worry though, we'll give you the coins for your old save right now!",buttonOne:{text:"Continue",click:function(){return e.setState({newIndex:e.state.replaceIndex,stage:"map",warn:!1})},color:"blue"},buttonTwo:{text:"Go Back",click:function(){return e.setState({warn:!1})},color:"blue"}}):this.state.noIdPopUp?a.a.createElement(j.a,{text:this.state.noQuestions?"This save doesn't have an associated question set. Go find a set, click 'Solo', and try again!":"You need a question set to create a new game!",buttonOne:{text:"Find A Set",click:function(){window.location.href="".concat(N.a.dashboard,"/discover")},color:"blue"},buttonTwo:{text:"Go Back",click:function(){return e.setState({noIdPopUp:!1,noQuestions:!1})},color:"blue"}}):this.state.showFinal?a.a.createElement("div",{className:v.a.modal},a.a.createElement(E.a,{standings:this.state.standings,name:this.state.nameUsed,numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.state.plus,myStat:"Survived ".concat(this.state.round," ").concat(1===this.state.round?"Round":"Rounds"),saveStats:this.saveStats,renderStandingStat:function(e){return function(e){return a.a.createElement("div",{className:_.a.stageText},"Round ".concat(e.round))}(e)},renderStats:function(){},customMessage:this.state.message,tokenMultiplier:1.2,buttonFunc:function(){return e.props.history.push("/play/defense2")},noWait:!0})):null);window.location.href="".concat(N.a.id,"/login")}}])&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(a.a.Component);Y.propTypes={client:c.a.object,defense:c.a.object,history:c.a.object.isRequired,id:c.a.string,setDefense2:c.a.func.isRequired,addClientName:c.a.func.isRequired,user:c.a.object};t.a=Object(k.c)(Object(l.f)(Object(i.b)((function(e){return{id:e.hosts.id,client:e.clients.client,defense:e.clients.client?e.clients.client.defense:null}}),(function(e){return Object(o.b)({setDefense2:m.a,addClientName:y.a,addHwClient:h.b},e)}))(Y)))},"67XC":function(e,t,n){var r=n("JQEH");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},"9rsM":function(e,t,n){(t=e.exports=n("JPst")(!1)).push([e.i,".styles__stageText___s2yf4-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;font-family:Nunito,sans-serif;text-align:right;overflow:hidden;display:flex;flex-direction:row;align-items:center}.styles__stageImage___1CJsU-camelCase{height:55%;width:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none}",""]),t.locals={stageText:"styles__stageText___s2yf4-camelCase",stageImage:"styles__stageImage___1CJsU-camelCase"}},CESu:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("55Ip"),i=n("/MKj"),s=n("ANjH"),c=n("17x9"),l=n.n(c),u=n("oPOS"),f=n("5BnW"),d=n("E8Bj"),p=n("ZrUs"),m=n("74sb"),h=n("t3SV"),y=n("VgyX"),g=n("zUlG"),v=n("L1pz");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),s=new O(a||[]);return r(i,"_invoke",{value:k(e,n,s)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function d(){}function p(){}function m(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t((function(a,i){!function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==b(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function k(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return T()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=j(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(x.prototype),c(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function w(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,s,"next",e)}function s(e){w(o,r,a,i,s,"throw",e)}i(void 0)}))}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===b(o)?o:String(o)),r)}var a,o}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(c,e);var t,n,r,a,o,i,s=C(c);function c(){return k(this,c),s.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this,t=Object(m.j)("t");Object(m.y)(t);var n={t:t};h.a.post("/api/playersessions/landings",n).then(function(){var n=x(_().mark((function n(r){var a;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=r.data,n.t0=a.method,n.next="solo"===n.t0?4:"assign"===n.t0?7:"host"===n.t0?10:13;break;case 4:return n.next=6,e.setupAndLaunchSolo(t,a);case 6:return n.abrupt("break",14);case 7:return n.next=9,e.setupAndLaunchHomework(t,a);case 9:return n.abrupt("break",14);case 10:return n.next=12,e.setupAndLaunchHosted(t,a);case 12:return n.abrupt("break",14);case 13:u.b.logError("unknown game method ".concat(a.method));case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(t){u.b.logError(t),e.props.history.goBack()}))}},{key:"setupAndLaunchSolo",value:(i=x(_().mark((function e(t,n){var r,a,o=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.addGameId(n.questionSetId),e.next=4,h.a.get("/api/playersessions/questions",{params:{t:t}});case 4:return r=e.sent,this.props.addQuestions(r.data.questions),e.next=8,this.props.user.getData();case 8:a=e.sent,this.props.login(a.name),setTimeout((function(){o.props.history.replace("/play/defense2/load")}),500),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),u.b.logError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e,t){return i.apply(this,arguments)})},{key:"setupAndLaunchHomework",value:(o=x(_().mark((function e(t,n){var r,a,o,i=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/playersessions/questions",{params:{t:t}});case 3:return r=e.sent,this.props.addQuestions(r.data.questions),this.props.addClientName(n.inGameName),e.next=8,h.a.get("/api/homeworks/byid",{params:{id:n.homeworkId}});case 8:a=e.sent,o=a.data,this.props.setAmountHw(n.homeworkId,o.plus,o.settings.amount,o.settings.type,o.settings.allowAccounts),setTimeout((function(){i.props.history.replace("/play/register")}),500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),u.b.logError(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e,t){return o.apply(this,arguments)})},{key:"setupAndLaunchHosted",value:(a=x(_().mark((function e(t,n){var r,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.c.gameStatus(n.liveGameCode);case 3:r=e.sent,this.props.addClient(n.liveGameCode,r.isPlus,r.isRandomNames),setTimeout((function(){a.props.history.replace("/play/register")}),500),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.b.logError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e,t){return a.apply(this,arguments)})},{key:"render",value:function(){return null}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.a.Component);T.propTypes={login:l.a.func.isRequired,history:l.a.object.isRequired,addGameId:l.a.func.isRequired,addQuestions:l.a.func.isRequired,addClientName:l.a.func.isRequired,setAmountHw:l.a.func.isRequired,user:l.a.object,addClient:l.a.func.isRequired};t.a=Object(d.c)(Object(o.f)(Object(i.b)((function(){return{}}),(function(e){return Object(s.b)({setFactory:p.e,login:p.b,addGameId:y.a,addQuestions:g.b,addClientName:g.a,setAmountHw:v.c,addClient:v.a},e)}))(Object(f.d)(T))))},J1b4:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ANjH"),i=n("/MKj"),s=n("17x9"),c=n.n(s),l=n("55Ip"),u=n("H1WH"),f=n("oPOS"),d=n("ZrUs"),p=n("yRA3"),m=n.n(p),h=n("Xst1"),y=n.n(h),g=n("oQ+7"),v=n("XTAU"),b=n("E8Bj"),_=n("2ZNs"),w=n("pQbs"),x=n("dLfW"),k=n("sfIM"),j=n("74sb"),E=n("5BnW"),C=n("t3SV"),O=n("28sW");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */T=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),s=new E(a||[]);return r(i,"_invoke",{value:w(e,n,s)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function d(){}function p(){}function m(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t((function(a,i){!function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==S(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return O()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=m,r(v,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(_.prototype),c(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function A(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var a=q(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e,t){return t?a.a.createElement("div",{className:m.a.stageText},Object(j.u)(e.dmg),a.a.createElement("img",{src:"https://media.blooket.com/image/upload/v1669320496/Media/defense/liveDamageIcon.svg",alt:"Damage",className:m.a.stageImage,draggable:!1})):a.a.createElement("div",{className:m.a.stageText},"Round ".concat(e.round))},H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(c,e);var t,n,r,o,i,s=G(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={ready:!1,numCorrect:0,numQuestions:0,standings:[],plus:!1,message:"",name:"",nameUsed:"",round:0,isLive:!1,dmg:0,isBlocked:!1},t.here=!0,t.stats={},t.saveStats=t.saveStats.bind(M(t)),t.renderStats=t.renderStats.bind(M(t)),t}return t=c,(n=[{key:"componentDidMount",value:(o=T().mark((function e(){var t,n,r,a,o,i,s,c,l,u,d,p=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.getData();case 2:if((t=e.sent)||this.setState({notLoggedIn:!0}),this.props.defense2&&"final"===this.props.defense2.stage){e.next=6;break}return e.abrupt("return");case 6:if(this.isSolo=!this.props.defense2.isLive,this.isHw=Boolean(this.props.defense2.resultId),this.isSolo||this.isHw||this.props.liveGameController.setVal({path:"c/".concat(this.props.client.name),val:{c:N({},this.props.defense2.corrects),i:N({},this.props.defense2.incorrects)}}),this.isHw&&(n=Object(j.d)(),C.a.put("/api/results",{t:n,data:{corrects:this.props.defense2.corrects,incorrects:this.props.defense2.incorrects,round:Number(this.props.defense2.round),alive:!1}}).catch((function(e){return f.b.logError(e)}))),r=0,a=0,Object.values(this.props.defense2.corrects).forEach((function(e){r+=e,a+=e})),Object.values(this.props.defense2.incorrects).forEach((function(e){a+=e})),o=this.props.client&&this.props.client.blook?this.props.client.blook:Object(j.o)(k.b),i=this.props.client&&this.props.client.name?this.props.client.name:"You",(s=this.props.client&&this.props.client.standing?JSON.parse(JSON.stringify(this.props.client.standing)):[{name:i,blook:o,place:Math.max(1,30-(this.props.defense2.round-1)),round:this.props.defense2.round-1}]).sort((function(e,t){return e.place-t.place})),-1!==(c=s.map((function(e){return e.name})).indexOf(i))){e.next=22;break}return this.setState({isBlocked:!0}),e.abrupt("return");case 22:if(l=s[c].place,this.stats={place:l,round:this.props.defense2.round-1,dmg:s[c].dmg,correctAnswers:r,blookUsed:o,nameUsed:i,playersDefeated:this.props.defense2.isLive?this.props.client.standing.length-l:0},u={numCorrect:r,numQuestions:a,round:this.props.defense2.round-1,message:Object(x.a)((l-1)/30),nameUsed:i,ready:!0,standings:s},!t){e.next=31;break}if(this.saveStats(t.name,(function(){})),this.here){e.next=29;break}return e.abrupt("return");case 29:this.setState(this.props.defense2.isLive?{name:t.name,plus:"Starter"!==t.plan||this.props.client&&this.props.client.plus}:N(N({},u),{},{name:t.name,plus:"Starter"!==t.plan||this.props.client&&this.props.client.plus})),this.props.defense2.defenseId&&(d=Object(j.d)(),C.a.delete("/api/defenses2",{params:{t:d,name:t.name,id:this.props.defense2.defenseId}}).catch((function(e){f.b.logError(e)})));case 31:this.props.defense2.isLive?this.readyTimeout=setTimeout((function(){p.setState({numCorrect:r,numQuestions:a,round:p.props.defense2.round-1,nameUsed:i,ready:!0,standings:s,isLive:!0})}),4750):t||this.setState(u);case 32:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){P(a,n,r,i,s,"next",e)}function s(e){P(a,n,r,i,s,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.deleteClient(),clearTimeout(this.readyTimeout),this.here=!1}},{key:"saveStats",value:function(e,t){var n=Object(j.d)();this.isSolo?C.a.put("/api/users/defense2stats/solo",{t:n,name:e,place:this.stats.place,round:this.stats.round,blookUsed:this.stats.blookUsed,nameUsed:this.stats.nameUsed,correctAnswers:this.stats.correctAnswers}).then(t).catch((function(e){return f.b.logError(e)})):C.a.put("/api/users/defense2stats/live",{t:n,name:e,place:this.stats.place,round:this.stats.round,blookUsed:this.stats.blookUsed,nameUsed:this.stats.nameUsed,correctAnswers:this.stats.correctAnswers,playersDefeated:this.stats.playersDefeated,dmg:this.stats.dmg}).then(t).catch((function(e){return f.b.logError(e)}))}},{key:"renderStats",value:function(){return this.state.dmg?a.a.createElement(w.a,{title:"Damage",stat:Object(j.n)(this.state.dmg)}):null}},{key:"render",value:function(){if(this.props.defense2&&(this.props.defense2.hwId||this.props.defense2&&this.props.defense2.isLive)?this.redirect=!1:this.state.notLoggedIn&&(this.redirect=!0),this.redirect||!this.props.defense2||"final"!==this.props.defense2.stage||!this.props.defense2.questions||!this.props.defense2.questions[0])return window.location.href="".concat(O.a.play,"/play"),null;var e=this.props.client&&this.props.client.hwId;return a.a.createElement("div",{className:u.isMobile?y.a.mBody:y.a.body,style:{backgroundColor:"#0bc2cf"}},a.a.createElement(v.a,{title:"Play Tower Defense | Blooket",desc:"Answer questions to build and upgrade towers that will defend against oncoming waves of Evil Blooks."}),a.a.createElement(g.a,{noRight:!e,rightText:"Play Again",rightLink:"".concat(O.a.play,"/play")}),this.state.ready?this.state.isLive?a.a.createElement(_.a,{standings:this.state.standings,name:this.props.client.name||"You",numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.props.client.plus,myStat:"Survived ".concat(this.state.round," ").concat(1===this.state.round?"Round":"Rounds"),saveStats:this.saveStats,renderStandingStat:function(e){return z(e,!0)},renderStats:this.renderStats,corrects:this.props.defense2.corrects,incorrects:this.props.defense2.incorrects,questions:this.props.defense2.questions,blockAccounts:!this.props.client.allowAccounts,tokenMultiplier:1.05}):a.a.createElement(_.a,{standings:this.state.standings,name:this.state.nameUsed,numCorrect:this.state.numCorrect,numQuestions:this.state.numQuestions,username:this.state.name,plus:this.state.plus,myStat:"Survived ".concat(this.state.round," ").concat(1===this.state.round?"Round":"Rounds"),saveStats:this.saveStats,renderStandingStat:function(e){return z(e,!1)},renderStats:this.renderStats,customMessage:this.state.message,corrects:this.props.defense2.corrects,incorrects:this.props.defense2.incorrects,questions:this.props.defense2.questions,blockAccounts:!this.props.client||!this.props.client.allowAccounts,tokenMultiplier:1.05}):null,this.state.isBlocked?a.a.createElement("div",{className:y.a.blockedText},"You were blocked from this game."):null)}}])&&B(t.prototype,n),r&&B(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.a.Component);H.propTypes={client:c.a.object,defense2:c.a.object,liveGameController:c.a.object,deleteClient:c.a.func.isRequired,user:c.a.object};t.a=Object(b.c)(Object(l.f)(Object(i.b)((function(e){return{client:e.clients.client,defense2:e.clients.client?e.clients.client.defense2:null}}),(function(e){return Object(o.b)({deleteClient:d.a},e)}))(Object(E.d)(H))))},JQEH:function(e,t,n){(t=e.exports=n("JPst")(!1)).push([e.i,".styles__background___1b7qh-camelCase{background-image:url(https://media.blooket.com/image/upload/v1676164454/Media/defense/backgroundTd1-02.svg);background-size:cover}.styles__left___3lgcq-camelCase{height:85%;top:6%;padding:1.5% 1.25vw;left:2.5vw;overflow-y:auto}.styles__left___3lgcq-camelCase,.styles__standingContainer___GjIHa-camelCase{position:absolute;width:35vw}.styles__standingContainer___GjIHa-camelCase{height:10vh;box-sizing:border-box;padding:7px 0;background-color:#af4a2c;text-shadow:0 3px rgba(0,0,0,.2);display:flex;flex-direction:row;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:opacity .2s,transform .2s}.styles__standingContainer___GjIHa-camelCase:hover{opacity:.4}.styles__standingInside___3mjRj-camelCase{width:100%;height:100%;position:relative;display:flex;flex-direction:row;justify-content:space-between}.styles__standingBorderLeft___3VFQD-camelCase,.styles__standingBorderRight___KYsjb-camelCase{position:absolute;top:0;right:-5px;width:50px;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-image:url(https://media.blooket.com/image/upload/v1670964043/Media/defense/woodBorder3.png);background-size:50px auto;background-repeat:repeat-y}.styles__standingBorderRight___KYsjb-camelCase{right:unset;left:-5px;transform:rotateY(180deg)}.styles__standingTopBottom___18b7Z-camelCase{border-top:3px solid #3d1422;border-bottom:3px solid #3d1422;box-sizing:border-box}.styles__standingLongTexture___PhyQn-camelCase,.styles__standingTopBottom___18b7Z-camelCase{position:absolute;top:0;left:0;width:100%;height:100%}.styles__standingLongTexture___PhyQn-camelCase{-webkit-user-select:none;-moz-user-select:none;user-select:none;mix-blend-mode:multiply;background-image:url(https://media.blooket.com/image/upload/v1676337831/Media/defense/woodGrainTexMultiplyLong.svg);background-size:35vw}.styles__placeText___Xa7c0-camelCase{padding:.5vh 0 1vh .5vw;min-width:2.5vw;height:8.5vh;display:flex;flex-direction:row;justify-content:flex-end;align-items:center;text-align:right}.styles__placeText___Xa7c0-camelCase,.styles__superPlaceText___pACXz-camelCase{color:#fff;font-family:Titan One,sans-serif;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__superPlaceText___pACXz-camelCase{text-align:left;width:1.4vw;font-size:1.4vw;margin-top:4px;margin-left:1px}.styles__blookBox___1kRg2-camelCase{margin-left:1vw;width:6.25vh;height:7.1875vh;margin-top:.40625vh;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__nameText___3nTJn-camelCase{font-weight:700;color:#fff;line-height:6vh;padding:1vh 1vw;font-family:Nunito,sans-serif;text-align:left;flex-grow:1}.styles__dmgContainer___2BJCE-camelCase{height:6vh;margin:1vh 1vw;display:flex;flex-direction:row;align-items:center;justify-content:flex-end}.styles__dmgText___1oTCk-camelCase{width:6.5vw;height:6vh;color:#fff;font-family:Nunito,sans-serif;text-align:right}.styles__dmgIcon___3NWBG-camelCase{height:60%;margin-left:.75vw;-webkit-user-select:none;-moz-user-select:none;user-select:none}.styles__chatroom___37Lsm-camelCase{width:55vw;height:calc(65% - 30px);position:absolute;left:42.5vw;top:7.5%;background-color:#af4a2c;border-radius:8px;padding:10px}.styles__chatroomInside___2rAQz-camelCase{position:relative;width:100%;height:100%;box-sizing:border-box;overflow:hidden;overflow-y:scroll;padding:15px 0;text-shadow:0 3px rgba(0,0,0,.2)}.styles__invisibleScrollbar___X1Rs2-camelCase::-webkit-scrollbar{display:none}.styles__noAlerts___2PJ8m-camelCase{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-content:center;text-align:center;color:#fff}.styles__noAlertsIcon___19ie2-camelCase{width:12vw;margin:0 auto 2vh}.styles__noAlertsText___3pb-u-camelCase{font-family:Titan One,sans-serif;font-size:3vw;text-shadow:0 4px rgba(0,0,0,.2)}.styles__totalDmgContainer___ALgJo-camelCase{background-color:#af4a2c;padding:10px;border-radius:6px;position:absolute;left:45vw;top:80%;width:50vw;height:15%}.styles__totalDmgContainer___ALgJo-camelCase,.styles__totalDmgInside___1WmXy-camelCase{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;justify-content:center}.styles__totalDmgInside___1WmXy-camelCase{position:relative;width:100%;height:100%}.styles__totalDmgText___Q4LsK-camelCase{color:#fff;font-family:Titan One,sans-serif;font-size:4vw;text-shadow:0 4px rgba(0,0,0,.2)}.styles__totalDmgIcon___2a5Wc-camelCase{height:60%;width:auto;margin-left:1.5vw;-webkit-user-select:none;-moz-user-select:none;user-select:none}",""]),t.locals={background:"styles__background___1b7qh-camelCase",left:"styles__left___3lgcq-camelCase",standingContainer:"styles__standingContainer___GjIHa-camelCase",standingInside:"styles__standingInside___3mjRj-camelCase",standingBorderLeft:"styles__standingBorderLeft___3VFQD-camelCase",standingBorderRight:"styles__standingBorderRight___KYsjb-camelCase",standingTopBottom:"styles__standingTopBottom___18b7Z-camelCase",standingLongTexture:"styles__standingLongTexture___PhyQn-camelCase",placeText:"styles__placeText___Xa7c0-camelCase",superPlaceText:"styles__superPlaceText___pACXz-camelCase",blookBox:"styles__blookBox___1kRg2-camelCase",nameText:"styles__nameText___3nTJn-camelCase",dmgContainer:"styles__dmgContainer___2BJCE-camelCase",dmgText:"styles__dmgText___1oTCk-camelCase",dmgIcon:"styles__dmgIcon___3NWBG-camelCase",chatroom:"styles__chatroom___37Lsm-camelCase",chatroomInside:"styles__chatroomInside___2rAQz-camelCase",invisibleScrollbar:"styles__invisibleScrollbar___X1Rs2-camelCase",noAlerts:"styles__noAlerts___2PJ8m-camelCase",noAlertsIcon:"styles__noAlertsIcon___19ie2-camelCase",noAlertsText:"styles__noAlertsText___3pb-u-camelCase",totalDmgContainer:"styles__totalDmgContainer___ALgJo-camelCase",totalDmgInside:"styles__totalDmgInside___1WmXy-camelCase",totalDmgText:"styles__totalDmgText___Q4LsK-camelCase",totalDmgIcon:"styles__totalDmgIcon___2a5Wc-camelCase"}},c2wj:function(e,t,n){(t=e.exports=n("JPst")(!1)).push([e.i,".styles__background___3TX-e-camelCase{background-image:url(https://media.blooket.com/image/upload/v1676164454/Media/defense/backgroundTd1-02.svg);background-size:cover}.styles__contentHolder___AgduQ-camelCase{display:flex;flex-direction:column;position:absolute;left:5%;top:50%;transform:translateY(-50%)}.styles__logo___1guNh-camelCase{width:90vw;max-width:370px;margin-bottom:20px}.styles__buttonContainer___1erwS-camelCase{display:flex;flex-flow:column;align-items:flex-start}.styles__button___1ZesM-camelCase{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:32px;color:#fff;font-family:Titan One,sans-serif;text-shadow:0 4px #2e4082;width:240px;height:80.36697px;background-image:url(https://media.blooket.com/image/upload/v1669333771/Media/defense/nextButton.svg);background-size:100%;padding-bottom:4px;margin:10px auto 0;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__button___1ZesM-camelCase:hover{transform:scale(.95)}.styles__loginText___2c0kN-camelCase{position:absolute;bottom:1%;left:50%;transform:translateX(-50%);text-align:center;font-size:18px;font-family:Nunito,sans-serif;text-shadow:2px 2px 8px grey;color:#fff;padding:7px 10px}.styles__header___1y44s-camelCase{padding:10px 0 20px;width:700px;margin:80px auto 50px;display:flex;justify-content:center;align-items:center;background-color:#af4a2c;text-align:center;font-family:Titan One,sans-serif;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative}.styles__headerText___ekwtF-camelCase{position:relative;font-size:72px;line-height:77px;color:#fff;text-shadow:0 4px rgba(0,0,0,.2)}.styles__savesHolder___1PFjX-camelCase{width:90%;margin:5px 5%;display:flex;flex-flow:row wrap;justify-content:space-evenly;align-items:center}.styles__saveContainer___3Zzje-camelCase{color:#fff;margin:15px 20px;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;padding:10px 0;box-sizing:border-box;background-color:#af4a2c;width:300px;height:320px;text-shadow:0 2px rgba(0,0,0,.2)}.styles__saveContainerInside___2ojcs-camelCase{position:relative;display:flex;flex-direction:column;justify-content:center;width:80%;height:100%;margin:auto}.styles__saveBorderLeft___2qLhM-camelCase,.styles__saveBorderRight___1S2b2-camelCase{position:absolute;top:0;right:-5px;width:50px;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-image:url(https://media.blooket.com/image/upload/v1670964043/Media/defense/woodBorder3.png);background-size:50px auto;background-repeat:repeat-y}.styles__saveBorderRight___1S2b2-camelCase{right:unset;left:-5px;transform:rotateY(180deg)}.styles__saveTopBottom___Hf7Zv-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;border-top:3px solid #3d1422;border-bottom:3px solid #3d1422;box-sizing:border-box}.styles__difficultyTexture___2In42-camelCase,.styles__difficultyTexture2___3HlQL-camelCase,.styles__longTexture___3_I7n-camelCase,.styles__saveTexture___G5JTc-camelCase,.styles__saveTexture2___29HJW-camelCase{position:absolute;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;mix-blend-mode:multiply;background-image:url(https://media.blooket.com/image/upload/v1669333770/Media/defense/woodGrainTexMultiply.svg);background-size:300px 300px}.styles__difficultyTexture2___3HlQL-camelCase,.styles__saveTexture2___29HJW-camelCase{background-image:url(https://media.blooket.com/image/upload/v1670461093/Media/defense/woodDentsTex2.svg);mix-blend-mode:normal}.styles__longTexture___3_I7n-camelCase{background-image:url(https://media.blooket.com/image/upload/v1676337831/Media/defense/woodGrainTexMultiplyLong.svg);background-size:700px}.styles__saveTitle___1hPCd-camelCase{font-weight:700;font-size:42px;line-height:45px;text-shadow:0 4px rgba(0,0,0,.2)}.styles__saveRow___2tRsU-camelCase{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;width:100%;margin:5px auto;font-size:22px;height:25px}.styles__saveIcon___2jxer-camelCase{width:26px;margin-left:7px}.styles__healthBar___1pbEj-camelCase{background-color:#6c2811;width:190px;height:30px;border-radius:10px;padding:5px 7px;box-sizing:border-box;box-shadow:0 1.5px #d17d5b}.styles__healthBarInside___2M0Fs-camelCase{background-color:#41afd4;border-radius:7px;width:100%;height:100%;transform-origin:left center;position:relative;overflow:hidden}.styles__healthBarInsideShadow___2XJ1i-camelCase{position:absolute;width:100%;height:50%;bottom:0;background-color:rgba(0,0,0,.2)}.styles__loadButton___3cm0N-camelCase{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:26px;color:#fff;font-family:Titan One,sans-serif;text-shadow:0 3px #2e4082;width:190px;height:63.62385px;background-image:url(https://media.blooket.com/image/upload/v1669333771/Media/defense/nextButton.svg);background-size:100%;padding-bottom:4px;margin:20px auto 0;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:.2s}.styles__loadButton___3cm0N-camelCase:hover{transform:scale(.95)}.styles__emptySave___3cL3--camelCase{font-size:54px;padding:20px 0;margin:40px auto 30px;font-weight:700;text-shadow:0 4px rgba(0,0,0,.2)}.styles__backButton___1CUuC-camelCase{position:absolute;top:10px;left:10px;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:28px;color:#fff;font-family:Titan One,sans-serif;text-shadow:0 3px #2e4082;width:150px;height:50.22936px;background-image:url(https://media.blooket.com/image/upload/v1669333771/Media/defense/nextButton.svg);background-size:100%;padding-bottom:4px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;cursor:pointer;transition:transform .2s}.styles__backButton___1CUuC-camelCase:hover{transform:scale(.95)}.styles__stageText___3kElt-camelCase{font-size:28px;font-weight:700;margin-right:10px;color:#3a3a3a;line-height:50px;font-family:Nunito,sans-serif;text-align:right;overflow:hidden}.styles__mapsHolder___23_JH-camelCase{display:flex;flex-flow:row wrap;justify-content:center;align-items:center;width:95%;margin:5px 2.5%}.styles__mapContainer___6xBzu-camelCase{color:#fff;margin:15px 20px;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;padding:10px 0;box-sizing:border-box;background-color:#af4a2c;width:300px;height:350px;outline:none;cursor:pointer;transition:transform .2s}.styles__mapContainer___6xBzu-camelCase:hover{transform:scale(.95)}.styles__mapContainerInside___3BPm9-camelCase{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:90%;height:100%;margin:auto;text-align:center}.styles__mapImg___32l-8-camelCase{width:200px;border-radius:5px;margin-bottom:10px;box-shadow:4px 4px rgba(0,0,0,.2)}.styles__mapName___1A2lr-camelCase{font-size:28px;line-height:30px;font-family:Titan One,sans-serif;text-shadow:0 4px rgba(0,0,0,.2)}.styles__mapDifficulty___uhlFN-camelCase{font-size:20px;margin-top:5px;text-shadow:0 2px rgba(0,0,0,.2)}.styles__difficultyContainer___1BVkA-camelCase{color:#fff;margin:15px 20px;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;padding:10px 0;box-sizing:border-box;background-color:#af4a2c;width:220px;height:220px;outline:none;cursor:pointer;transition:transform .2s}.styles__difficultyContainer___1BVkA-camelCase:hover{transform:scale(.95)}.styles__difficultyTexture___2In42-camelCase,.styles__difficultyTexture2___3HlQL-camelCase{background-size:220px 220px}.styles__difficultyImgContainer___2lN8M-camelCase{width:130px;height:130px;margin-bottom:10px;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.2);border-radius:5px;padding:5px}.styles__difficultyImg___51Xea-camelCase{height:100%;-o-object-fit:contain;object-fit:contain;filter:drop-shadow(0 0 3px rgba(0,0,0,.2))}.styles__difficultyName___2TlPk-camelCase{font-size:24px;line-height:26px;font-family:Titan One,sans-serif;text-shadow:0 3px rgba(0,0,0,.2)}@media only screen and (max-width:755px){.styles__loginText___2c0kN-camelCase{width:80%;font-size:14px}.styles__header___1y44s-camelCase{padding:10px 0 20px;width:300px;margin:80px auto 50px}.styles__headerText___ekwtF-camelCase{font-size:42px;line-height:46px;text-shadow:0 4px rgba(0,0,0,.2)}}",""]),t.locals={background:"styles__background___3TX-e-camelCase",contentHolder:"styles__contentHolder___AgduQ-camelCase",logo:"styles__logo___1guNh-camelCase",buttonContainer:"styles__buttonContainer___1erwS-camelCase",button:"styles__button___1ZesM-camelCase",loginText:"styles__loginText___2c0kN-camelCase",header:"styles__header___1y44s-camelCase",headerText:"styles__headerText___ekwtF-camelCase",savesHolder:"styles__savesHolder___1PFjX-camelCase",saveContainer:"styles__saveContainer___3Zzje-camelCase",saveContainerInside:"styles__saveContainerInside___2ojcs-camelCase",saveBorderLeft:"styles__saveBorderLeft___2qLhM-camelCase",saveBorderRight:"styles__saveBorderRight___1S2b2-camelCase",saveTopBottom:"styles__saveTopBottom___Hf7Zv-camelCase",difficultyTexture:"styles__difficultyTexture___2In42-camelCase",difficultyTexture2:"styles__difficultyTexture2___3HlQL-camelCase",longTexture:"styles__longTexture___3_I7n-camelCase",saveTexture:"styles__saveTexture___G5JTc-camelCase",saveTexture2:"styles__saveTexture2___29HJW-camelCase",saveTitle:"styles__saveTitle___1hPCd-camelCase",saveRow:"styles__saveRow___2tRsU-camelCase",saveIcon:"styles__saveIcon___2jxer-camelCase",healthBar:"styles__healthBar___1pbEj-camelCase",healthBarInside:"styles__healthBarInside___2M0Fs-camelCase",healthBarInsideShadow:"styles__healthBarInsideShadow___2XJ1i-camelCase",loadButton:"styles__loadButton___3cm0N-camelCase",emptySave:"styles__emptySave___3cL3--camelCase",backButton:"styles__backButton___1CUuC-camelCase",stageText:"styles__stageText___3kElt-camelCase",mapsHolder:"styles__mapsHolder___23_JH-camelCase",mapContainer:"styles__mapContainer___6xBzu-camelCase",mapContainerInside:"styles__mapContainerInside___3BPm9-camelCase",mapImg:"styles__mapImg___32l-8-camelCase",mapName:"styles__mapName___1A2lr-camelCase",mapDifficulty:"styles__mapDifficulty___uhlFN-camelCase",difficultyContainer:"styles__difficultyContainer___1BVkA-camelCase",difficultyImgContainer:"styles__difficultyImgContainer___2lN8M-camelCase",difficultyImg:"styles__difficultyImg___51Xea-camelCase",difficultyName:"styles__difficultyName___2TlPk-camelCase"}},drio:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("ANjH"),i=n("/MKj"),s=n("17x9"),c=n.n(s),l=n("55Ip"),u=n("TSYQ"),f=n.n(u),d=n("oPOS"),p=n("67XC"),m=n.n(p),h=n("VgyX"),y=n("Xst1"),g=n.n(y),v=n("ZVoO"),b=n("XTAU"),_=n("KqbR"),w=n("74sb"),x=n("5BnW"),k=n("t3SV"),j=n("8qja"),E=n("28sW"),C=n("pLIe");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===O(o)?o:String(o)),r)}var a,o}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var a=B(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(i,e);var t,n,r,o=L(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={ready:!1,historyId:"",standings:[],muted:!!e.host&&e.host.muted},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.props.host&&this.props.host.standings&&this.props.host.standings[0]){var t=JSON.parse(JSON.stringify(this.props.host));this.setState({standings:t.standings},(function(){e.startTimeout=setTimeout((function(){var n={};e.props.liveGameController.getDatabaseVal("c",(function(r){var a=r||{};Object.entries(a).forEach((function(e){var t=S(e,2),r=t[0],a=t[1],o={};if(a.i)if(Array.isArray(a.i))for(var i=0;i<a.i.length;i++){var s=a.i[i];s&&(o[i]=s)}else o=a.i;else o={};var c={};if(a.c)if(Array.isArray(a.c))for(var l=0;l<a.c.length;l++){var u=a.c[l];u&&(c[l]=u)}else c=a.c;else c={};n[r]={corrects:c,incorrects:o}})),e.props.host&&e.props.host.id&&(e.props.liveGameController.removeHostAndDeleteGame(),e.props.deleteHost()),e.waitTimeout=setTimeout((function(){if(e.state.standings.length>0){var r=Object(w.c)();k.a.post("/api/history",{t:r,standings:t.standings.map((function(e){return{blook:e.blook,name:e.name,place:e.place,dmg:isNaN(e.dmg)?0:Math.min(Math.round(Number(e.dmg)),C.a),corrects:n[e.name]?n[e.name].corrects:{},incorrects:n[e.name]?n[e.name].incorrects:{}}})),settings:t.settings,setId:t.setId}).then((function(t){e.setState({historyId:t.data._id,ready:!0})})).catch((function(e){d.b.logError(e)}))}}),2e3)}))}),3500)}))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimeout),clearTimeout(this.waitTimeout),this.props.host&&this.props.host.id&&(this.props.liveGameController.removeHostAndDeleteGame(),this.props.deleteHost())}},{key:"render",value:function(){if(this.props.host&&this.props.host.standings&&this.props.host.standings[0]||this.state.standings&&this.state.standings[0])return a.a.createElement("div",{className:f()(g.a.body,m.a.background),style:{overflowY:this.state.ready?"auto":"hidden"}},a.a.createElement(b.a,{title:"Host Blooket",desc:"Host a game of Blooket with any question set. Then, have players join and answer questions to compete in an action-packed activity."}),this.state.standings.length>0?a.a.createElement(v.a,{standings:this.state.standings,stats:this.state.standings.map((function(e){return"".concat(Object(w.n)(e.dmg)," Damage")})),gameId:this.props.gameId,historyId:this.state.historyId,muted:this.state.muted,theme:"defense2"}):null,j.b?a.a.createElement(_.a,null):null);window.location.href="".concat(E.a.dashboard,"/")}}])&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.a.Component);A.propTypes={gameId:c.a.string,host:c.a.object,liveGameController:c.a.object,deleteHost:c.a.func.isRequired};t.a=Object(l.f)(Object(i.b)((function(e){return{host:e.hosts.host,gameId:e.hosts.id}}),(function(e){return Object(o.b)({deleteHost:h.d},e)}))(Object(x.d)(A)))},r6uj:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("55Ip"),i=n("/MKj"),s=n("ANjH"),c=n("17x9"),l=n.n(c),u=n("oPOS"),f=n("5BnW"),d=n("E8Bj"),p=n("74sb"),m=n("VgyX"),h=n("t3SV");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),s=new O(a||[]);return r(i,"_invoke",{value:k(e,n,s)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function d(){}function p(){}function m(){}var h={};c(h,o,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(S([])));b&&b!==t&&n.call(b,o)&&(h=b);var _=m.prototype=d.prototype=Object.create(h);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t((function(a,i){!function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==y(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function k(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return T()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=j(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(x.prototype),c(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function v(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,s,"next",e)}function s(e){v(o,r,a,i,s,"throw",e)}i(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===y(o)?o:String(o)),r)}var a,o}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(s,e);var t,n,r,a,o,i=k(s);function s(){return _(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"componentDidMount",value:function(){var e=Object(p.j)("gid"),t=Object(p.j)("hwId");Object(p.m)(e)?(Object(p.x)(e),this.launchHostedGameSettings(e)):Object(p.m)(t)?(Object(p.w)(t),this.launchHomeworkSettings(t)):u.b.logError("cannot load HostDefense2LandingPage without gid or hwId")}},{key:"launchHostedGameSettings",value:(o=b(g().mark((function e(t){var n,r,a=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/hostedgames/forhost?id=".concat(t));case 2:n=e.sent,r=n.data.questionSetId,this.props.addGameId(r),this.props.setSettings({type:"Defense2",method:"host"}),setTimeout((function(){a.props.history.replace("/host/settings?gid=".concat(t))}),500);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"launchHomeworkSettings",value:(a=b(g().mark((function e(t){var n,r,a=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/homeworks/forhost?id=".concat(t));case 2:n=e.sent,r=n.data.questionSetId,this.props.addGameId(r),this.props.setSettings({type:"Defense2",method:"assign"}),setTimeout((function(){a.props.history.replace("/host/assign?hwId=".concat(t))}),500);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"render",value:function(){return null}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.a.Component);C.propTypes={history:l.a.object.isRequired,addGameId:l.a.func.isRequired,setSettings:l.a.func.isRequired};t.a=Object(d.c)(Object(o.f)(Object(i.b)((function(){return{}}),(function(e){return Object(s.b)({addGameId:m.a,setSettings:m.e},e)}))(Object(f.d)(C))))},vTRD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("y69Q");function a(e){return{type:r.a,defense2:e}}},y69Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="SET_DEFENSE_2"},yRA3:function(e,t,n){var r=n("9rsM");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},yWkK:function(e,t,n){var r=n("c2wj");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)}}]);